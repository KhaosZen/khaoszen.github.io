<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Zen Space</title>
    <description>Star Wars Fan|Gundam is men's romance|Core Gamer|Individual Sports Fan|Han Shot First</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 07 Jul 2017 19:43:12 +0800</pubDate>
    <lastBuildDate>Fri, 07 Jul 2017 19:43:12 +0800</lastBuildDate>
    <generator>Jekyll v3.4.0</generator>
    
      <item>
        <title>The Ugly Duckling</title>
        <description>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;The Ugly Duckling&lt;/title&gt;
&lt;style title=&quot;Twine CSS&quot;&gt;@-webkit-keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes appear{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@-webkit-keyframes rumble{50%{-webkit-transform:translateY(-0.2em);transform:translateY(-0.2em)}}@keyframes rumble{50%{-webkit-transform:translateY(-0.2em);transform:translateY(-0.2em)}}@-webkit-keyframes shudder{50%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@keyframes shudder{50%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@-webkit-keyframes box-flash{0%{background-color:white;color:white}}@keyframes box-flash{0%{background-color:white;color:white}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}20%{-webkit-transform:scale(1.2, 1.2);transform:scale(1.2, 1.2)}40%{-webkit-transform:scale(0.9, 0.9);transform:scale(0.9, 0.9)}60%{-webkit-transform:scale(1.05, 1.05);transform:scale(1.05, 1.05)}80%{-webkit-transform:scale(0.925, 0.925);transform:scale(0.925, 0.925)}to{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}@keyframes pulse{0%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}20%{-webkit-transform:scale(1.2, 1.2);transform:scale(1.2, 1.2)}40%{-webkit-transform:scale(0.9, 0.9);transform:scale(0.9, 0.9)}60%{-webkit-transform:scale(1.05, 1.05);transform:scale(1.05, 1.05)}80%{-webkit-transform:scale(0.925, 0.925);transform:scale(0.925, 0.925)}to{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}@-webkit-keyframes shudder-in{0%, to{-webkit-transform:translateX(0em);transform:translateX(0em)}5%, 25%, 45%{-webkit-transform:translateX(-1em);transform:translateX(-1em)}15%, 35%, 55%{-webkit-transform:translateX(1em);transform:translateX(1em)}65%{-webkit-transform:translateX(-0.6em);transform:translateX(-0.6em)}75%{-webkit-transform:translateX(0.6em);transform:translateX(0.6em)}85%{-webkit-transform:translateX(-0.2em);transform:translateX(-0.2em)}95%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@keyframes shudder-in{0%, to{-webkit-transform:translateX(0em);transform:translateX(0em)}5%, 25%, 45%{-webkit-transform:translateX(-1em);transform:translateX(-1em)}15%, 35%, 55%{-webkit-transform:translateX(1em);transform:translateX(1em)}65%{-webkit-transform:translateX(-0.6em);transform:translateX(-0.6em)}75%{-webkit-transform:translateX(0.6em);transform:translateX(0.6em)}85%{-webkit-transform:translateX(-0.2em);transform:translateX(-0.2em)}95%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}.debug-mode tw-expression[type=hookref]{background-color:rgba(115,123,140,0.15)}.debug-mode tw-expression[type=hookref]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;?&quot; attr(name)}.debug-mode tw-expression[type=variable]{background-color:rgba(140,128,115,0.15)}.debug-mode tw-expression[type=variable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;$&quot; attr(name)}.debug-mode tw-expression[type=tempVariable]{background-color:rgba(140,128,115,0.15)}.debug-mode tw-expression[type=tempVariable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;_&quot; attr(name)}.debug-mode tw-expression[type=macro]:nth-of-type(4n+0){background-color:rgba(136,153,102,0.15)}.debug-mode tw-expression[type=macro]:nth-of-type(2n+1){background-color:rgba(102,153,102,0.15)}.debug-mode tw-expression[type=macro]:nth-of-type(4n+2){background-color:rgba(102,153,136,0.15)}.debug-mode tw-expression[type=macro][name=&quot;display&quot;]{background-color:rgba(0,170,255,0.1) !important}.debug-mode tw-expression[type=macro][name=&quot;if&quot;],.debug-mode tw-expression[type=macro][name=&quot;if&quot;]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name=&quot;unless&quot;],.debug-mode tw-expression[type=macro][name=&quot;unless&quot;]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name=&quot;elseif&quot;],.debug-mode tw-expression[type=macro][name=&quot;elseif&quot;]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name=&quot;else&quot;],.debug-mode tw-expression[type=macro][name=&quot;else&quot;]+tw-hook:not([name]){background-color:rgba(0,255,0,0.1) !important}.debug-mode tw-expression[type=macro].false{background-color:rgba(255,0,0,0.2) !important}.debug-mode tw-expression[type=macro].false+tw-hook:not([name]){display:none}.debug-mode tw-expression[type=macro][name=&quot;a&quot;],.debug-mode tw-expression[type=macro][name=&quot;array&quot;],.debug-mode tw-expression[type=macro][name=&quot;datamap&quot;],.debug-mode tw-expression[type=macro][name=&quot;dataset&quot;],.debug-mode tw-expression[type=macro][name=&quot;colour&quot;],.debug-mode tw-expression[type=macro][name=&quot;color&quot;],.debug-mode tw-expression[type=macro][name=&quot;num&quot;],.debug-mode tw-expression[type=macro][name=&quot;number&quot;],.debug-mode tw-expression[type=macro][name=&quot;text&quot;],.debug-mode tw-expression[type=macro][name=&quot;print&quot;]{background-color:rgba(255,255,0,0.2) !important}.debug-mode tw-expression[type=macro][name=&quot;put&quot;],.debug-mode tw-expression[type=macro][name=&quot;set&quot;]{background-color:rgba(255,128,0,0.2) !important}.debug-mode tw-expression[type=macro][name=&quot;script&quot;]{background-color:rgba(255,191,0,0.2) !important}.debug-mode tw-expression[type=macro][name=&quot;style&quot;]{background-color:rgba(185,198,198,0.2) !important}.debug-mode tw-expression[type=macro][name^=&quot;link&quot;],.debug-mode tw-expression[type=macro][name^=&quot;click&quot;],.debug-mode tw-expression[type=macro][name^=&quot;mouseover&quot;],.debug-mode tw-expression[type=macro][name^=&quot;mouseout&quot;]{background-color:rgba(128,223,32,0.2) !important}.debug-mode tw-expression[type=macro][name^=&quot;replace&quot;],.debug-mode tw-expression[type=macro][name^=&quot;prepend&quot;],.debug-mode tw-expression[type=macro][name^=&quot;append&quot;],.debug-mode tw-expression[type=macro][name^=&quot;remove&quot;]{background-color:rgba(223,96,32,0.2) !important}.debug-mode tw-expression[type=macro][name=&quot;live&quot;]{background-color:rgba(32,96,223,0.2) !important}.debug-mode tw-expression[type=macro]::before{content:&quot;(&quot; attr(name) &quot;:)&quot;;padding:0 0.5rem;font-size:1rem;vertical-align:middle;line-height:normal;background-color:inherit;border:1px solid rgba(255,255,255,0.5)}.debug-mode tw-hook{background-color:rgba(0,85,255,0.1) !important}.debug-mode tw-hook::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;[&quot;}.debug-mode tw-hook::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;]&quot;}.debug-mode tw-hook[name]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;]&lt;&quot; attr(name) &quot;|&quot;}.debug-mode tw-pseudo-hook{background-color:rgba(255,170,0,0.1) !important}.debug-mode tw-collapsed::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;{&quot;}.debug-mode tw-collapsed::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;}&quot;}.debug-mode tw-verbatim::before,.debug-mode tw-verbatim::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:&quot;`&quot;}.debug-mode tw-align[style*=&quot;text-align: center&quot;]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 50%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*=&quot;text-align: left&quot;]{background:linear-gradient(to right, rgba(255,204,189,0.25) 0%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*=&quot;text-align: right&quot;]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 100%)}.debug-mode tw-column{background-color:rgba(189,228,255,0.2)}.debug-mode tw-enchantment{animation:enchantment 0.5s infinite;-webkit-animation:enchantment 0.5s infinite;border:1px solid}.debug-mode tw-link::after,.debug-mode tw-broken-link::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(passage-name)}.debug-mode tw-include{background-color:rgba(204,128,51,0.1)}.debug-mode tw-include::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(type) ' &quot;' attr(title) '&quot;'}@keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}@-webkit-keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}tw-debugger{position:fixed;box-sizing:border-box;bottom:0;right:0;z-index:999999;min-width:10em;min-height:1em;padding:1em;font-size:1.25em;font-family:sans-serif;border-left:solid #000 2px;border-top:solid #000 2px;border-top-left-radius:.5em;background:#fff;opacity:1}tw-debugger select{margin-right:1em;width:12em}tw-debugger .show-invisibles{border-radius:3px;border:solid #999 1px;background-color:#fff;font-size:inherit}.debug-mode tw-debugger .show-invisibles{background-color:#eee;box-shadow:inset #ddd 3px 5px 0.5em}tw-debugger .variables{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:absolute;bottom:100%;left:-2px;right:0;padding:1em;max-height:90vh;overflow-y:scroll;overflow-x:hidden;z-index:999998;background:#fff;border:inherit;border-top-left-radius:.5em;border-bottom-left-radius:.5em;font-size:0.8em}tw-debugger .variables:empty{display:none}tw-debugger .variables .variable-row{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row}tw-debugger .variables .variable-row:nth-child(2n){background:#EEE}tw-debugger .variables .variable-name{display:inline-block;width:50%}tw-debugger .variables .variable-name::before{content:&quot;$&quot;}tw-debugger .variables .variable-value{display:inline-block;width:50%}tw-link,.link,tw-icon,.enchantment-clickblock{cursor:pointer}tw-link,.enchantment-link{color:#4169E1;font-weight:bold;text-decoration:none;transition:color 0.2s ease-in-out}tw-link:hover,.enchantment-link:hover{color:#00bfff}tw-link:active,.enchantment-link:active{color:#DD4B39}.visited{color:#6941e1}.visited:hover{color:#E3E}tw-broken-link{color:#993333;border-bottom:2px solid #993333;cursor:not-allowed}.enchantment-mouseover{border-bottom:1px dashed #666}.enchantment-mouseout{border:rgba(64,149,191,0.25) 1px solid}.enchantment-mouseout:hover{background-color:rgba(64,149,191,0.25);border:transparent 1px solid;border-radius:0.2em}.enchantment-clickblock{box-shadow:inset 0 0 0 0.5vmax;display:block;color:rgba(65,105,225,0.5);transition:color 0.2s ease-in-out}.enchantment-clickblock:hover{color:rgba(0,191,255,0.5)}.enchantment-clickblock:active{color:rgba(222,78,59,0.5)}html{margin:0;height:100%;overflow-x:hidden}*,:before,:after{position:relative;box-sizing:inherit}body{margin:0;height:100%}tw-storydata{display:none}tw-story{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;font:100% Georgia, serif;box-sizing:border-box;width:100%;min-height:100%;font-size:1.5em;line-height:1.5em;padding:5% 20%;margin:0;background-color:#000;color:#fff}tw-passage{display:block}br+br{display:block;height:0;margin:0.8ex 0}tw-sidebar{left:-5em;width:3em;position:absolute;text-align:center;display:block}tw-icon{display:block;margin:0.5em 0;opacity:0.1;font-size:2.75em}tw-icon:hover{opacity:0.3}tw-hook:empty,tw-expression:empty{display:none}tw-error{display:inline-block;border-radius:0.2em;padding:0.2em;font-size:1rem;cursor:help}tw-error.error{background-color:rgba(223,58,190,0.4);color:#fff}tw-error.warning{background-color:rgba(223,140,58,0.4);color:#fff;display:none}.debug-mode tw-error.warning{display:inline}tw-error-explanation{display:block;font-size:0.8rem;line-height:1rem}tw-error-explanation-button{cursor:pointer;line-height:0em;border-radius:1px;border:1px solid black;font-size:0.8rem;margin:0 0.4rem;opacity:0.5}tw-error-explanation-button .folddown-arrowhead{display:inline-block}tw-notifier{border-radius:0.2em;padding:0.2em;font-size:1rem;background-color:rgba(223,182,58,0.4);display:none}.debug-mode tw-notifier{display:inline}tw-notifier::before{content:attr(message)}tw-colour{border:1px solid black;display:inline-block;width:1em;height:1em}h1{font-size:3em}h2{font-size:2.25em}h3{font-size:1.75em}h1,h2,h3,h4,h5,h6{line-height:1rem;margin:0.3em 0 0.6em 0}pre{font-size:1rem}small{font-size:70%}big{font-size:120%}mark{color:rgba(0,0,0,0.6);background-color:#ff9}ins{color:rgba(0,0,0,0.6);background-color:rgba(255,242,204,0.5);border-radius:0.5em;box-shadow:0em 0em 0.2em #ffe699;text-decoration:none}del{background-color:#000;text-decoration:none}center{text-align:center;margin:0 auto;width:60%}blink{text-decoration:none;animation:fade-in-out 1s steps(1, end) infinite alternate;-webkit-animation:fade-in-out 1s steps(1, end) infinite alternate}tw-align{display:block}tw-columns{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:horizontal;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;-moz-justify-content:space-between;justify-content:space-between}tw-outline{color:white;text-shadow:-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000}tw-shadow{text-shadow:0.08em 0.08em 0.08em #000}tw-emboss{text-shadow:0.08em 0.08em 0em #000;color:white}tw-condense{letter-spacing:-0.08em}tw-expand{letter-spacing:0.1em}tw-blur{color:transparent;text-shadow:0em 0em 0.08em #000}tw-blurrier{color:transparent;text-shadow:0em 0em 0.2em #000}tw-blurrier::selection{background-color:transparent;color:transparent}tw-blurrier::-moz-selection{background-color:transparent;color:transparent}tw-smear{color:transparent;text-shadow:0em 0em 0.02em rgba(0,0,0,0.75),-0.2em 0em 0.5em rgba(0,0,0,0.5),0.2em 0em 0.5em rgba(0,0,0,0.5)}tw-mirror{display:inline-block;transform:scaleX(-1);-webkit-transform:scaleX(-1)}tw-upside-down{display:inline-block;transform:scaleY(-1);-webkit-transform:scaleY(-1)}tw-fade-in-out{text-decoration:none;animation:fade-in-out 2s ease-in-out infinite alternate;-webkit-animation:fade-in-out 2s ease-in-out infinite alternate}tw-rumble{-webkit-animation:rumble linear 0.1s 0s infinite;animation:rumble linear 0.1s 0s infinite;display:inline-block}tw-shudder{-webkit-animation:shudder linear 0.1s 0s infinite;animation:shudder linear 0.1s 0s infinite;display:inline-block}tw-shudder-in{animation:shudder-in 1s ease-out;-webkit-animation:shudder-in 1s ease-out}.transition-in{-webkit-animation:appear 0ms step-start;animation:appear 0ms step-start}.transition-out{-webkit-animation:appear 0ms step-end;animation:appear 0ms step-end}[data-t8n^=fade-in].transition-in{-webkit-animation:appear .8s;animation:appear .8s}[data-t8n^=fade-in].transition-out{display:none}[data-t8n^=dissolve].transition-in{-webkit-animation:appear .8s;animation:appear .8s}[data-t8n^=dissolve].transition-out{-webkit-animation:appear .8s reverse;animation:appear .8s reverse}[data-t8n^=shudder-in].transition-in,.transition-in[data-t8n^=shudder]{display:inline-block;-webkit-animation:shudder-in .8s;animation:shudder-in .8s}[data-t8n^=shudder-out].transition-out,.transition-out[data-t8n^=shudder]{display:inline-block;-webkit-animation:shudder-out .8s;animation:shudder-out .8s}[data-t8n^=boxflash].transition-in{-webkit-animation:box-flash .8s;animation:box-flash .8s}[data-t8n^=pulse].transition-in{-webkit-animation:pulse .8s;animation:pulse .8s;display:inline-block}[data-t8n^=pulse].transition-out{-webkit-animation:pulse .8s reverse;animation:pulse .8s reverse;display:inline-block}[data-t8n$=fast]{animation-duration:.4s;-webkit-animation-duration:.4s}[data-t8n$=slow]{animation-duration:1.6s;-webkit-animation-duration:1.6s}
&lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;tw-story&gt;&lt;/tw-story&gt;

&lt;tw-storydata name=&quot;The Ugly Duckling&quot; startnode=&quot;1&quot; creator=&quot;Twine&quot; creator-version=&quot;2.1.3&quot; ifid=&quot;02D812EB-5581-44BE-B002-25FEF30A7452&quot; format=&quot;Harlowe&quot; format-version=&quot;2.0.1&quot; options=&quot;&quot; hidden&gt;&lt;style role=&quot;stylesheet&quot; id=&quot;twine-user-stylesheet&quot; type=&quot;text/twine-css&quot;&gt;&lt;/style&gt;&lt;script role=&quot;script&quot; id=&quot;twine-user-script&quot; type=&quot;text/twine-javascript&quot;&gt;&lt;/script&gt;&lt;tw-passagedata pid=&quot;1&quot; name=&quot;Prologue&quot; tags=&quot;&quot; position=&quot;400.3333333333333,1.6666666666666572&quot;&gt;Once upon a time, in the centre of a thick wood. 

In this snug retreat sat a (text-colour:yellow)[duck] on her nest, watching for (text-colour:yellow)[her] young brood to hatch; (text-colour:yellow)[she] was beginning to get tired of her task, for the little ones were a long time coming out of their shells, and (text-colour:yellow)[she] seldom had any visitors. The other (text-colour:yellow)[ducks] liked much better to swim about in the (text-colour:blue)[river] than to climb the slippery banks, and sit under a burdock leaf, to have a gossip with (text-colour:yellow)[her].

(text-colour:yellow)[You] are one of the ducklings in that shell. (text-colour:gray)[You] feel the warmth from the outside world.

[[Break the shell and get out.]]
[[I don&amp;#x27;t get out, it&amp;#x27;s too dangerous!]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;2&quot; name=&quot;Break the shell and get out.&quot; tags=&quot;&quot; position=&quot;326.3333333333333,151.66666666666666&quot;&gt;&amp;quot;Crack!&amp;quot;
The shell breaks and the sunlight spread on your body.
(text-colour:gray)[You] find yourself in a narrow nest with the other ducklings.
(text-colour:yellow)[&amp;quot;{(live: 1s)[
    (either: &amp;quot;Quack!&amp;quot;, &amp;quot;Quack, quack!&amp;quot;)
]}&amp;quot;]
Said the (text-colour:yellow)[mother].
(text-colour:gray)[You] lift your head and cried.
[[&amp;quot;Quack,quack.&amp;quot;]]
[[&amp;quot;Peep,peep.&amp;quot;]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;3&quot; name=&quot;I don&amp;#x27;t get out, it&amp;#x27;s too dangerous!&quot; tags=&quot;&quot; position=&quot;565.3333333333334,151.66666666666666&quot;&gt;&amp;quot;Crack!&amp;quot;
The shell breaks and the ducklings get out.
(text-colour:yellow)[&amp;quot;{(live: 1s)[
    (either: &amp;quot;Quack!&amp;quot;, &amp;quot;Quack, quack!&amp;quot;)
]}&amp;quot;]
Said the (text-colour:yellow)[ducklings], and then the mother quacked as well as (text-colour:yellow)[she] could, and the ducklings looked about them on every side at the large green leaves. 
[[Break the shell and get out.]]
[[No, I can still wait.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;4&quot; name=&quot;&amp;quot;Quack,quack.&amp;quot;&quot; tags=&quot;&quot; position=&quot;185.33333333333334,301.66666666666663&quot;&gt;&amp;quot;How large the world is,&amp;quot; said the young (text-colour:yellow)[ducks], when they found how much more room they now had than while they were inside the egg-shell.
&amp;quot;Do you imagine this is the whole world?&amp;quot; asked the (text-colour:yellow)[mother]; &amp;quot;Wait till you have seen the garden; it stretches far beyond that to the parson&amp;#x27;s field, but I have never ventured to such a distance. Are you all out?&amp;quot; 
[[&amp;quot;Quack!&amp;quot;]]
[[&amp;quot;Peep!&amp;quot;]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;5&quot; name=&quot;&amp;quot;Peep,peep.&amp;quot;&quot; tags=&quot;&quot; position=&quot;371.3333333333333,302.66666666666663&quot;&gt;&amp;quot;How large the world is,&amp;quot; said the young (text-colour:yellow)[ducks], when they found how much more room they now had than while they were inside the egg-shell.
&amp;quot;Do you imagine this is the whole world?&amp;quot; asked the (text-colour:yellow)[mother]; &amp;quot;Wait till you have seen the garden; it stretches far beyond that to the parson&amp;#x27;s field, but I have never ventured to such a distance. Are you all out?&amp;quot; 
[[&amp;quot;Quack!&amp;quot;]]
[[&amp;quot;Peep!&amp;quot;]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;6&quot; name=&quot;No, I can still wait.&quot; tags=&quot;&quot; position=&quot;716.3333333333334,303.66666666666663&quot;&gt;&amp;quot;How large the world is,&amp;quot; said the young (text-colour:yellow)[ducks], when they found how much more room they now had than while they were inside the egg-shell.
&amp;quot;Do you imagine this is the whole world?&amp;quot; asked the (text-colour:yellow)[mother]; &amp;quot;Wait till you have seen the garden; it stretches far beyond that to the parson&amp;#x27;s field, but I have never ventured to such a distance. Are you all out?&amp;quot; she continued, rising; &amp;quot;No, I declare, the largest egg lies there still. I wonder how long this is to last, I am quite tired of it;&amp;quot; and she seated herself again on the nest.
[[Break, the shell.]]
[[It&amp;#x27;s not the time.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;7&quot; name=&quot;&amp;quot;Peep!&amp;quot;&quot; tags=&quot;&quot; position=&quot;342.3333333333333,629.6666666666666&quot;&gt;&amp;quot;Your child sounds weird, and why he is so large and ugly?I bet he&amp;#x27;s not your child, he&amp;#x27;s a turkey!&amp;quot;Said an (text-colour:yellow)[old duck], who paid her a visit.
The mother stared at you and exclaimed, &amp;quot;It is very large and not at all like the others but the sound is alright. I wonder if it really is a turkey. We shall soon find it out, however when we go to the water. It must go in, if I have to push it myself.&amp;quot;
[[A sunny day has come]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;8&quot; name=&quot;&amp;quot;Quack!&amp;quot;&quot; tags=&quot;&quot; position=&quot;176.33333333333334,628.6666666666666&quot;&gt;&amp;quot;Your child sounds weird, and why he is so large and ugly?I bet he&amp;#x27;s not your child, he&amp;#x27;s a turkey!&amp;quot;Said an (text-colour:yellow)[old duck], who paid her a visit.
The mother stared at you and exclaimed, &amp;quot;It is very large and not at all like the others but the sound is alright. I wonder if it really is a turkey. We shall soon find it out, however when we go to the water. It must go in, if I have to push it myself.&amp;quot;
[[Next day is coming]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;9&quot; name=&quot;Break, the shell.&quot; tags=&quot;&quot; position=&quot;571.3333333333334,301.66666666666663&quot;&gt;&amp;quot;Crack!&amp;quot;
Finally, the shell breaks and the sunlight spread on your body.
(text-colour:gray)[You] find yourself in a narrow nest with the other ducklings.
(text-colour:gray)[You] lift your head and cried.
[[&amp;quot;Quack!&amp;quot;]]
[[&amp;quot;Peep!&amp;quot;]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;10&quot; name=&quot;It&amp;#x27;s not the time.&quot; tags=&quot;&quot; position=&quot;713.3333333333334,475.66666666666663&quot;&gt;&amp;quot;Well, how are you getting on?&amp;quot; asked an old duck, who paid her a visit.

&amp;quot;One egg is not hatched yet,&amp;quot; said the duck, &amp;quot;it will not break. But just look at all the others, are they not the prettiest little ducklings you ever saw? They are the image of their father, who is so unkind, he never comes to see.&amp;quot;

&amp;quot;I think I will sit on it a little while longer,&amp;quot; said the duck; &amp;quot;as I have sat so long already, a few days will be nothing.&amp;quot;

[[Break out]]
[[NO!]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;11&quot; name=&quot;Break out&quot; tags=&quot;&quot; position=&quot;555.3333333333334,479.66666666666663&quot;&gt;At last the large egg broke, and a young one -- you crept forth crying,
[[&amp;quot;Quack, quack.&amp;quot; ]]
[[&amp;quot;Peep, peep&amp;quot;]]
You are very large and ugly. The old duck stared at it and exclaimed, &amp;quot;It is very large and not at all like the others. I wonder if it really is a turkey. We shall soon find it out, however when we go to the water. It must go in, if I have to push it myself.&amp;quot;&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;12&quot; name=&quot;NO!&quot; tags=&quot;&quot; position=&quot;878.3333333333334,476.66666666666663&quot;&gt;You died because of the lack of the oxygen.
(text-colour:red)[R.I.P.]
(link-goto: &amp;quot;Retry&amp;quot;, &amp;quot;Prologue&amp;quot;)&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;13&quot; name=&quot;&amp;quot;Quack, quack.&amp;quot; &quot; tags=&quot;&quot; position=&quot;486.3333333333333,628.6666666666666&quot;&gt;The mother stared at you and exclaimed, &amp;quot;It is very large and not at all like the others but the sound is alright. I wonder if it really is a turkey. We shall soon find it out, however when we go to the water. It must go in, if I have to push it myself.&amp;quot;
[[Next day is coming]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;14&quot; name=&quot;&amp;quot;Peep, peep&amp;quot;&quot; tags=&quot;&quot; position=&quot;632.3333333333334,629.6666666666666&quot;&gt;The mother stared at you and exclaimed, &amp;quot;It is very large and not at all like the others and the sound is weird,too. I wonder if it really is a turkey. We shall soon find it out, however when we go to the water. It must go in, if I have to push it myself.&amp;quot;
[[A sunny day has come]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;15&quot; name=&quot;Next day is coming&quot; tags=&quot;&quot; position=&quot;303.3333333333333,799.6666666666666&quot;&gt;On the next day the weather was delightful, and the sun shone brightly on the green burdock leaves, so the mother duck took her young brood down to the water, and jumped in with a splash. 
&amp;quot;Quack, quack,&amp;quot; cried she, and one after another the little ducklings jumped in. 
The water closed over their heads, but they came up again in an instant, and swam about quite prettily with their legs paddling under them as easily as possible, and you were also in the water swimming with them.
[[After swimming]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;16&quot; name=&quot;A sunny day has come&quot; tags=&quot;&quot; position=&quot;525.3333333333334,799.6666666666666&quot;&gt; On the next day the weather was delightful, and the sun shone brightly on the green burdock leaves, so the mother duck took her young brood down to the water, and jumped in with a splash. 
 &amp;quot;Quack, quack,&amp;quot; cried she, and one after another the little ducklings jumped in. 
 The water closed over their heads, but they came up again in an instant, and swam about quite prettily with their legs paddling under them as easily as possible.
You were standing by the river bank and you are strugling wheter join them or not.
[[Join them.]]
[[I&amp;#x27;d rather not.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;17&quot; name=&quot;Join them.&quot; tags=&quot;&quot; position=&quot;476.3333333333333,950.6666666666666&quot;&gt;&amp;quot;You are not a turkey my child; how well you use your legs, and how upright you hold yourself!Although your sound is weird, you are my own child, and you are not so very ugly after all if you look at you properly. 
&amp;quot;Quack, quack! come with me now, I will take you into grand society, and introduce you to the farmyard, but you must keep close to me or you may be trodden upon; and, above all, beware of the cat.&amp;quot;
[[Heading home.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;18&quot; name=&quot;I&amp;#x27;d rather not.&quot; tags=&quot;&quot; position=&quot;678.3333333333333,950.6666666666666&quot;&gt;&amp;quot;Oh,&amp;quot; said the mother, 
&amp;quot;why don&amp;#x27;t you join them? Can&amp;#x27;t you swim my child?&amp;quot; 
[[&amp;quot;Peep, peep.(No, I can not swim.)&amp;quot;]]
[[&amp;quot;Peep, peep.(Yes, but...&amp;quot;]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;19&quot; name=&quot;After swimming&quot; tags=&quot;&quot; position=&quot;300,949.6666666666666&quot;&gt;&amp;quot;Oh,&amp;quot; said the mother, 
&amp;quot;that is not a turkey; how well he uses his legs, and how upright he holds himself! He is my own child, and he is not so very ugly after all if you look at him properly. 
&amp;quot;Quack, quack! come with me now, I will take you into grand society, and introduce you to the farmyard, but you must keep close to me or you may be trodden upon; and, above all, beware of the cat.&amp;quot;
[[Going home.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;20&quot; name=&quot;&amp;quot;Peep, peep.(No, I can not swim.)&amp;quot;&quot; tags=&quot;&quot; position=&quot;852.3333333333333,949.6666666666665&quot;&gt;&amp;quot;You are not my child!&amp;quot;said the mother.
&amp;quot;You can not swim and your sound is so weird! You disapointed me! Please go away and I don&amp;#x27;t want to see you again!&amp;quot;
[[You feel deeply discriminated and you left the duck nest.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;21&quot; name=&quot;&amp;quot;Peep, peep.(Yes, but...&amp;quot;&quot; tags=&quot;&quot; position=&quot;676.3333333333333,1097.6666666666665&quot;&gt;&amp;quot;Then show me your swimming skill my child, don&amp;#x27;t be afraid! Mom is always here for you!&amp;quot;Said the mother.
[[Join them.]]
[[&amp;quot;Peep, peep.(No, I can not swim.)&amp;quot;]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;22&quot; name=&quot;Going home.&quot; tags=&quot;&quot; position=&quot;300,1099.6666666666665&quot;&gt;When they reached the farmyard, there was a great disturbance, two families were fighting for an eel&amp;#x27;s head, which, after all, was carried off by the cat. &amp;quot;See, children, that is the way of the world,&amp;quot; said the mother duck, whetting her beak, for she would have liked the eel&amp;#x27;s head herself. 
&amp;quot;Come, now, use your legs, and let me see how well you can behave. You must bow your heads prettily to that old duck yonder, don&amp;#x27;t turn your toes, a well-bred duckling spreads his feet wide apart, just like his father and mother, in this way; now bend your neck, and say &amp;quot;quack.&amp;quot;
[[You behave well and say&amp;quot;Quack&amp;quot;.]]
[[You behave naughty on purpose.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;23&quot; name=&quot;You behave well and say&amp;quot;Quack&amp;quot;.&quot; tags=&quot;&quot; position=&quot;300,1250.6666666666665&quot;&gt;The ducklings did as they were bid, but the other duck stared, and said, &amp;quot;Look, here comes another brood, as if there were not enough of us already! and what a queer looking object one of them is; we don&amp;#x27;t want him here,&amp;quot; and then one flew out and bit him in the neck.

&amp;quot;Let him alone,&amp;quot; said the mother; &amp;quot;he is not doing any harm.&amp;quot;

&amp;quot;Yes, but he is so big and ugly,&amp;quot; said the spiteful duck &amp;quot;and therefore he must be turned out.&amp;quot;

&amp;quot;The others are very pretty children,&amp;quot; said the old duck, with the rag on her leg, &amp;quot;all but that one; I wish his mother could improve him a little.&amp;quot;
[[You felt sorrow somehow.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;24&quot; name=&quot;You behave naughty on purpose.&quot; tags=&quot;&quot; position=&quot;676,1248.6666666666665&quot;&gt;The ducklings did as they were bid, but the other duck stared, and said, &amp;quot;Look, here comes another brood, as if there were not enough of us already! and what a queer looking object one of them is; we don&amp;#x27;t want him here,&amp;quot; and then one flew out and bit him in the neck.

&amp;quot;Let him alone,&amp;quot; said the mother; &amp;quot;he is not doing any harm, and his not my child at all!&amp;quot;

&amp;quot;Yes, he is so big and ugly,&amp;quot; said the spiteful duck &amp;quot;and therefore he must be turned out.&amp;quot;

&amp;quot;The others are very pretty children,&amp;quot; said the old duck, with the rag on her leg, &amp;quot;all but that one; I wish he could go and we will never see him again.&amp;quot;
[[You feel deeply discriminated and you left the duck nest.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;25&quot; name=&quot;Heading home.&quot; tags=&quot;&quot; position=&quot;476.3333333333333,1100.6666666666665&quot;&gt;When they reached the farmyard, there was a great disturbance, two families were fighting for an eel&amp;#x27;s head, which, after all, was carried off by the cat. &amp;quot;See, children, that is the way of the world,&amp;quot; said the mother duck, whetting her beak, for she would have liked the eel&amp;#x27;s head herself. 
&amp;quot;Come, now, use your legs, and let me see how well you can behave. You must bow your heads prettily to that old duck yonder, don&amp;#x27;t turn your toes, a well-bred duckling spreads his feet wide apart, just like his father and mother, in this way; now bend your neck, and say &amp;quot;quack.&amp;quot;
[[You behave well and say&amp;quot;Quack&amp;quot;.]]
[[You behave well and say&amp;quot;Peep&amp;quot;.]]
[[You behave naughty on purpose.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;26&quot; name=&quot;You behave well and say&amp;quot;Peep&amp;quot;.&quot; tags=&quot;&quot; position=&quot;477,1249.6666666666665&quot;&gt;The ducklings did as they were bid, but the other duck stared, and said, &amp;quot;Look, here comes another brood, as if there were not enough of us already! and what a queer looking object one of them is; we don&amp;#x27;t want him here,&amp;quot; and then one flew out and bit him in the neck.

&amp;quot;Let him alone,&amp;quot; said the mother; &amp;quot;he is not doing any harm, and his not my child at all!&amp;quot;

&amp;quot;Yes, he is so big and ugly,&amp;quot; said the spiteful duck &amp;quot;and therefore he must be turned out.&amp;quot;

&amp;quot;The others are very pretty children,&amp;quot; said the old duck, with the rag on her leg, &amp;quot;all but that one; I wish he could go and we will never see him again.&amp;quot;
[[You feel deeply discriminated.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;27&quot; name=&quot;You feel deeply discriminated.&quot; tags=&quot;&quot; position=&quot;477,1399.6666666666665&quot;&gt; &amp;quot;They are afraid of me because I am ugly,&amp;quot; he said. So you closed your eyes, and flew still farther, until you came out on a large moor, inhabited by wild ducks. Here you remained the whole night, feeling very tired and sorrowful.Now, [[the mother come to you for some words.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;28&quot; name=&quot;You feel deeply discriminated and you left the duck nest.&quot; tags=&quot;&quot; position=&quot;776,1549.6666666666665&quot;&gt;In the morning, when the wild ducks rose in the air, they stared at their new comrade. &amp;quot;What sort of a duck are you?&amp;quot; they all said, coming round him.

You bowed to them, and was as polite as he could be, but you did not reply to their question. &amp;quot;You are exceedingly ugly,&amp;quot; said the wild ducks, &amp;quot;but that will not matter if you do not want to marry one of our family.&amp;quot;

Poor thing! You had no thoughts of marriage; all you wanted was permission to lie among the rushes, and drink some of the water on the moor. After you had been on the moor two days, there came two wild geese, or rather goslings, for they had not been out of the egg long, and were very saucy.

&amp;quot;Listen, friend,&amp;quot; said one of them to the duckling, &amp;quot;you are so ugly, that we like you very well. Will you go with us, and become a bird of passage? Not far from here is another moor, in which there are some pretty wild geese, all unmarried. It is a chance for you to get a wife; you may be lucky, ugly as you are.&amp;quot;

[[Go with them.]]
[[I&amp;#x27;m not going with them]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;29&quot; name=&quot;You felt sorrow somehow.&quot; tags=&quot;&quot; position=&quot;300,1400.6666666666665&quot;&gt;And so they made themselves comfortable; but you, who had crept out of your shell last of all, and looked so ugly, was bitten and pushed and made fun of, not only by the ducks, but by all the poultry. 
&amp;quot;He is too big,&amp;quot; they all said. So it went on from day to day till it got worse and worse. 
Your were driven about by every one; even his brothers and sisters were unkind to you, and would say, &amp;quot;Ah, you ugly creature, I wish the cat would get you.&amp;quot;
[[&amp;quot;They are afraid of me because I am ugly.&amp;quot;]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;30&quot; name=&quot;&amp;quot;They are afraid of me because I am ugly.&amp;quot;&quot; tags=&quot;&quot; position=&quot;300,1551.6666666666665&quot;&gt;And here comes the mother and saying that actually you are not a duck at all and you have to go to find your place for living.
You thanked to her and you left the nest.
You closed your eyes, and flew still farther, until you came out on a large moor, inhabited by wild ducks. Here he remained the whole night, feeling very tired and sorrowful.
[[And a new day has come.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;31&quot; name=&quot;the mother come to you for some words.&quot; tags=&quot;&quot; position=&quot;477,1549.6666666666665&quot;&gt;She said she wished you had never been born.
&amp;quot;She never loved me...&amp;quot;A voice sounds in your mind.
[[You feel deeply discriminated and you left the duck nest.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;32&quot; name=&quot;And a new day has come.&quot; tags=&quot;&quot; position=&quot;299,1699.6666666666665&quot;&gt;In the morning, when the wild ducks rose in the air, they stared at their new comrade. &amp;quot;What sort of a duck are you?&amp;quot; they all said, coming round him.

You bowed to them, and was as polite as he could be, but you did not reply to their question. &amp;quot;You are exceedingly ugly,&amp;quot; said the wild ducks, &amp;quot;but that will not matter if you do not want to marry one of our family.&amp;quot;

Poor thing! You had no thoughts of marriage; all you wanted was permission to lie among the rushes, and drink some of the water on the moor. After you had been on the moor two days, there came two wild geese, or rather goslings, for they had not been out of the egg long, and were very saucy.

&amp;quot;Listen, friend,&amp;quot; said one of them to the duckling, &amp;quot;you are so ugly, that we like you very well. Will you go with us, and become a bird of passage? Not far from here is another moor, in which there are some pretty wild geese, all unmarried. It is a chance for you to get a wife; you may be lucky, ugly as you are.&amp;quot;

[[Go with them.]]
[[I&amp;#x27;m not going with them]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;33&quot; name=&quot;Go with them.&quot; tags=&quot;&quot; position=&quot;301,1902.6666666666665&quot;&gt;You lived a happy life as a wild duck and you never find out that actually you are a swan!
(link-goto: &amp;quot;Retry&amp;quot;, &amp;quot;Prologue&amp;quot;)&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;34&quot; name=&quot;I&amp;#x27;m not going with them&quot; tags=&quot;&quot; position=&quot;772,1798.6666666666665&quot;&gt;&amp;quot;I&amp;#x27;d better not, thank you.&amp;quot;You turned down the wild ducks&amp;#x27; invitation.
You keep walking along the river bank...
Towards evening, you reached a poor little cottage.
You ask around for a living but no one like you to stay...
So you sat in a corner, feeling very low spirited, till the sunshine and the fresh air came into the room through the open door, and then you began to feel such a great longing for a swim on the water.
Though you feel desperate but you finally decided to live on your own.
[[&amp;quot;I believe I must go out into the world again.&amp;quot;You thought.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;35&quot; name=&quot;&amp;quot;I believe I must go out into the world again.&amp;quot;You thought.&quot; tags=&quot;&quot; position=&quot;776,1950.6666666666665&quot;&gt;As the days gone, you lived much more independent. Winter has gone, the spring comes. Although you lived a tough winter, you survived by yourself!
One day, you felt that his wings were strong, as he flapped them against his sides, and rose high into the air. 
[[Then you flew to the sky!]]
[[Then you flew to the water!]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;36&quot; name=&quot;Then you flew to the sky!&quot; tags=&quot;&quot; position=&quot;701,2100.6666666666665&quot;&gt;You lived a happy life on the sky! But you never realize you are a swan actually. 
Congratulations after all!
(link-goto: &amp;quot;Retry&amp;quot;, &amp;quot;Prologue&amp;quot;)&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;37&quot; name=&quot;Then you flew to the water!&quot; tags=&quot;&quot; position=&quot;851,2100.6666666666665&quot;&gt;You swam towards the beautiful swans. The moment they espied the stranger, they rushed to meet him with outstretched wings.

You bent your head down to the surface of the water.

But what did he see in the clear stream below? His own image; no longer a dark, gray bird, ugly and disagreeable to look at, but a graceful and beautiful swan. To be born in a duck&amp;#x27;s nest, in a farmyard, is of no consequence to a bird, if it is hatched from a swan&amp;#x27;s egg. He now felt glad at having suffered sorrow and trouble, because it enabled him to enjoy so much better all the pleasure and happiness around him; for the great swans swam round the new-comer, and stroked his neck with their beaks, as a welcome.

Into the garden presently came some little children, and threw bread and cake into the water.

&amp;quot;See,&amp;quot; cried the youngest, &amp;quot;there is a new one;&amp;quot; and the rest were delighted, and ran to their father and mother, dancing and clapping their hands, and shouting joyously, &amp;quot;There is another swan come; a new one has arrived.&amp;quot;

[[The End.]]&lt;/tw-passagedata&gt;&lt;tw-passagedata pid=&quot;38&quot; name=&quot;The End.&quot; tags=&quot;&quot; position=&quot;851,2250.6666666666665&quot;&gt;You clear the game for the true ending!
Congratulations to the beautiful swan!
(link-goto: &amp;quot;Start again.&amp;quot;, &amp;quot;Prologue&amp;quot;)&lt;/tw-passagedata&gt;&lt;/tw-storydata&gt;

&lt;script title=&quot;Twine engine code&quot; data-main=&quot;harlowe&quot;&gt;&quot;use strict&quot;;function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t&lt;e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _slicedToArray=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&amp;&amp;(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&amp;&amp;s.return&amp;&amp;s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError(&quot;Invalid attempt to destructure non-iterable instance&quot;)}}(),_typeof=&quot;function&quot;==typeof Symbol&amp;&amp;&quot;symbol&quot;==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&amp;&amp;&quot;function&quot;==typeof Symbol&amp;&amp;e.constructor===Symbol&amp;&amp;e!==Symbol.prototype?&quot;symbol&quot;:typeof e};!function(){/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */
var requirejs,require,define;!function(e){function t(e,t){return v.call(e,t)}function n(e,t){var n,r,i,o,a,s,u,c,l,f,p,d,h=t&amp;&amp;t.split(&quot;/&quot;),m=g.map,y=m&amp;&amp;m[&quot;*&quot;]||{};if(e){for(e=e.split(&quot;/&quot;),a=e.length-1,g.nodeIdCompat&amp;&amp;w.test(e[a])&amp;&amp;(e[a]=e[a].replace(w,&quot;&quot;)),&quot;.&quot;===e[0].charAt(0)&amp;&amp;h&amp;&amp;(d=h.slice(0,h.length-1),e=d.concat(e)),l=0;l&lt;e.length;l++)if(p=e[l],&quot;.&quot;===p)e.splice(l,1),l-=1;else if(&quot;..&quot;===p){if(0===l||1===l&amp;&amp;&quot;..&quot;===e[2]||&quot;..&quot;===e[l-1])continue;l&gt;0&amp;&amp;(e.splice(l-1,2),l-=2)}e=e.join(&quot;/&quot;)}if((h||y)&amp;&amp;m){for(n=e.split(&quot;/&quot;),l=n.length;l&gt;0;l-=1){if(r=n.slice(0,l).join(&quot;/&quot;),h)for(f=h.length;f&gt;0;f-=1)if(i=m[h.slice(0,f).join(&quot;/&quot;)],i&amp;&amp;(i=i[r])){o=i,s=l;break}if(o)break;!u&amp;&amp;y&amp;&amp;y[r]&amp;&amp;(u=y[r],c=l)}!o&amp;&amp;u&amp;&amp;(o=u,s=c),o&amp;&amp;(n.splice(0,s,o),e=n.join(&quot;/&quot;))}return e}function r(t,n){return function(){var r=b.call(arguments,0);return&quot;string&quot;!=typeof r[0]&amp;&amp;1===r.length&amp;&amp;r.push(null),f.apply(e,r.concat([t,n]))}}function i(e){return function(t){return n(t,e)}}function o(e){return function(t){h[e]=t}}function a(n){if(t(m,n)){var r=m[n];delete m[n],y[n]=!0,l.apply(e,r)}if(!t(h,n)&amp;&amp;!t(y,n))throw new Error(&quot;No &quot;+n);return h[n]}function s(e){var t,n=e?e.indexOf(&quot;!&quot;):-1;return n&gt;-1&amp;&amp;(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return e?s(e):[]}function c(e){return function(){return g&amp;&amp;g.config&amp;&amp;g.config[e]||{}}}var l,f,p,d,h={},m={},g={},y={},v=Object.prototype.hasOwnProperty,b=[].slice,w=/\.js$/;p=function(e,t){var r,o=s(e),u=o[0],c=t[1];return e=o[1],u&amp;&amp;(u=n(u,c),r=a(u)),u?e=r&amp;&amp;r.normalize?r.normalize(e,i(c)):n(e,c):(e=n(e,c),o=s(e),u=o[0],e=o[1],u&amp;&amp;(r=a(u))),{f:u?u+&quot;!&quot;+e:e,n:e,pr:u,p:r}},d={require:function(e){return r(e)},exports:function(e){var t=h[e];return&quot;undefined&quot;!=typeof t?t:h[e]={}},module:function(e){return{id:e,uri:&quot;&quot;,exports:h[e],config:c(e)}}},l=function(n,i,s,c){var l,f,g,v,b,w,x,T=[],O=&quot;undefined&quot;==typeof s?&quot;undefined&quot;:_typeof(s);if(c=c||n,w=u(c),&quot;undefined&quot;===O||&quot;function&quot;===O){for(i=!i.length&amp;&amp;s.length?[&quot;require&quot;,&quot;exports&quot;,&quot;module&quot;]:i,b=0;b&lt;i.length;b+=1)if(v=p(i[b],w),f=v.f,&quot;require&quot;===f)T[b]=d.require(n);else if(&quot;exports&quot;===f)T[b]=d.exports(n),x=!0;else if(&quot;module&quot;===f)l=T[b]=d.module(n);else if(t(h,f)||t(m,f)||t(y,f))T[b]=a(f);else{if(!v.p)throw new Error(n+&quot; missing &quot;+f);v.p.load(v.n,r(c,!0),o(f),{}),T[b]=h[f]}g=s?s.apply(h[n],T):void 0,n&amp;&amp;(l&amp;&amp;l.exports!==e&amp;&amp;l.exports!==h[n]?h[n]=l.exports:g===e&amp;&amp;x||(h[n]=g))}else n&amp;&amp;(h[n]=s)},requirejs=require=f=function(t,n,r,i,o){if(&quot;string&quot;==typeof t)return d[t]?d[t](n):a(p(t,u(n)).f);if(!t.splice){if(g=t,g.deps&amp;&amp;f(g.deps,g.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},&quot;function&quot;==typeof r&amp;&amp;(r=i,i=o),i?l(e,t,n,r):setTimeout(function(){l(e,t,n,r)},4),f},f.config=function(e){return f(e)},requirejs._defined=h,define=function(e,n,r){if(&quot;string&quot;!=typeof e)throw new Error(&quot;See almond README: incorrect module build, no module name&quot;);n.splice||(r=n,n=[]),t(h,e)||t(m,e)||(m[e]=[e,n,r])},define.amd={jQuery:!0}}(),define(&quot;almond&quot;,function(){}),function(e,t){&quot;object&quot;===(&quot;undefined&quot;==typeof module?&quot;undefined&quot;:_typeof(module))&amp;&amp;&quot;object&quot;===_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error(&quot;jQuery requires a window with a document&quot;);return t(e)}:t(e)}(&quot;undefined&quot;!=typeof window?window:this,function(e,t){function n(e,t){t=t||te;var n=t.createElement(&quot;script&quot;);n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&amp;&amp;&quot;length&quot;in e&amp;&amp;e.length,n=he.type(e);return&quot;function&quot;===n||he.isWindow(e)?!1:&quot;array&quot;===n||0===t||&quot;number&quot;==typeof t&amp;&amp;t&gt;0&amp;&amp;t-1 in e}function i(e,t,n){return he.isFunction(t)?he.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?he.grep(e,function(e){return e===t!==n}):&quot;string&quot;!=typeof t?he.grep(e,function(e){return ae.call(t,e)&gt;-1!==n}):Se.test(t)?he.filter(t,e,n):(t=he.filter(t,e),he.grep(e,function(e){return ae.call(t,e)&gt;-1!==n&amp;&amp;1===e.nodeType}))}function o(e,t){for(;(e=e[t])&amp;&amp;1!==e.nodeType;);return e}function a(e){var t={};return he.each(e.match(Ne)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function u(e){throw e}function c(e,t,n){var r;try{e&amp;&amp;he.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&amp;&amp;he.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function l(){te.removeEventListener(&quot;DOMContentLoaded&quot;,l),e.removeEventListener(&quot;load&quot;,l),he.ready()}function f(){this.expando=he.expando+f.uid++}function p(e){return&quot;true&quot;===e?!0:&quot;false&quot;===e?!1:&quot;null&quot;===e?null:e===+e+&quot;&quot;?+e:De.test(e)?JSON.parse(e):e}function d(e,t,n){var r;if(void 0===n&amp;&amp;1===e.nodeType)if(r=&quot;data-&quot;+t.replace(Re,&quot;-$&amp;&quot;).toLowerCase(),n=e.getAttribute(r),&quot;string&quot;==typeof n){try{n=p(n)}catch(e){}Fe.set(e,t,n)}else n=void 0;return n}function h(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return he.css(e,t,&quot;&quot;)},u=s(),c=n&amp;&amp;n[3]||(he.cssNumber[t]?&quot;&quot;:&quot;px&quot;),l=(he.cssNumber[t]||&quot;px&quot;!==c&amp;&amp;+u)&amp;&amp;He.exec(he.css(e,t));if(l&amp;&amp;l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||&quot;.5&quot;,l/=o,he.style(e,t,l+c);while(o!==(o=s()/u)&amp;&amp;1!==o&amp;&amp;--a)}return n&amp;&amp;(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&amp;&amp;(r.unit=c,r.start=l,r.end=i)),i}function m(e){var t,n=e.ownerDocument,r=e.nodeName,i=We[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=he.css(t,&quot;display&quot;),t.parentNode.removeChild(t),&quot;none&quot;===i&amp;&amp;(i=&quot;block&quot;),We[r]=i,i)}function g(e,t){for(var n,r,i=[],o=0,a=e.length;a&gt;o;o++)r=e[o],r.style&amp;&amp;(n=r.style.display,t?(&quot;none&quot;===n&amp;&amp;(i[o]=Le.get(r,&quot;display&quot;)||null,i[o]||(r.style.display=&quot;&quot;)),&quot;&quot;===r.style.display&amp;&amp;Be(r)&amp;&amp;(i[o]=m(r))):&quot;none&quot;!==n&amp;&amp;(i[o]=&quot;none&quot;,Le.set(r,&quot;display&quot;,n)));for(o=0;a&gt;o;o++)null!=i[o]&amp;&amp;(e[o].style.display=i[o]);return e}function y(e,t){var n;return n=&quot;undefined&quot;!=typeof e.getElementsByTagName?e.getElementsByTagName(t||&quot;*&quot;):&quot;undefined&quot;!=typeof e.querySelectorAll?e.querySelectorAll(t||&quot;*&quot;):[],void 0===t||t&amp;&amp;he.nodeName(e,t)?he.merge([e],n):n}function v(e,t){for(var n=0,r=e.length;r&gt;n;n++)Le.set(e[n],&quot;globalEval&quot;,!t||Le.get(t[n],&quot;globalEval&quot;))}function b(e,t,n,r,i){for(var o,a,s,u,c,l,f=t.createDocumentFragment(),p=[],d=0,h=e.length;h&gt;d;d++)if(o=e[d],o||0===o)if(&quot;object&quot;===he.type(o))he.merge(p,o.nodeType?[o]:o);else if(Je.test(o)){for(a=a||f.appendChild(t.createElement(&quot;div&quot;)),s=(Ue.exec(o)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase(),u=Xe[s]||Xe._default,a.innerHTML=u[1]+he.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;he.merge(p,a.childNodes),a=f.firstChild,a.textContent=&quot;&quot;}else p.push(t.createTextNode(o));for(f.textContent=&quot;&quot;,d=0;o=p[d++];)if(r&amp;&amp;he.inArray(o,r)&gt;-1)i&amp;&amp;i.push(o);else if(c=he.contains(o.ownerDocument,o),a=y(f.appendChild(o),&quot;script&quot;),c&amp;&amp;v(a),n)for(l=0;o=a[l++];)Ge.test(o.type||&quot;&quot;)&amp;&amp;n.push(o);return f}function w(){return!0}function x(){return!1}function T(){try{return te.activeElement}catch(e){}}function O(e,t,n,r,i,o){var a,s;if(&quot;object&quot;===(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))){&quot;string&quot;!=typeof n&amp;&amp;(r=r||n,n=void 0);for(s in t)O(e,s,n,r,t[s],o);return e}if(null==r&amp;&amp;null==i?(i=n,r=n=void 0):null==i&amp;&amp;(&quot;string&quot;==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=x;else if(!i)return e;return 1===o&amp;&amp;(a=i,i=function(e){return he().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,i,r,n)})}function S(e,t){return he.nodeName(e,&quot;table&quot;)&amp;&amp;he.nodeName(11!==t.nodeType?t:t.firstChild,&quot;tr&quot;)?e.getElementsByTagName(&quot;tbody&quot;)[0]||e:e}function j(e){return e.type=(null!==e.getAttribute(&quot;type&quot;))+&quot;/&quot;+e.type,e}function k(e){var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute(&quot;type&quot;),e}function C(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(Le.hasData(e)&amp;&amp;(o=Le.access(e),a=Le.set(t,o),c=o.events)){delete a.handle,a.events={};for(i in c)for(n=0,r=c[i].length;r&gt;n;n++)he.event.add(t,i,c[i][n])}Fe.hasData(e)&amp;&amp;(s=Fe.access(e),u=he.extend({},s),Fe.set(t,u))}}function A(e,t){var n=t.nodeName.toLowerCase();&quot;input&quot;===n&amp;&amp;ze.test(e.type)?t.checked=e.checked:(&quot;input&quot;===n||&quot;textarea&quot;===n)&amp;&amp;(t.defaultValue=e.defaultValue)}function E(e,t,r,i){t=ie.apply([],t);var o,a,s,u,c,l,f=0,p=e.length,d=p-1,h=t[0],m=he.isFunction(h);if(m||p&gt;1&amp;&amp;&quot;string&quot;==typeof h&amp;&amp;!pe.checkClone&amp;&amp;nt.test(h))return e.each(function(n){var o=e.eq(n);m&amp;&amp;(t[0]=h.call(this,n,o.html())),E(o,t,r,i)});if(p&amp;&amp;(o=b(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&amp;&amp;(o=a),a||i)){for(s=he.map(y(o,&quot;script&quot;),j),u=s.length;p&gt;f;f++)c=o,f!==d&amp;&amp;(c=he.clone(c,!0,!0),u&amp;&amp;he.merge(s,y(c,&quot;script&quot;))),r.call(e[f],c,f);if(u)for(l=s[s.length-1].ownerDocument,he.map(s,k),f=0;u&gt;f;f++)c=s[f],Ge.test(c.type||&quot;&quot;)&amp;&amp;!Le.access(c,&quot;globalEval&quot;)&amp;&amp;he.contains(l,c)&amp;&amp;(c.src?he._evalUrl&amp;&amp;he._evalUrl(c.src):n(c.textContent.replace(it,&quot;&quot;),l))}return e}function N(e,t,n){for(var r,i=t?he.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||he.cleanData(y(r)),r.parentNode&amp;&amp;(n&amp;&amp;he.contains(r.ownerDocument,r)&amp;&amp;v(y(r,&quot;script&quot;)),r.parentNode.removeChild(r));return e}function _(e,t,n){var r,i,o,a,s=e.style;return n=n||st(e),n&amp;&amp;(a=n.getPropertyValue(t)||n[t],&quot;&quot;!==a||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),!pe.pixelMarginRight()&amp;&amp;at.test(a)&amp;&amp;ot.test(t)&amp;&amp;(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+&quot;&quot;:a}function P(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function I(e){if(e in pt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ft.length;n--;)if(e=ft[n]+t,e in pt)return e}function M(e,t,n){var r=He.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||&quot;px&quot;):t}function L(e,t,n,r,i){var o,a=0;for(o=n===(r?&quot;border&quot;:&quot;content&quot;)?4:&quot;width&quot;===t?1:0;4&gt;o;o+=2)&quot;margin&quot;===n&amp;&amp;(a+=he.css(e,n+$e[o],!0,i)),r?(&quot;content&quot;===n&amp;&amp;(a-=he.css(e,&quot;padding&quot;+$e[o],!0,i)),&quot;margin&quot;!==n&amp;&amp;(a-=he.css(e,&quot;border&quot;+$e[o]+&quot;Width&quot;,!0,i))):(a+=he.css(e,&quot;padding&quot;+$e[o],!0,i),&quot;padding&quot;!==n&amp;&amp;(a+=he.css(e,&quot;border&quot;+$e[o]+&quot;Width&quot;,!0,i)));return a}function F(e,t,n){var r,i=!0,o=st(e),a=&quot;border-box&quot;===he.css(e,&quot;boxSizing&quot;,!1,o);if(e.getClientRects().length&amp;&amp;(r=e.getBoundingClientRect()[t]),0&gt;=r||null==r){if(r=_(e,t,o),(0&gt;r||null==r)&amp;&amp;(r=e.style[t]),at.test(r))return r;i=a&amp;&amp;(pe.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+L(e,t,n||(a?&quot;border&quot;:&quot;content&quot;),i,o)+&quot;px&quot;}function D(e,t,n,r,i){return new D.prototype.init(e,t,n,r,i)}function R(){ht&amp;&amp;(e.requestAnimationFrame(R),he.fx.tick())}function q(){return e.setTimeout(function(){dt=void 0}),dt=he.now()}function H(e,t){var n,r=0,i={height:e};for(t=t?1:0;4&gt;r;r+=2-t)n=$e[r],i[&quot;margin&quot;+n]=i[&quot;padding&quot;+n]=e;return t&amp;&amp;(i.opacity=i.width=e),i}function $(e,t,n){for(var r,i=(W.tweeners[t]||[]).concat(W.tweeners[&quot;*&quot;]),o=0,a=i.length;a&gt;o;o++)if(r=i[o].call(n,t,e))return r}function B(e,t,n){var r,i,o,a,s,u,c,l,f=&quot;width&quot;in t||&quot;height&quot;in t,p=this,d={},h=e.style,m=e.nodeType&amp;&amp;Be(e),y=Le.get(e,&quot;fxshow&quot;);n.queue||(a=he._queueHooks(e,&quot;fx&quot;),null==a.unqueued&amp;&amp;(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,he.queue(e,&quot;fx&quot;).length||a.empty.fire()})}));for(r in t)if(i=t[r],mt.test(i)){if(delete t[r],o=o||&quot;toggle&quot;===i,i===(m?&quot;hide&quot;:&quot;show&quot;)){if(&quot;show&quot;!==i||!y||void 0===y[r])continue;m=!0}d[r]=y&amp;&amp;y[r]||he.style(e,r)}if(u=!he.isEmptyObject(t),u||!he.isEmptyObject(d)){f&amp;&amp;1===e.nodeType&amp;&amp;(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=y&amp;&amp;y.display,null==c&amp;&amp;(c=Le.get(e,&quot;display&quot;)),l=he.css(e,&quot;display&quot;),&quot;none&quot;===l&amp;&amp;(c?l=c:(g([e],!0),c=e.style.display||c,l=he.css(e,&quot;display&quot;),g([e]))),(&quot;inline&quot;===l||&quot;inline-block&quot;===l&amp;&amp;null!=c)&amp;&amp;&quot;none&quot;===he.css(e,&quot;float&quot;)&amp;&amp;(u||(p.done(function(){h.display=c}),null==c&amp;&amp;(l=h.display,c=&quot;none&quot;===l?&quot;&quot;:l)),h.display=&quot;inline-block&quot;)),n.overflow&amp;&amp;(h.overflow=&quot;hidden&quot;,p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?&quot;hidden&quot;in y&amp;&amp;(m=y.hidden):y=Le.access(e,&quot;fxshow&quot;,{display:c}),o&amp;&amp;(y.hidden=!m),m&amp;&amp;g([e],!0),p.done(function(){m||g([e]),Le.remove(e,&quot;fxshow&quot;);for(r in d)he.style(e,r,d[r])})),u=$(m?y[r]:0,r,p),r in y||(y[r]=u.start,m&amp;&amp;(u.end=u.start,u.start=0))}}function V(e,t){var n,r,i,o,a;for(n in e)if(r=he.camelCase(n),i=t[r],o=e[n],he.isArray(o)&amp;&amp;(i=o[1],o=e[n]=o[0]),n!==r&amp;&amp;(e[r]=o,delete e[n]),a=he.cssHooks[r],a&amp;&amp;&quot;expand&quot;in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function W(e,t,n){var r,i,o=0,a=W.prefilters.length,s=he.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=dt||q(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,o=1-r,a=0,u=c.tweens.length;u&gt;a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1&gt;o&amp;&amp;u?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=he.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r&gt;n;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(V(l,c.opts.specialEasing);a&gt;o;o++)if(r=W.prefilters[o].call(c,e,l,c.opts))return he.isFunction(r.stop)&amp;&amp;(he._queueHooks(c.elem,c.opts.queue).stop=he.proxy(r.stop,r)),r;return he.map(l,$,c),he.isFunction(c.opts.start)&amp;&amp;c.opts.start.call(e,c),he.fx.timer(he.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(e){var t=e.match(Ne)||[];return t.join(&quot; &quot;)}function U(e){return e.getAttribute&amp;&amp;e.getAttribute(&quot;class&quot;)||&quot;&quot;}function G(e,t,n,r){var i;if(he.isArray(t))he.each(t,function(t,i){n||kt.test(e)?r(e,i):G(e+&quot;[&quot;+(&quot;object&quot;===(&quot;undefined&quot;==typeof i?&quot;undefined&quot;:_typeof(i))&amp;&amp;null!=i?t:&quot;&quot;)+&quot;]&quot;,i,n,r)});else if(n||&quot;object&quot;!==he.type(t))r(e,t);else for(i in t)G(e+&quot;[&quot;+i+&quot;]&quot;,t[i],n,r)}function X(e){return function(t,n){&quot;string&quot;!=typeof t&amp;&amp;(n=t,t=&quot;*&quot;);var r,i=0,o=t.toLowerCase().match(Ne)||[];if(he.isFunction(n))for(;r=o[i++];)&quot;+&quot;===r[0]?(r=r.slice(1)||&quot;*&quot;,(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function J(e,t,n,r){function i(s){var u;return o[s]=!0,he.each(e[s]||[],function(e,s){var c=s(t,n,r);return&quot;string&quot;!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===Rt;return i(t.dataTypes[0])||!o[&quot;*&quot;]&amp;&amp;i(&quot;*&quot;)}function Y(e,t){var n,r,i=he.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&amp;&amp;((i[n]?e:r||(r={}))[n]=t[n]);return r&amp;&amp;he.extend(!0,e,r),e}function Z(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;&quot;*&quot;===u[0];)u.shift(),void 0===r&amp;&amp;(r=e.mimeType||t.getResponseHeader(&quot;Content-Type&quot;));if(r)for(i in s)if(s[i]&amp;&amp;s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+&quot; &quot;+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&amp;&amp;u.unshift(o),n[o]):void 0}function Q(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&amp;&amp;(n[e.responseFields[o]]=t),!u&amp;&amp;r&amp;&amp;e.dataFilter&amp;&amp;(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if(&quot;*&quot;===o)o=u;else if(&quot;*&quot;!==u&amp;&amp;u!==o){if(a=c[u+&quot; &quot;+o]||c[&quot;* &quot;+o],!a)for(i in c)if(s=i.split(&quot; &quot;),s[1]===o&amp;&amp;(a=c[u+&quot; &quot;+s[0]]||c[&quot;* &quot;+s[0]])){a===!0?a=c[i]:c[i]!==!0&amp;&amp;(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&amp;&amp;e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:&quot;parsererror&quot;,error:a?e:&quot;No conversion from &quot;+u+&quot; to &quot;+o}}}return{state:&quot;success&quot;,data:t}}function K(e){return he.isWindow(e)?e:9===e.nodeType&amp;&amp;e.defaultView}var ee=[],te=e.document,ne=Object.getPrototypeOf,re=ee.slice,ie=ee.concat,oe=ee.push,ae=ee.indexOf,se={},ue=se.toString,ce=se.hasOwnProperty,le=ce.toString,fe=le.call(Object),pe={},de=&quot;3.1.1&quot;,he=function e(t,n){return new e.fn.init(t,n)},me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,ye=/-([a-z])/g,ve=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:de,constructor:he,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):0&gt;e?this[e+this.length]:this[e]},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0&gt;e?t:0);return this.pushStack(n&gt;=0&amp;&amp;t&gt;n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ee.sort,splice:ee.splice},he.extend=he.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for(&quot;boolean&quot;==typeof a&amp;&amp;(c=a,a=arguments[s]||{},s++),&quot;object&quot;===(&quot;undefined&quot;==typeof a?&quot;undefined&quot;:_typeof(a))||he.isFunction(a)||(a={}),s===u&amp;&amp;(a=this,s--);u&gt;s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&amp;&amp;(c&amp;&amp;r&amp;&amp;(he.isPlainObject(r)||(i=he.isArray(r)))?(i?(i=!1,o=n&amp;&amp;he.isArray(n)?n:[]):o=n&amp;&amp;he.isPlainObject(n)?n:{},a[t]=he.extend(c,o,r)):void 0!==r&amp;&amp;(a[t]=r));return a},he.extend({expando:&quot;jQuery&quot;+(de+Math.random()).replace(/\D/g,&quot;&quot;),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return&quot;function&quot;===he.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&amp;&amp;e===e.window},isNumeric:function(e){var t=he.type(e);return(&quot;number&quot;===t||&quot;string&quot;===t)&amp;&amp;!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return e&amp;&amp;&quot;[object Object]&quot;===ue.call(e)?(t=ne(e))?(n=ce.call(t,&quot;constructor&quot;)&amp;&amp;t.constructor,&quot;function&quot;==typeof n&amp;&amp;le.call(n)===fe):!0:!1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+&quot;&quot;:&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))||&quot;function&quot;==typeof e?se[ue.call(e)]||&quot;object&quot;:&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e)},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ge,&quot;ms-&quot;).replace(ye,ve)},nodeName:function(e,t){return e.nodeName&amp;&amp;e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;n&gt;i&amp;&amp;t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?&quot;&quot;:(e+&quot;&quot;).replace(me,&quot;&quot;)},makeArray:function(e,t){var n=t||[];return null!=e&amp;&amp;(r(Object(e))?he.merge(n,&quot;string&quot;==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ae.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n&gt;r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a&gt;o;o++)r=!t(e[o],o),r!==s&amp;&amp;i.push(e[o]);return i},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;i&gt;a;a++)o=t(e[a],a,n),null!=o&amp;&amp;s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&amp;&amp;s.push(o);return ie.apply([],s)},guid:1,proxy:function e(t,n){var r,i,e;return&quot;string&quot;==typeof n&amp;&amp;(r=t[n],n=t,t=r),he.isFunction(t)?(i=re.call(arguments,2),e=function(){return t.apply(n||this,i.concat(re.call(arguments)))},e.guid=t.guid=t.guid||he.guid++,e):void 0},now:Date.now,support:pe}),&quot;function&quot;==typeof Symbol&amp;&amp;(he.fn[Symbol.iterator]=ee[Symbol.iterator]),he.each(&quot;Boolean Number String Function Array Date RegExp Object Error Symbol&quot;.split(&quot; &quot;),function(e,t){se[&quot;[object &quot;+t+&quot;]&quot;]=t.toLowerCase()});var be=function(e){function t(e,t,n,r){var i,o,a,s,u,c,l,p=t&amp;&amp;t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],&quot;string&quot;!=typeof e||!e||1!==h&amp;&amp;9!==h&amp;&amp;11!==h)return n;if(!r&amp;&amp;((t?t.ownerDocument||t:$)!==I&amp;&amp;P(t),t=t||I,L)){if(11!==h&amp;&amp;(u=ye.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&amp;&amp;(a=p.getElementById(i))&amp;&amp;q(t,a)&amp;&amp;a.id===i)return n.push(a),n}else{if(u[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&amp;&amp;T.getElementsByClassName&amp;&amp;t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(i)),n}if(!(!T.qsa||U[e+&quot; &quot;]||F&amp;&amp;F.test(e))){if(1!==h)p=t,l=e;else if(&quot;object&quot;!==t.nodeName.toLowerCase()){for((s=t.getAttribute(&quot;id&quot;))?s=s.replace(xe,Te):t.setAttribute(&quot;id&quot;,s=H),c=k(e),o=c.length;o--;)c[o]=&quot;#&quot;+s+&quot; &quot;+d(c[o]);l=c.join(&quot;,&quot;),p=ve.test(e)&amp;&amp;f(t.parentNode)||t}if(l)try{return Q.apply(n,p.querySelectorAll(l)),n}catch(e){}finally{s===H&amp;&amp;t.removeAttribute(&quot;id&quot;)}}}return A(e.replace(se,&quot;$1&quot;),t,n,r)}function n(){function e(n,r){return t.push(n+&quot; &quot;)&gt;O.cacheLength&amp;&amp;delete e[t.shift()],e[n+&quot; &quot;]=r}var t=[];return e}function r(e){return e[H]=!0,e}function i(e){var t=I.createElement(&quot;fieldset&quot;);try{return!!e(t)}catch(e){return!1}finally{t.parentNode&amp;&amp;t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split(&quot;|&quot;),r=n.length;r--;)O.attrHandle[n[r]]=t}function a(e,t){var n=t&amp;&amp;e,r=n&amp;&amp;1===e.nodeType&amp;&amp;1===t.nodeType&amp;&amp;e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return&quot;input&quot;===n&amp;&amp;t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return(&quot;input&quot;===n||&quot;button&quot;===n)&amp;&amp;t.type===e}}function c(e){return function(t){return&quot;form&quot;in t?t.parentNode&amp;&amp;t.disabled===!1?&quot;label&quot;in t?&quot;label&quot;in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&amp;&amp;Se(t)===e:t.disabled===e:&quot;label&quot;in t?t.disabled===e:!1}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&amp;&amp;(n[i]=!(r[i]=n[i]))})})}function f(e){return e&amp;&amp;&quot;undefined&quot;!=typeof e.getElementsByTagName&amp;&amp;e}function p(){}function d(e){for(var t=0,n=e.length,r=&quot;&quot;;n&gt;t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&amp;&amp;&quot;parentNode&quot;===o,s=V++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,f,p=[B,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&amp;&amp;e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[H]||(t[H]={}),l=f[t.uniqueID]||(f[t.uniqueID]={}),i&amp;&amp;i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&amp;&amp;c[0]===B&amp;&amp;c[1]===s)return p[2]=c[2];if(l[o]=p,p[2]=e(t,n,u))return!0}return!1}}function m(e){return e.length&gt;1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function g(e,n,r){for(var i=0,o=n.length;o&gt;i;i++)t(e,n[i],r);return r}function y(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;u&gt;s;s++)(o=e[s])&amp;&amp;(!n||n(o,r,i))&amp;&amp;(a.push(o),c&amp;&amp;t.push(s));return a}function v(e,t,n,i,o,a){return i&amp;&amp;!i[H]&amp;&amp;(i=v(i)),o&amp;&amp;!o[H]&amp;&amp;(o=v(o,a)),r(function(r,a,s,u){var c,l,f,p=[],d=[],h=a.length,m=r||g(t||&quot;*&quot;,s.nodeType?[s]:s,[]),v=!e||!r&amp;&amp;t?m:y(m,p,e,s,u),b=n?o||(r?e:h||i)?[]:a:v;if(n&amp;&amp;n(v,b,s,u),i)for(c=y(b,d),i(c,[],s,u),l=c.length;l--;)(f=c[l])&amp;&amp;(b[d[l]]=!(v[d[l]]=f));if(r){if(o||e){if(o){for(c=[],l=b.length;l--;)(f=b[l])&amp;&amp;c.push(v[l]=f);o(null,b=[],c,u)}for(l=b.length;l--;)(f=b[l])&amp;&amp;(c=o?ee(r,f):p[l])&gt;-1&amp;&amp;(r[c]=!(a[c]=f))}}else b=y(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):Q.apply(a,b)})}function b(e){for(var t,n,r,i=e.length,o=O.relative[e[0].type],a=o||O.relative[&quot; &quot;],s=o?1:0,u=h(function(e){return e===t},a,!0),c=h(function(e){return ee(t,e)&gt;-1},a,!0),l=[function(e,n,r){var i=!o&amp;&amp;(r||n!==E)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];i&gt;s;s++)if(n=O.relative[e[s].type])l=[h(m(l),n)];else{if(n=O.filter[e[s].type].apply(null,e[s].matches),n[H]){for(r=++s;i&gt;r&amp;&amp;!O.relative[e[r].type];r++);return v(s&gt;1&amp;&amp;m(l),s&gt;1&amp;&amp;d(e.slice(0,s-1).concat({value:&quot; &quot;===e[s-2].type?&quot;*&quot;:&quot;&quot;})).replace(se,&quot;$1&quot;),n,r&gt;s&amp;&amp;b(e.slice(s,r)),i&gt;r&amp;&amp;b(e=e.slice(r)),i&gt;r&amp;&amp;d(e))}l.push(n)}return m(l)}function w(e,n){var i=n.length&gt;0,o=e.length&gt;0,a=function(r,a,s,u,c){var l,f,p,d=0,h=&quot;0&quot;,m=r&amp;&amp;[],g=[],v=E,b=r||o&amp;&amp;O.find.TAG(&quot;*&quot;,c),w=B+=null==v?1:Math.random()||.1,x=b.length;for(c&amp;&amp;(E=a===I||a||c);h!==x&amp;&amp;null!=(l=b[h]);h++){if(o&amp;&amp;l){for(f=0,a||l.ownerDocument===I||(P(l),s=!L);p=e[f++];)if(p(l,a||I,s)){u.push(l);break}c&amp;&amp;(B=w)}i&amp;&amp;((l=!p&amp;&amp;l)&amp;&amp;d--,r&amp;&amp;m.push(l))}if(d+=h,i&amp;&amp;h!==d){for(f=0;p=n[f++];)p(m,g,a,s);if(r){if(d&gt;0)for(;h--;)m[h]||g[h]||(g[h]=Y.call(u));g=y(g)}Q.apply(u,g),c&amp;&amp;!r&amp;&amp;g.length&gt;0&amp;&amp;d+n.length&gt;1&amp;&amp;t.uniqueSort(u)}return c&amp;&amp;(B=w,E=v),m};return i?r(a):a}var x,T,O,S,j,k,C,A,E,N,_,P,I,M,L,F,D,R,q,H=&quot;sizzle&quot;+1*new Date,$=e.document,B=0,V=0,W=n(),z=n(),U=n(),G=function(e,t){return e===t&amp;&amp;(_=!0),0},X={}.hasOwnProperty,J=[],Y=J.pop,Z=J.push,Q=J.push,K=J.slice,ee=function(e,t){for(var n=0,r=e.length;r&gt;n;n++)if(e[n]===t)return n;return-1},te=&quot;checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped&quot;,ne=&quot;[\\x20\\t\\r\\n\\f]&quot;,re=&quot;(?:\\\\.|[\\w-]|[^\x00-\\xa0])+&quot;,ie=&quot;\\[&quot;+ne+&quot;*(&quot;+re+&quot;)(?:&quot;+ne+&quot;*([*^$|!~]?=)&quot;+ne+&quot;*(?:'((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;|(&quot;+re+&quot;))|)&quot;+ne+&quot;*\\]&quot;,oe=&quot;:(&quot;+re+&quot;)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;)|((?:\\\\.|[^\\\\()[\\]]|&quot;+ie+&quot;)*)|.*)\\)|)&quot;,ae=new RegExp(ne+&quot;+&quot;,&quot;g&quot;),se=new RegExp(&quot;^&quot;+ne+&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;+ne+&quot;+$&quot;,&quot;g&quot;),ue=new RegExp(&quot;^&quot;+ne+&quot;*,&quot;+ne+&quot;*&quot;),ce=new RegExp(&quot;^&quot;+ne+&quot;*([&gt;+~]|&quot;+ne+&quot;)&quot;+ne+&quot;*&quot;),le=new RegExp(&quot;=&quot;+ne+&quot;*([^\\]'\&quot;]*?)&quot;+ne+&quot;*\\]&quot;,&quot;g&quot;),fe=new RegExp(oe),pe=new RegExp(&quot;^&quot;+re+&quot;$&quot;),de={ID:new RegExp(&quot;^#(&quot;+re+&quot;)&quot;),CLASS:new RegExp(&quot;^\\.(&quot;+re+&quot;)&quot;),TAG:new RegExp(&quot;^(&quot;+re+&quot;|[*])&quot;),ATTR:new RegExp(&quot;^&quot;+ie),PSEUDO:new RegExp(&quot;^&quot;+oe),CHILD:new RegExp(&quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(&quot;+ne+&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;+ne+&quot;*(?:([+-]|)&quot;+ne+&quot;*(\\d+)|))&quot;+ne+&quot;*\\)|)&quot;,&quot;i&quot;),bool:new RegExp(&quot;^(?:&quot;+te+&quot;)$&quot;,&quot;i&quot;),needsContext:new RegExp(&quot;^&quot;+ne+&quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(&quot;+ne+&quot;*((?:-\\d)?\\d*)&quot;+ne+&quot;*\\)|)(?=[^-]|$)&quot;,&quot;i&quot;)},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=new RegExp(&quot;\\\\([\\da-f]{1,6}&quot;+ne+&quot;?|(&quot;+ne+&quot;)|.)&quot;,&quot;ig&quot;),we=function(e,t,n){var r=&quot;0x&quot;+t-65536;return r!==r||n?t:0&gt;r?String.fromCharCode(r+65536):String.fromCharCode(r&gt;&gt;10|55296,1023&amp;r|56320)},xe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Te=function(e,t){return t?&quot;\x00&quot;===e?&quot;\ufffd&quot;:e.slice(0,-1)+&quot;\\&quot;+e.charCodeAt(e.length-1).toString(16)+&quot; &quot;:&quot;\\&quot;+e},Oe=function(){P()},Se=h(function(e){return e.disabled===!0&amp;&amp;(&quot;form&quot;in e||&quot;label&quot;in e)},{dir:&quot;parentNode&quot;,next:&quot;legend&quot;});try{Q.apply(J=K.call($.childNodes),$.childNodes),J[$.childNodes.length].nodeType}catch(e){Q={apply:J.length?function(e,t){Z.apply(e,K.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}T=t.support={},j=t.isXML=function(e){var t=e&amp;&amp;(e.ownerDocument||e).documentElement;return t?&quot;HTML&quot;!==t.nodeName:!1},P=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==I&amp;&amp;9===r.nodeType&amp;&amp;r.documentElement?(I=r,M=I.documentElement,L=!j(I),$!==I&amp;&amp;(n=I.defaultView)&amp;&amp;n.top!==n&amp;&amp;(n.addEventListener?n.addEventListener(&quot;unload&quot;,Oe,!1):n.attachEvent&amp;&amp;n.attachEvent(&quot;onunload&quot;,Oe)),T.attributes=i(function(e){return e.className=&quot;i&quot;,!e.getAttribute(&quot;className&quot;)}),T.getElementsByTagName=i(function(e){return e.appendChild(I.createComment(&quot;&quot;)),!e.getElementsByTagName(&quot;*&quot;).length}),T.getElementsByClassName=ge.test(I.getElementsByClassName),T.getById=i(function(e){return M.appendChild(e).id=H,!I.getElementsByName||!I.getElementsByName(H).length}),T.getById?(O.filter.ID=function(e){var t=e.replace(be,we);return function(e){return e.getAttribute(&quot;id&quot;)===t}},O.find.ID=function(e,t){if(&quot;undefined&quot;!=typeof t.getElementById&amp;&amp;L){var n=t.getElementById(e);return n?[n]:[]}}):(O.filter.ID=function(e){var t=e.replace(be,we);return function(e){var n=&quot;undefined&quot;!=typeof e.getAttributeNode&amp;&amp;e.getAttributeNode(&quot;id&quot;);return n&amp;&amp;n.value===t}},O.find.ID=function(e,t){if(&quot;undefined&quot;!=typeof t.getElementById&amp;&amp;L){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode(&quot;id&quot;),n&amp;&amp;n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode(&quot;id&quot;),n&amp;&amp;n.value===e)return[o]}return[]}}),O.find.TAG=T.getElementsByTagName?function(e,t){return&quot;undefined&quot;!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if(&quot;*&quot;===e){for(;n=o[i++];)1===n.nodeType&amp;&amp;r.push(n);return r}return o},O.find.CLASS=T.getElementsByClassName&amp;&amp;function(e,t){return&quot;undefined&quot;!=typeof t.getElementsByClassName&amp;&amp;L?t.getElementsByClassName(e):void 0},D=[],F=[],(T.qsa=ge.test(I.querySelectorAll))&amp;&amp;(i(function(e){M.appendChild(e).innerHTML=&quot;&lt;a id='&quot;+H+&quot;'&gt;&lt;/a&gt;&lt;select id='&quot;+H+&quot;-\r\\' msallowcapture=''&gt;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;&quot;,e.querySelectorAll(&quot;[msallowcapture^='']&quot;).length&amp;&amp;F.push(&quot;[*^$]=&quot;+ne+&quot;*(?:''|\&quot;\&quot;)&quot;),e.querySelectorAll(&quot;[selected]&quot;).length||F.push(&quot;\\[&quot;+ne+&quot;*(?:value|&quot;+te+&quot;)&quot;),e.querySelectorAll(&quot;[id~=&quot;+H+&quot;-]&quot;).length||F.push(&quot;~=&quot;),e.querySelectorAll(&quot;:checked&quot;).length||F.push(&quot;:checked&quot;),e.querySelectorAll(&quot;a#&quot;+H+&quot;+*&quot;).length||F.push(&quot;.#.+[+~]&quot;)}),i(function(e){e.innerHTML=&quot;&lt;a href='' disabled='disabled'&gt;&lt;/a&gt;&lt;select disabled='disabled'&gt;&lt;option/&gt;&lt;/select&gt;&quot;;var t=I.createElement(&quot;input&quot;);t.setAttribute(&quot;type&quot;,&quot;hidden&quot;),e.appendChild(t).setAttribute(&quot;name&quot;,&quot;D&quot;),e.querySelectorAll(&quot;[name=d]&quot;).length&amp;&amp;F.push(&quot;name&quot;+ne+&quot;*[*^$|!~]?=&quot;),2!==e.querySelectorAll(&quot;:enabled&quot;).length&amp;&amp;F.push(&quot;:enabled&quot;,&quot;:disabled&quot;),M.appendChild(e).disabled=!0,2!==e.querySelectorAll(&quot;:disabled&quot;).length&amp;&amp;F.push(&quot;:enabled&quot;,&quot;:disabled&quot;),e.querySelectorAll(&quot;*,:x&quot;),F.push(&quot;,.*:&quot;)})),(T.matchesSelector=ge.test(R=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&amp;&amp;i(function(e){T.disconnectedMatch=R.call(e,&quot;*&quot;),R.call(e,&quot;[s!='']:x&quot;),D.push(&quot;!=&quot;,oe)}),F=F.length&amp;&amp;new RegExp(F.join(&quot;|&quot;)),D=D.length&amp;&amp;new RegExp(D.join(&quot;|&quot;)),t=ge.test(M.compareDocumentPosition),q=t||ge.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&amp;&amp;t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&amp;&amp;16&amp;e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return _=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&amp;n||!T.sortDetached&amp;&amp;t.compareDocumentPosition(e)===n?e===I||e.ownerDocument===$&amp;&amp;q($,e)?-1:t===I||t.ownerDocument===$&amp;&amp;q($,t)?1:N?ee(N,e)-ee(N,t):0:4&amp;n?-1:1)}:function(e,t){if(e===t)return _=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===I?-1:t===I?1:i?-1:o?1:N?ee(N,e)-ee(N,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===$?-1:u[r]===$?1:0},I):I},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==I&amp;&amp;P(e),n=n.replace(le,&quot;='$1']&quot;),!(!T.matchesSelector||!L||U[n+&quot; &quot;]||D&amp;&amp;D.test(n)||F&amp;&amp;F.test(n)))try{var r=R.call(e,n);if(r||T.disconnectedMatch||e.document&amp;&amp;11!==e.document.nodeType)return r}catch(e){}return t(n,I,null,[e]).length&gt;0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&amp;&amp;P(e),q(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&amp;&amp;P(e);var n=O.attrHandle[t.toLowerCase()],r=n&amp;&amp;X.call(O.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==r?r:T.attributes||!L?e.getAttribute(t):(r=e.getAttributeNode(t))&amp;&amp;r.specified?r.value:null},t.escape=function(e){return(e+&quot;&quot;).replace(xe,Te)},t.error=function(e){throw new Error(&quot;Syntax error, unrecognized expression: &quot;+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(_=!T.detectDuplicates,N=!T.sortStable&amp;&amp;e.slice(0),e.sort(G),_){for(;t=e[i++];)t===e[i]&amp;&amp;(r=n.push(i));for(;r--;)e.splice(n[r],1)}return N=null,e},S=t.getText=function(e){var t,n=&quot;&quot;,r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if(&quot;string&quot;==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=S(t);return n},O=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{&quot;&gt;&quot;:{dir:&quot;parentNode&quot;,first:!0},&quot; &quot;:{dir:&quot;parentNode&quot;},&quot;+&quot;:{dir:&quot;previousSibling&quot;,first:!0},&quot;~&quot;:{dir:&quot;previousSibling&quot;}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,we),e[3]=(e[3]||e[4]||e[5]||&quot;&quot;).replace(be,we),
&quot;~=&quot;===e[2]&amp;&amp;(e[3]=&quot; &quot;+e[3]+&quot; &quot;),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),&quot;nth&quot;===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(&quot;even&quot;===e[3]||&quot;odd&quot;===e[3])),e[5]=+(e[7]+e[8]||&quot;odd&quot;===e[3])):e[3]&amp;&amp;t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&amp;&amp;e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||&quot;&quot;:n&amp;&amp;fe.test(n)&amp;&amp;(t=k(n,!0))&amp;&amp;(t=n.indexOf(&quot;)&quot;,n.length-t)-n.length)&amp;&amp;(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,we).toLowerCase();return&quot;*&quot;===e?function(){return!0}:function(e){return e.nodeName&amp;&amp;e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+&quot; &quot;];return t||(t=new RegExp(&quot;(^|&quot;+ne+&quot;)&quot;+e+&quot;(&quot;+ne+&quot;|$)&quot;))&amp;&amp;W(e,function(e){return t.test(&quot;string&quot;==typeof e.className&amp;&amp;e.className||&quot;undefined&quot;!=typeof e.getAttribute&amp;&amp;e.getAttribute(&quot;class&quot;)||&quot;&quot;)})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?&quot;!=&quot;===n:n?(o+=&quot;&quot;,&quot;=&quot;===n?o===r:&quot;!=&quot;===n?o!==r:&quot;^=&quot;===n?r&amp;&amp;0===o.indexOf(r):&quot;*=&quot;===n?r&amp;&amp;o.indexOf(r)&gt;-1:&quot;$=&quot;===n?r&amp;&amp;o.slice(-r.length)===r:&quot;~=&quot;===n?(&quot; &quot;+o.replace(ae,&quot; &quot;)+&quot; &quot;).indexOf(r)&gt;-1:&quot;|=&quot;===n?o===r||o.slice(0,r.length+1)===r+&quot;-&quot;:!1):!0}},CHILD:function(e,t,n,r,i){var o=&quot;nth&quot;!==e.slice(0,3),a=&quot;last&quot;!==e.slice(-4),s=&quot;of-type&quot;===t;return 1===r&amp;&amp;0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,f,p,d,h,m=o!==a?&quot;nextSibling&quot;:&quot;previousSibling&quot;,g=t.parentNode,y=s&amp;&amp;t.nodeName.toLowerCase(),v=!u&amp;&amp;!s,b=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=m=&quot;only&quot;===e&amp;&amp;!h&amp;&amp;&quot;nextSibling&quot;}return!0}if(h=[a?g.firstChild:g.lastChild],a&amp;&amp;v){for(p=g,f=p[H]||(p[H]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[e]||[],d=c[0]===B&amp;&amp;c[1],b=d&amp;&amp;c[2],p=d&amp;&amp;g.childNodes[d];p=++d&amp;&amp;p&amp;&amp;p[m]||(b=d=0)||h.pop();)if(1===p.nodeType&amp;&amp;++b&amp;&amp;p===t){l[e]=[B,d,b];break}}else if(v&amp;&amp;(p=t,f=p[H]||(p[H]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),c=l[e]||[],d=c[0]===B&amp;&amp;c[1],b=d),b===!1)for(;(p=++d&amp;&amp;p&amp;&amp;p[m]||(b=d=0)||h.pop())&amp;&amp;((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(v&amp;&amp;(f=p[H]||(p[H]={}),l=f[p.uniqueID]||(f[p.uniqueID]={}),l[e]=[B,b]),p!==t)););return b-=i,b===r||b%r===0&amp;&amp;b/r&gt;=0}}},PSEUDO:function(e,n){var i,o=O.pseudos[e]||O.setFilters[e.toLowerCase()]||t.error(&quot;unsupported pseudo: &quot;+e);return o[H]?o(n):o.length&gt;1?(i=[e,e,&quot;&quot;,n],O.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=C(e.replace(se,&quot;$1&quot;));return i[H]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&amp;&amp;(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length&gt;0}}),contains:r(function(e){return e=e.replace(be,we),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)&gt;-1}}),lang:r(function(e){return pe.test(e||&quot;&quot;)||t.error(&quot;unsupported lang: &quot;+e),e=e.replace(be,we).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute(&quot;xml:lang&quot;)||t.getAttribute(&quot;lang&quot;))return n=n.toLowerCase(),n===e||0===n.indexOf(e+&quot;-&quot;);while((t=t.parentNode)&amp;&amp;1===t.nodeType);return!1}}),target:function(t){var n=e.location&amp;&amp;e.location.hash;return n&amp;&amp;n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===I.activeElement&amp;&amp;(!I.hasFocus||I.hasFocus())&amp;&amp;!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return&quot;input&quot;===t&amp;&amp;!!e.checked||&quot;option&quot;===t&amp;&amp;!!e.selected},selected:function(e){return e.parentNode&amp;&amp;e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType&lt;6)return!1;return!0},parent:function(e){return!O.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return&quot;input&quot;===t&amp;&amp;&quot;button&quot;===e.type||&quot;button&quot;===t},text:function(e){var t;return&quot;input&quot;===e.nodeName.toLowerCase()&amp;&amp;&quot;text&quot;===e.type&amp;&amp;(null==(t=e.getAttribute(&quot;type&quot;))||&quot;text&quot;===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0&gt;n?n+t:n]}),even:l(function(e,t){for(var n=0;t&gt;n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t&gt;n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0&gt;n?n+t:n;--r&gt;=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0&gt;n?n+t:n;++r&lt;t;)e.push(r);return e})}},O.pseudos.nth=O.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})O.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})O.pseudos[x]=u(x);return p.prototype=O.filters=O.pseudos,O.setFilters=new p,k=t.tokenize=function(e,n){var r,i,o,a,s,u,c,l=z[e+&quot; &quot;];if(l)return n?0:l.slice(0);for(s=e,u=[],c=O.preFilter;s;){(!r||(i=ue.exec(s)))&amp;&amp;(i&amp;&amp;(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&amp;&amp;(r=i.shift(),o.push({value:r,type:i[0].replace(se,&quot; &quot;)}),s=s.slice(r.length));for(a in O.filter)!(i=de[a].exec(s))||c[a]&amp;&amp;!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):z(e,u).slice(0)},C=t.compile=function(e,t){var n,r=[],i=[],o=U[e+&quot; &quot;];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=b(t[n]),o[H]?r.push(o):i.push(o);o=U(e,w(i,r)),o.selector=e}return o},A=t.select=function(e,t,n,r){var i,o,a,s,u,c=&quot;function&quot;==typeof e&amp;&amp;e,l=!r&amp;&amp;k(e=c.selector||e);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length&gt;2&amp;&amp;&quot;ID&quot;===(a=o[0]).type&amp;&amp;9===t.nodeType&amp;&amp;L&amp;&amp;O.relative[o[1].type]){if(t=(O.find.ID(a.matches[0].replace(be,we),t)||[])[0],!t)return n;c&amp;&amp;(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&amp;&amp;(a=o[i],!O.relative[s=a.type]);)if((u=O.find[s])&amp;&amp;(r=u(a.matches[0].replace(be,we),ve.test(o[0].type)&amp;&amp;f(t.parentNode)||t))){if(o.splice(i,1),e=r.length&amp;&amp;d(o),!e)return Q.apply(n,r),n;break}}return(c||C(e,l))(r,t,!L,n,!t||ve.test(e)&amp;&amp;f(t.parentNode)||t),n},T.sortStable=H.split(&quot;&quot;).sort(G).join(&quot;&quot;)===H,T.detectDuplicates=!!_,P(),T.sortDetached=i(function(e){return 1&amp;e.compareDocumentPosition(I.createElement(&quot;fieldset&quot;))}),i(function(e){return e.innerHTML=&quot;&lt;a href='#'&gt;&lt;/a&gt;&quot;,&quot;#&quot;===e.firstChild.getAttribute(&quot;href&quot;)})||o(&quot;type|href|height|width&quot;,function(e,t,n){return n?void 0:e.getAttribute(t,&quot;type&quot;===t.toLowerCase()?1:2)}),T.attributes&amp;&amp;i(function(e){return e.innerHTML=&quot;&lt;input/&gt;&quot;,e.firstChild.setAttribute(&quot;value&quot;,&quot;&quot;),&quot;&quot;===e.firstChild.getAttribute(&quot;value&quot;)})||o(&quot;value&quot;,function(e,t,n){return n||&quot;input&quot;!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute(&quot;disabled&quot;)})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&amp;&amp;r.specified?r.value:null}),t}(e);he.find=be,he.expr=be.selectors,he.expr[&quot;:&quot;]=he.expr.pseudos,he.uniqueSort=he.unique=be.uniqueSort,he.text=be.getText,he.isXMLDoc=be.isXML,he.contains=be.contains,he.escapeSelector=be.escape;var we=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&amp;&amp;9!==e.nodeType;)if(1===e.nodeType){if(i&amp;&amp;he(e).is(n))break;r.push(e)}return r},xe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&amp;&amp;e!==t&amp;&amp;n.push(e);return n},Te=he.expr.match.needsContext,Oe=/^&lt;([a-z][^\/\0&gt;:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?&gt;(?:&lt;\/\1&gt;|)$/i,Se=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var r=t[0];return n&amp;&amp;(e=&quot;:not(&quot;+e+&quot;)&quot;),1===t.length&amp;&amp;1===r.nodeType?he.find.matchesSelector(r,e)?[r]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n,r=this.length,i=this;if(&quot;string&quot;!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;r&gt;t;t++)if(he.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;r&gt;t;t++)he.find(e,i[t],n);return r&gt;1?he.uniqueSort(n):n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,&quot;string&quot;==typeof e&amp;&amp;Te.test(e)?he(e):e||[],!1).length}});var je,ke=/^(?:\s*(&lt;[\w\W]+&gt;)[^&gt;]*|#([\w-]+))$/,Ce=he.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||je,&quot;string&quot;==typeof e){if(r=&quot;&lt;&quot;===e[0]&amp;&amp;&quot;&gt;&quot;===e[e.length-1]&amp;&amp;e.length&gt;=3?[null,e,null]:ke.exec(e),!r||!r[1]&amp;&amp;t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&amp;&amp;t.nodeType?t.ownerDocument||t:te,!0)),Oe.test(r[1])&amp;&amp;he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=te.getElementById(r[2]),i&amp;&amp;(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):he.isFunction(e)?void 0!==n.ready?n.ready(e):e(he):he.makeArray(e,this)};Ce.prototype=he.fn,je=he(te);var Ae=/^(?:parents|prev(?:Until|All))/,Ee={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),n=t.length;return this.filter(function(){for(var e=0;n&gt;e;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a=&quot;string&quot;!=typeof e&amp;&amp;he(e);if(!Te.test(e))for(;i&gt;r;r++)for(n=this[r];n&amp;&amp;n!==t;n=n.parentNode)if(n.nodeType&lt;11&amp;&amp;(a?a.index(n)&gt;-1:1===n.nodeType&amp;&amp;he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length&gt;1?he.uniqueSort(o):o)},index:function(e){return e?&quot;string&quot;==typeof e?ae.call(he(e),this[0]):ae.call(this,e.jquery?e[0]:e):this[0]&amp;&amp;this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function e(t){var e=t.parentNode;return e&amp;&amp;11!==e.nodeType?e:null},parents:function(e){return we(e,&quot;parentNode&quot;)},parentsUntil:function(e,t,n){return we(e,&quot;parentNode&quot;,n)},next:function(e){return o(e,&quot;nextSibling&quot;)},prev:function(e){return o(e,&quot;previousSibling&quot;)},nextAll:function(e){return we(e,&quot;nextSibling&quot;)},prevAll:function(e){return we(e,&quot;previousSibling&quot;)},nextUntil:function(e,t,n){return we(e,&quot;nextSibling&quot;,n)},prevUntil:function(e,t,n){return we(e,&quot;previousSibling&quot;,n)},siblings:function(e){return xe((e.parentNode||{}).firstChild,e)},children:function(e){return xe(e.firstChild)},contents:function(e){return e.contentDocument||he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(n,r){var i=he.map(this,t,n);return&quot;Until&quot;!==e.slice(-5)&amp;&amp;(r=n),r&amp;&amp;&quot;string&quot;==typeof r&amp;&amp;(i=he.filter(r,i)),this.length&gt;1&amp;&amp;(Ee[e]||he.uniqueSort(i),Ae.test(e)&amp;&amp;i.reverse()),this.pushStack(i)}});var Ne=/[^\x20\t\r\n\f]+/g;he.Callbacks=function(e){e=&quot;string&quot;==typeof e?a(e):he.extend({},e);var t,n,r,i,o=[],s=[],u=-1,c=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u&lt;o.length;)o[u].apply(n[0],n[1])===!1&amp;&amp;e.stopOnFalse&amp;&amp;(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&amp;&amp;(o=n?[]:&quot;&quot;)},l={add:function(){return o&amp;&amp;(n&amp;&amp;!t&amp;&amp;(u=o.length-1,s.push(n)),function t(n){he.each(n,function(n,r){he.isFunction(r)?e.unique&amp;&amp;l.has(r)||o.push(r):r&amp;&amp;r.length&amp;&amp;&quot;string&quot;!==he.type(r)&amp;&amp;t(r)})}(arguments),n&amp;&amp;!t&amp;&amp;c()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,o,n))&gt;-1;)o.splice(n,1),u&gt;=n&amp;&amp;u--}),this},has:function(e){return e?he.inArray(e,o)&gt;-1:o.length&gt;0},empty:function(){return o&amp;&amp;(o=[]),this},disable:function(){return i=s=[],o=n=&quot;&quot;,this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=&quot;&quot;),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},he.extend({Deferred:function(t){var n=[[&quot;notify&quot;,&quot;progress&quot;,he.Callbacks(&quot;memory&quot;),he.Callbacks(&quot;memory&quot;),2],[&quot;resolve&quot;,&quot;done&quot;,he.Callbacks(&quot;once memory&quot;),he.Callbacks(&quot;once memory&quot;),0,&quot;resolved&quot;],[&quot;reject&quot;,&quot;fail&quot;,he.Callbacks(&quot;once memory&quot;),he.Callbacks(&quot;once memory&quot;),1,&quot;rejected&quot;]],r=&quot;pending&quot;,i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return he.Deferred(function(t){he.each(n,function(n,r){var i=he.isFunction(e[r[4]])&amp;&amp;e[r[4]];o[r[1]](function(){var e=i&amp;&amp;i.apply(this,arguments);e&amp;&amp;he.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+&quot;With&quot;](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var c=this,l=arguments,f=function(){var e,f;if(!(a&gt;t)){if(e=r.apply(c,l),e===n.promise())throw new TypeError(&quot;Thenable self-resolution&quot;);f=e&amp;&amp;(&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))||&quot;function&quot;==typeof e)&amp;&amp;e.then,he.isFunction(f)?i?f.call(e,o(a,n,s,i),o(a,n,u,i)):(a++,f.call(e,o(a,n,s,i),o(a,n,u,i),o(a,n,s,n.notifyWith))):(r!==s&amp;&amp;(c=void 0,l=[e]),(i||n.resolveWith)(c,l))}},p=i?f:function(){try{f()}catch(e){he.Deferred.exceptionHook&amp;&amp;he.Deferred.exceptionHook(e,p.stackTrace),t+1&gt;=a&amp;&amp;(r!==u&amp;&amp;(c=void 0,l=[e]),n.rejectWith(c,l))}};t?p():(he.Deferred.getStackHook&amp;&amp;(p.stackTrace=he.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return he.Deferred(function(e){n[0][3].add(o(0,e,he.isFunction(i)?i:s,e.notifyWith)),n[1][3].add(o(0,e,he.isFunction(t)?t:s)),n[2][3].add(o(0,e,he.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?he.extend(e,i):i}},o={};return he.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&amp;&amp;a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+&quot;With&quot;](this===o?void 0:this,arguments),this},o[t[0]+&quot;With&quot;]=a.fireWith}),i.promise(o),t&amp;&amp;t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=re.call(arguments),o=he.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length&gt;1?re.call(arguments):n,--t||o.resolveWith(r,i)}};if(1&gt;=t&amp;&amp;(c(e,o.done(a(n)).resolve,o.reject),&quot;pending&quot;===o.state()||he.isFunction(i[n]&amp;&amp;i[n].then)))return o.then();for(;n--;)c(i[n],a(n),o.reject);return o.promise()}});var _e=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;he.Deferred.exceptionHook=function(t,n){e.console&amp;&amp;e.console.warn&amp;&amp;t&amp;&amp;_e.test(t.name)&amp;&amp;e.console.warn(&quot;jQuery.Deferred exception: &quot;+t.message,t.stack,n)},he.readyException=function(t){e.setTimeout(function(){throw t})};var Pe=he.Deferred();he.fn.ready=function(e){return Pe.then(e).catch(function(e){he.readyException(e)}),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(e===!0?--he.readyWait:he.isReady)||(he.isReady=!0,e!==!0&amp;&amp;--he.readyWait&gt;0||Pe.resolveWith(te,[he]))}}),he.ready.then=Pe.then,&quot;complete&quot;===te.readyState||&quot;loading&quot;!==te.readyState&amp;&amp;!te.documentElement.doScroll?e.setTimeout(he.ready):(te.addEventListener(&quot;DOMContentLoaded&quot;,l),e.addEventListener(&quot;load&quot;,l));var Ie=function e(t,n,r,i,o,a,s){var u=0,c=t.length,l=null==r;if(&quot;object&quot;===he.type(r)){o=!0;for(u in r)e(t,n,u,r[u],!0,a,s)}else if(void 0!==i&amp;&amp;(o=!0,he.isFunction(i)||(s=!0),l&amp;&amp;(s?(n.call(t,i),n=null):(l=n,n=function(e,t,n){return l.call(he(e),n)})),n))for(;c&gt;u;u++)n(t[u],r,s?i:i.call(t[u],u,n(t[u],r)));return o?t:l?n.call(t):c?n(t[0],r):a},Me=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Me(e)&amp;&amp;(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if(&quot;string&quot;==typeof t)i[he.camelCase(t)]=n;else for(r in t)i[he.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&amp;&amp;e[this.expando][he.camelCase(t)]},access:function(e,t,n){return void 0===t||t&amp;&amp;&quot;string&quot;==typeof t&amp;&amp;void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){he.isArray(t)?t=t.map(he.camelCase):(t=he.camelCase(t),t=t in r?[t]:t.match(Ne)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||he.isEmptyObject(r))&amp;&amp;(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&amp;&amp;!he.isEmptyObject(t)}};var Le=new f,Fe=new f,De=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;he.extend({hasData:function(e){return Fe.hasData(e)||Le.hasData(e)},data:function(e,t,n){return Fe.access(e,t,n)},removeData:function(e,t){Fe.remove(e,t)},_data:function(e,t,n){return Le.access(e,t,n)},_removeData:function(e,t){Le.remove(e,t)}}),he.fn.extend({data:function e(t,n){var r,i,e,o=this[0],a=o&amp;&amp;o.attributes;if(void 0===t){if(this.length&amp;&amp;(e=Fe.get(o),1===o.nodeType&amp;&amp;!Le.get(o,&quot;hasDataAttrs&quot;))){for(r=a.length;r--;)a[r]&amp;&amp;(i=a[r].name,0===i.indexOf(&quot;data-&quot;)&amp;&amp;(i=he.camelCase(i.slice(5)),d(o,i,e[i])));Le.set(o,&quot;hasDataAttrs&quot;,!0)}return e}return&quot;object&quot;===(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))?this.each(function(){Fe.set(this,t)}):Ie(this,function(e){var n;if(o&amp;&amp;void 0===e){if(n=Fe.get(o,t),void 0!==n)return n;if(n=d(o,t),void 0!==n)return n}else this.each(function(){Fe.set(this,t,e)})},null,n,arguments.length&gt;1,null,!0)},removeData:function(e){return this.each(function(){Fe.remove(this,e)})}}),he.extend({queue:function e(t,n,r){var e;return t?(n=(n||&quot;fx&quot;)+&quot;queue&quot;,e=Le.get(t,n),r&amp;&amp;(!e||he.isArray(r)?e=Le.access(t,n,he.makeArray(r)):e.push(r)),e||[]):void 0},dequeue:function(e,t){t=t||&quot;fx&quot;;var n=he.queue(e,t),r=n.length,i=n.shift(),o=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};&quot;inprogress&quot;===i&amp;&amp;(i=n.shift(),r--),i&amp;&amp;(&quot;fx&quot;===t&amp;&amp;n.unshift(&quot;inprogress&quot;),delete o.stop,i.call(e,a,o)),!r&amp;&amp;o&amp;&amp;o.empty.fire()},_queueHooks:function(e,t){var n=t+&quot;queueHooks&quot;;return Le.get(e,n)||Le.access(e,n,{empty:he.Callbacks(&quot;once memory&quot;).add(function(){Le.remove(e,[t+&quot;queue&quot;,n])})})}}),he.fn.extend({queue:function(e,t){var n=2;return&quot;string&quot;!=typeof e&amp;&amp;(t=e,e=&quot;fx&quot;,n--),arguments.length&lt;n?he.queue(this[0],e):void 0===t?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),&quot;fx&quot;===e&amp;&amp;&quot;inprogress&quot;!==n[0]&amp;&amp;he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||&quot;fx&quot;,[])},promise:function(e,t){var n,r=1,i=he.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for(&quot;string&quot;!=typeof e&amp;&amp;(t=e,e=void 0),e=e||&quot;fx&quot;;a--;)n=Le.get(o[a],e+&quot;queueHooks&quot;),n&amp;&amp;n.empty&amp;&amp;(r++,n.empty.add(s));return s(),i.promise(t)}});var qe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,He=new RegExp(&quot;^(?:([+-])=|)(&quot;+qe+&quot;)([a-z%]*)$&quot;,&quot;i&quot;),$e=[&quot;Top&quot;,&quot;Right&quot;,&quot;Bottom&quot;,&quot;Left&quot;],Be=function(e,t){return e=t||e,&quot;none&quot;===e.style.display||&quot;&quot;===e.style.display&amp;&amp;he.contains(e.ownerDocument,e)&amp;&amp;&quot;none&quot;===he.css(e,&quot;display&quot;)},Ve=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},We={};he.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(e){return&quot;boolean&quot;==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?he(this).show():he(this).hide()})}});var ze=/^(?:checkbox|radio)$/i,Ue=/&lt;([a-z][^\/\0&gt;\x20\t\r\n\f]+)/i,Ge=/^$|\/(?:java|ecma)script/i,Xe={option:[1,&quot;&lt;select multiple='multiple'&gt;&quot;,&quot;&lt;/select&gt;&quot;],thead:[1,&quot;&lt;table&gt;&quot;,&quot;&lt;/table&gt;&quot;],col:[2,&quot;&lt;table&gt;&lt;colgroup&gt;&quot;,&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;],tr:[2,&quot;&lt;table&gt;&lt;tbody&gt;&quot;,&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;],td:[3,&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;,&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;],_default:[0,&quot;&quot;,&quot;&quot;]};Xe.optgroup=Xe.option,Xe.tbody=Xe.tfoot=Xe.colgroup=Xe.caption=Xe.thead,Xe.th=Xe.td;var Je=/&lt;|&amp;#?\w+;/;!function(){var e=te.createDocumentFragment(),t=e.appendChild(te.createElement(&quot;div&quot;)),n=te.createElement(&quot;input&quot;);n.setAttribute(&quot;type&quot;,&quot;radio&quot;),n.setAttribute(&quot;checked&quot;,&quot;checked&quot;),n.setAttribute(&quot;name&quot;,&quot;t&quot;),t.appendChild(n),pe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML=&quot;&lt;textarea&gt;x&lt;/textarea&gt;&quot;,pe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ye=te.documentElement,Ze=/^key/,Qe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ke=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,f,p,d,h,m,g=Le.get(e);if(g)for(n.handler&amp;&amp;(o=n,n=o.handler,i=o.selector),i&amp;&amp;he.find.matchesSelector(Ye,i),n.guid||(n.guid=he.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return&quot;undefined&quot;!=typeof he&amp;&amp;he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):void 0}),t=(t||&quot;&quot;).match(Ne)||[&quot;&quot;],c=t.length;c--;)s=Ke.exec(t[c])||[],d=m=s[1],h=(s[2]||&quot;&quot;).split(&quot;.&quot;).sort(),d&amp;&amp;(f=he.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=he.event.special[d]||{},l=he.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&amp;&amp;he.expr.match.needsContext.test(i),namespace:h.join(&quot;.&quot;)},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&amp;&amp;f.setup.call(e,r,h,a)!==!1||e.addEventListener&amp;&amp;e.addEventListener(d,a)),f.add&amp;&amp;(f.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),he.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,f,p,d,h,m,g=Le.hasData(e)&amp;&amp;Le.get(e);if(g&amp;&amp;(u=g.events)){for(t=(t||&quot;&quot;).match(Ne)||[&quot;&quot;],c=t.length;c--;)if(s=Ke.exec(t[c])||[],d=m=s[1],h=(s[2]||&quot;&quot;).split(&quot;.&quot;).sort(),d){for(f=he.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&amp;&amp;new RegExp(&quot;(^|\\.)&quot;+h.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;),a=o=p.length;o--;)l=p[o],!i&amp;&amp;m!==l.origType||n&amp;&amp;n.guid!==l.guid||s&amp;&amp;!s.test(l.namespace)||r&amp;&amp;r!==l.selector&amp;&amp;(&quot;**&quot;!==r||!l.selector)||(p.splice(o,1),l.selector&amp;&amp;p.delegateCount--,f.remove&amp;&amp;f.remove.call(e,l));a&amp;&amp;!p.length&amp;&amp;(f.teardown&amp;&amp;f.teardown.call(e,h,g.handle)!==!1||he.removeEvent(e,d,g.handle),delete u[d])}else for(d in u)he.event.remove(e,d+t[c],n,r,!0);he.isEmptyObject(u)&amp;&amp;Le.remove(e,&quot;handle events&quot;)}},dispatch:function(e){var t,n,r,i,o,a,s=he.event.fix(e),u=new Array(arguments.length),c=(Le.get(this,&quot;events&quot;)||{})[s.type]||[],l=he.event.special[s.type]||{};for(u[0]=s,t=1;t&lt;arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,s)!==!1){for(a=he.event.handlers.call(this,s,c),t=0;(i=a[t++])&amp;&amp;!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&amp;&amp;!s.isImmediatePropagationStopped();)(!s.rnamespace||s.rnamespace.test(o.namespace))&amp;&amp;(s.handleObj=o,s.data=o.data,r=((he.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&amp;&amp;(s.result=r)===!1&amp;&amp;(s.preventDefault(),s.stopPropagation()));return l.postDispatch&amp;&amp;l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&amp;&amp;c.nodeType&amp;&amp;!(&quot;click&quot;===e.type&amp;&amp;e.button&gt;=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&amp;&amp;(&quot;click&quot;!==e.type||c.disabled!==!0)){for(o=[],a={},n=0;u&gt;n;n++)r=t[n],i=r.selector+&quot; &quot;,void 0===a[i]&amp;&amp;(a[i]=r.needsContext?he(i,this).index(c)&gt;-1:he.find(i,this,null,[c]).length),a[i]&amp;&amp;o.push(r);o.length&amp;&amp;s.push({elem:c,handlers:o})}return c=this,u&lt;t.length&amp;&amp;s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(he.Event.prototype,e,{enumerable:!0,configurable:!0,get:he.isFunction(t)?function(){return this.originalEvent?t(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[e]:void 0},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[he.expando]?e:new he.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==T()&amp;&amp;this.focus?(this.focus(),!1):void 0},delegateType:&quot;focusin&quot;},blur:{trigger:function(){return this===T()&amp;&amp;this.blur?(this.blur(),!1):void 0},delegateType:&quot;focusout&quot;},click:{trigger:function(){return&quot;checkbox&quot;===this.type&amp;&amp;this.click&amp;&amp;he.nodeName(this,&quot;input&quot;)?(this.click(),!1):void 0},_default:function(e){return he.nodeName(e.target,&quot;a&quot;)}},beforeunload:{postDispatch:function(e){void 0!==e.result&amp;&amp;e.originalEvent&amp;&amp;(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,n){e.removeEventListener&amp;&amp;e.removeEventListener(t,n)},he.Event=function(e,t){return this instanceof he.Event?(e&amp;&amp;e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&amp;&amp;e.returnValue===!1?w:x,this.target=e.target&amp;&amp;3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&amp;&amp;he.extend(this,t),this.timeStamp=e&amp;&amp;e.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(e,t)},he.Event.prototype={constructor:he.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=w,e&amp;&amp;!this.isSimulated&amp;&amp;e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=w,e&amp;&amp;!this.isSimulated&amp;&amp;e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=w,e&amp;&amp;!this.isSimulated&amp;&amp;e.stopImmediatePropagation(),this.stopPropagation()}},he.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&amp;&amp;Ze.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&amp;&amp;void 0!==t&amp;&amp;Qe.test(e.type)?1&amp;t?1:2&amp;t?3:4&amp;t?2:0:e.which}},he.event.addProp),he.each({mouseenter:&quot;mouseover&quot;,mouseleave:&quot;mouseout&quot;,pointerenter:&quot;pointerover&quot;,pointerleave:&quot;pointerout&quot;},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&amp;&amp;!he.contains(r,i))&amp;&amp;(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),he.fn.extend({on:function(e,t,n,r){return O(this,e,t,n,r)},one:function(e,t,n,r){return O(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&amp;&amp;e.preventDefault&amp;&amp;e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+&quot;.&quot;+r.namespace:r.origType,r.selector,r.handler),this;if(&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||&quot;function&quot;==typeof t)&amp;&amp;(n=t,t=void 0),n===!1&amp;&amp;(n=x),this.each(function(){he.event.remove(this,e,n,t)})}});var et=/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0&gt;\x20\t\r\n\f]*)[^&gt;]*)\/&gt;/gi,tt=/&lt;script|&lt;style|&lt;link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,it=/^\s*&lt;!(?:\[CDATA\[|--)|(?:\]\]|--)&gt;\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(et,&quot;&lt;$1&gt;&lt;/$2&gt;&quot;)},clone:function e(t,n,r){var i,o,a,s,e=t.cloneNode(!0),u=he.contains(t.ownerDocument,t);if(!(pe.noCloneChecked||1!==t.nodeType&amp;&amp;11!==t.nodeType||he.isXMLDoc(t)))for(s=y(e),a=y(t),i=0,o=a.length;o&gt;i;i++)A(a[i],s[i]);if(n)if(r)for(a=a||y(t),s=s||y(e),i=0,o=a.length;o&gt;i;i++)C(a[i],s[i]);else C(t,e);return s=y(e,&quot;script&quot;),s.length&gt;0&amp;&amp;v(s,!u&amp;&amp;y(t,&quot;script&quot;)),e},cleanData:function(e){for(var t,n,r,i=he.event.special,o=0;void 0!==(n=e[o]);o++)if(Me(n)){if(t=n[Le.expando]){if(t.events)for(r in t.events)i[r]?he.event.remove(n,r):he.removeEvent(n,r,t.handle);n[Le.expando]=void 0}n[Fe.expando]&amp;&amp;(n[Fe.expando]=void 0)}}}),he.fn.extend({detach:function(e){return N(this,e,!0)},remove:function(e){return N(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?he.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&amp;&amp;(this.textContent=e)})},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.appendChild(e)}})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=S(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&amp;&amp;this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&amp;&amp;this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&amp;&amp;(he.cleanData(y(e,!1)),e.textContent=&quot;&quot;);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&amp;&amp;1===t.nodeType)return t.innerHTML;if(&quot;string&quot;==typeof e&amp;&amp;!tt.test(e)&amp;&amp;!Xe[(Ue.exec(e)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;r&gt;n;n++)t=this[n]||{},1===t.nodeType&amp;&amp;(he.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&amp;&amp;this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return E(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)&lt;0&amp;&amp;(he.cleanData(y(this)),n&amp;&amp;n.replaceChild(t,this))},e)}}),he.each({appendTo:&quot;append&quot;,prependTo:&quot;prepend&quot;,insertBefore:&quot;before&quot;,insertAfter:&quot;after&quot;,replaceAll:&quot;replaceWith&quot;},function(e,t){he.fn[e]=function(e){for(var n,r=[],i=he(e),o=i.length-1,a=0;o&gt;=a;a++)n=a===o?this:this.clone(!0),he(i[a])[t](n),oe.apply(r,n.get());return this.pushStack(r)}});var ot=/^margin/,at=new RegExp(&quot;^(&quot;+qe+&quot;)(?!px)[a-z%]+$&quot;,&quot;i&quot;),st=function(t){var n=t.ownerDocument.defaultView;return n&amp;&amp;n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText=&quot;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%&quot;,s.innerHTML=&quot;&quot;,Ye.appendChild(a);var t=e.getComputedStyle(s);n=&quot;1%&quot;!==t.top,o=&quot;2px&quot;===t.marginLeft,r=&quot;4px&quot;===t.width,s.style.marginRight=&quot;50%&quot;,i=&quot;4px&quot;===t.marginRight,Ye.removeChild(a),s=null}}var n,r,i,o,a=te.createElement(&quot;div&quot;),s=te.createElement(&quot;div&quot;);s.style&amp;&amp;(s.style.backgroundClip=&quot;content-box&quot;,s.cloneNode(!0).style.backgroundClip=&quot;&quot;,pe.clearCloneStyle=&quot;content-box&quot;===s.style.backgroundClip,a.style.cssText=&quot;border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute&quot;,a.appendChild(s),he.extend(pe,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var ut=/^(none|table(?!-c[ea]).+)/,ct={position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,display:&quot;block&quot;},lt={letterSpacing:&quot;0&quot;,fontWeight:&quot;400&quot;},ft=[&quot;Webkit&quot;,&quot;Moz&quot;,&quot;ms&quot;],pt=te.createElement(&quot;div&quot;).style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_(e,&quot;opacity&quot;);return&quot;&quot;===n?&quot;1&quot;:n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:&quot;cssFloat&quot;},style:function e(t,n,r,i){if(t&amp;&amp;3!==t.nodeType&amp;&amp;8!==t.nodeType&amp;&amp;t.style){var o,a,s,u=he.camelCase(n),e=t.style;return n=he.cssProps[u]||(he.cssProps[u]=I(u)||u),s=he.cssHooks[n]||he.cssHooks[u],void 0===r?s&amp;&amp;&quot;get&quot;in s&amp;&amp;void 0!==(o=s.get(t,!1,i))?o:e[n]:(a=&quot;undefined&quot;==typeof r?&quot;undefined&quot;:_typeof(r),&quot;string&quot;===a&amp;&amp;(o=He.exec(r))&amp;&amp;o[1]&amp;&amp;(r=h(t,n,o),a=&quot;number&quot;),null!=r&amp;&amp;r===r&amp;&amp;(&quot;number&quot;===a&amp;&amp;(r+=o&amp;&amp;o[3]||(he.cssNumber[u]?&quot;&quot;:&quot;px&quot;)),pe.clearCloneStyle||&quot;&quot;!==r||0!==n.indexOf(&quot;background&quot;)||(e[n]=&quot;inherit&quot;),s&amp;&amp;&quot;set&quot;in s&amp;&amp;void 0===(r=s.set(t,r,i))||(e[n]=r)),void 0)}},css:function(e,t,n,r){var i,o,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=I(s)||s),a=he.cssHooks[t]||he.cssHooks[s],a&amp;&amp;&quot;get&quot;in a&amp;&amp;(i=a.get(e,!0,n)),void 0===i&amp;&amp;(i=_(e,t,r)),&quot;normal&quot;===i&amp;&amp;t in lt&amp;&amp;(i=lt[t]),&quot;&quot;===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),he.each([&quot;height&quot;,&quot;width&quot;],function(e,t){he.cssHooks[t]={get:function(e,n,r){return n?!ut.test(he.css(e,&quot;display&quot;))||e.getClientRects().length&amp;&amp;e.getBoundingClientRect().width?F(e,t,r):Ve(e,ct,function(){return F(e,t,r)}):void 0},set:function(e,n,r){var i,o=r&amp;&amp;st(e),a=r&amp;&amp;L(e,t,r,&quot;border-box&quot;===he.css(e,&quot;boxSizing&quot;,!1,o),o);return a&amp;&amp;(i=He.exec(n))&amp;&amp;&quot;px&quot;!==(i[3]||&quot;px&quot;)&amp;&amp;(e.style[t]=n,n=he.css(e,t)),M(e,n,a)}}}),he.cssHooks.marginLeft=P(pe.reliableMarginLeft,function(e,t){return t?(parseFloat(_(e,&quot;marginLeft&quot;))||e.getBoundingClientRect().left-Ve(e,{
marginLeft:0},function(){return e.getBoundingClientRect().left}))+&quot;px&quot;:void 0}),he.each({margin:&quot;&quot;,padding:&quot;&quot;,border:&quot;Width&quot;},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o=&quot;string&quot;==typeof n?n.split(&quot; &quot;):[n];4&gt;r;r++)i[e+$e[r]+t]=o[r]||o[r-2]||o[0];return i}},ot.test(e)||(he.cssHooks[e+t].set=M)}),he.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var r,i,o={},a=0;if(he.isArray(t)){for(r=st(e),i=t.length;i&gt;a;a++)o[t[a]]=he.css(e,t[a],!1,r);return o}return void 0!==n?he.style(e,t,n):he.css(e,t)},e,t,arguments.length&gt;1)}}),he.Tween=D,D.prototype={constructor:D,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(he.cssNumber[n]?&quot;&quot;:&quot;px&quot;)},cur:function(){var e=D.propHooks[this.prop];return e&amp;&amp;e.get?e.get(this):D.propHooks._default.get(this)},run:function(e){var t,n=D.propHooks[this.prop];return this.pos=t=this.options.duration?he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&amp;&amp;this.options.step.call(this.elem,this.now,this),n&amp;&amp;n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&amp;&amp;null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,&quot;&quot;),t&amp;&amp;&quot;auto&quot;!==t?t:0)},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&amp;&amp;!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(e){e.elem.nodeType&amp;&amp;e.elem.parentNode&amp;&amp;(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:&quot;swing&quot;},he.fx=D.prototype.init,he.fx.step={};var dt,ht,mt=/^(?:toggle|show|hide)$/,gt=/queueHooks$/;he.Animation=he.extend(W,{tweeners:{&quot;*&quot;:[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,He.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=[&quot;*&quot;]):e=e.match(Ne);for(var n,r=0,i=e.length;i&gt;r;r++)n=e[r],W.tweeners[n]=W.tweeners[n]||[],W.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),he.speed=function(e,t,n){var r=e&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))?he.extend({},e):{complete:n||!n&amp;&amp;t||he.isFunction(e)&amp;&amp;e,duration:e,easing:n&amp;&amp;t||t&amp;&amp;!he.isFunction(t)&amp;&amp;t};return he.fx.off||te.hidden?r.duration=0:&quot;number&quot;!=typeof r.duration&amp;&amp;(r.duration=r.duration in he.fx.speeds?he.fx.speeds[r.duration]:he.fx.speeds._default),(null==r.queue||r.queue===!0)&amp;&amp;(r.queue=&quot;fx&quot;),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&amp;&amp;r.old.call(this),r.queue&amp;&amp;he.dequeue(this,r.queue)},r},he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Be).css(&quot;opacity&quot;,0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=he.isEmptyObject(e),o=he.speed(t,n,r),a=function(){var t=W(this,he.extend({},e),o);(i||Le.get(this,&quot;finish&quot;))&amp;&amp;t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return&quot;string&quot;!=typeof e&amp;&amp;(n=t,t=e,e=void 0),t&amp;&amp;e!==!1&amp;&amp;this.queue(e||&quot;fx&quot;,[]),this.each(function(){var t=!0,i=null!=e&amp;&amp;e+&quot;queueHooks&quot;,o=he.timers,a=Le.get(this);if(i)a[i]&amp;&amp;a[i].stop&amp;&amp;r(a[i]);else for(i in a)a[i]&amp;&amp;a[i].stop&amp;&amp;gt.test(i)&amp;&amp;r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&amp;&amp;o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&amp;&amp;he.dequeue(this,e)})},finish:function(e){return e!==!1&amp;&amp;(e=e||&quot;fx&quot;),this.each(function(){var t,n=Le.get(this),r=n[e+&quot;queue&quot;],i=n[e+&quot;queueHooks&quot;],o=he.timers,a=r?r.length:0;for(n.finish=!0,he.queue(this,e,[]),i&amp;&amp;i.stop&amp;&amp;i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&amp;&amp;o[t].queue===e&amp;&amp;(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a&gt;t;t++)r[t]&amp;&amp;r[t].finish&amp;&amp;r[t].finish.call(this);delete n.finish})}}),he.each([&quot;toggle&quot;,&quot;show&quot;,&quot;hide&quot;],function(e,t){var n=he.fn[t];he.fn[t]=function(e,r,i){return null==e||&quot;boolean&quot;==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,r,i)}}),he.each({slideDown:H(&quot;show&quot;),slideUp:H(&quot;hide&quot;),slideToggle:H(&quot;toggle&quot;),fadeIn:{opacity:&quot;show&quot;},fadeOut:{opacity:&quot;hide&quot;},fadeToggle:{opacity:&quot;toggle&quot;}},function(e,t){he.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),he.timers=[],he.fx.tick=function(){var e,t=0,n=he.timers;for(dt=he.now();t&lt;n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||he.fx.stop(),dt=void 0},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){ht||(ht=e.requestAnimationFrame?e.requestAnimationFrame(R):e.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ht):e.clearInterval(ht),ht=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx?he.fx.speeds[t]||t:t,n=n||&quot;fx&quot;,this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=te.createElement(&quot;input&quot;),t=te.createElement(&quot;select&quot;),n=t.appendChild(te.createElement(&quot;option&quot;));e.type=&quot;checkbox&quot;,pe.checkOn=&quot;&quot;!==e.value,pe.optSelected=n.selected,e=te.createElement(&quot;input&quot;),e.value=&quot;t&quot;,e.type=&quot;radio&quot;,pe.radioValue=&quot;t&quot;===e.value}();var yt,vt=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return Ie(this,he.attr,e,t,arguments.length&gt;1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&amp;&amp;8!==o&amp;&amp;2!==o)return&quot;undefined&quot;==typeof e.getAttribute?he.prop(e,t,n):(1===o&amp;&amp;he.isXMLDoc(e)||(i=he.attrHooks[t.toLowerCase()]||(he.expr.match.bool.test(t)?yt:void 0)),void 0!==n?null===n?void he.removeAttr(e,t):i&amp;&amp;&quot;set&quot;in i&amp;&amp;void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+&quot;&quot;),n):i&amp;&amp;&quot;get&quot;in i&amp;&amp;null!==(r=i.get(e,t))?r:(r=he.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!pe.radioValue&amp;&amp;&quot;radio&quot;===t&amp;&amp;he.nodeName(e,&quot;input&quot;)){var n=e.value;return e.setAttribute(&quot;type&quot;,t),n&amp;&amp;(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&amp;&amp;t.match(Ne);if(i&amp;&amp;1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),yt={set:function(e,t,n){return t===!1?he.removeAttr(e,n):e.setAttribute(n,n),n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vt[t]||he.find.attr;vt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=vt[a],vt[a]=i,i=null!=n(e,t,r)?a:null,vt[a]=o),i}});var bt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return Ie(this,he.prop,e,t,arguments.length&gt;1)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&amp;&amp;8!==o&amp;&amp;2!==o)return 1===o&amp;&amp;he.isXMLDoc(e)||(t=he.propFix[t]||t,i=he.propHooks[t]),void 0!==n?i&amp;&amp;&quot;set&quot;in i&amp;&amp;void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&amp;&amp;&quot;get&quot;in i&amp;&amp;null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,&quot;tabindex&quot;);return t?parseInt(t,10):bt.test(e.nodeName)||wt.test(e.nodeName)&amp;&amp;e.href?0:-1}}},propFix:{for:&quot;htmlFor&quot;,class:&quot;className&quot;}}),pe.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&amp;&amp;t.parentNode&amp;&amp;t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&amp;&amp;(t.selectedIndex,t.parentNode&amp;&amp;t.parentNode.selectedIndex)}}),he.each([&quot;tabIndex&quot;,&quot;readOnly&quot;,&quot;maxLength&quot;,&quot;cellSpacing&quot;,&quot;cellPadding&quot;,&quot;rowSpan&quot;,&quot;colSpan&quot;,&quot;useMap&quot;,&quot;frameBorder&quot;,&quot;contentEditable&quot;],function(){he.propFix[this.toLowerCase()]=this}),he.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,U(this)))});if(&quot;string&quot;==typeof e&amp;&amp;e)for(t=e.match(Ne)||[];n=this[u++];)if(i=U(n),r=1===n.nodeType&amp;&amp;&quot; &quot;+z(i)+&quot; &quot;){for(a=0;o=t[a++];)r.indexOf(&quot; &quot;+o+&quot; &quot;)&lt;0&amp;&amp;(r+=o+&quot; &quot;);s=z(r),i!==s&amp;&amp;n.setAttribute(&quot;class&quot;,s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr(&quot;class&quot;,&quot;&quot;);if(&quot;string&quot;==typeof e&amp;&amp;e)for(t=e.match(Ne)||[];n=this[u++];)if(i=U(n),r=1===n.nodeType&amp;&amp;&quot; &quot;+z(i)+&quot; &quot;){for(a=0;o=t[a++];)for(;r.indexOf(&quot; &quot;+o+&quot; &quot;)&gt;-1;)r=r.replace(&quot; &quot;+o+&quot; &quot;,&quot; &quot;);s=z(r),i!==s&amp;&amp;n.setAttribute(&quot;class&quot;,s)}return this},toggleClass:function(e,t){var n=&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e);return&quot;boolean&quot;==typeof t&amp;&amp;&quot;string&quot;===n?t?this.addClass(e):this.removeClass(e):this.each(he.isFunction(e)?function(n){he(this).toggleClass(e.call(this,n,U(this),t),t)}:function(){var t,r,i,o;if(&quot;string&quot;===n)for(r=0,i=he(this),o=e.match(Ne)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(void 0===e||&quot;boolean&quot;===n)&amp;&amp;(t=U(this),t&amp;&amp;Le.set(this,&quot;__className__&quot;,t),this.setAttribute&amp;&amp;this.setAttribute(&quot;class&quot;,t||e===!1?&quot;&quot;:Le.get(this,&quot;__className__&quot;)||&quot;&quot;))})},hasClass:function(e){var t,n,r=0;for(t=&quot; &quot;+e+&quot; &quot;;n=this[r++];)if(1===n.nodeType&amp;&amp;(&quot; &quot;+z(U(n))+&quot; &quot;).indexOf(t)&gt;-1)return!0;return!1}});var xt=/\r/g;he.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=he.isFunction(e),this.each(function(n){var i;1===this.nodeType&amp;&amp;(i=r?e.call(this,n,he(this).val()):e,null==i?i=&quot;&quot;:&quot;number&quot;==typeof i?i+=&quot;&quot;:he.isArray(i)&amp;&amp;(i=he.map(i,function(e){return null==e?&quot;&quot;:e+&quot;&quot;})),t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],t&amp;&amp;&quot;set&quot;in t&amp;&amp;void 0!==t.set(this,i,&quot;value&quot;)||(this.value=i))});if(i)return t=he.valHooks[i.type]||he.valHooks[i.nodeName.toLowerCase()],t&amp;&amp;&quot;get&quot;in t&amp;&amp;void 0!==(n=t.get(i,&quot;value&quot;))?n:(n=i.value,&quot;string&quot;==typeof n?n.replace(xt,&quot;&quot;):null==n?&quot;&quot;:n)}}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,&quot;value&quot;);return null!=t?t:z(he.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a=&quot;select-one&quot;===e.type,s=a?null:[],u=a?o+1:i.length;for(r=0&gt;o?u:a?o:0;u&gt;r;r++)if(n=i[r],!(!n.selected&amp;&amp;r!==o||n.disabled||n.parentNode.disabled&amp;&amp;he.nodeName(n.parentNode,&quot;optgroup&quot;))){if(t=he(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=he.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=he.inArray(he.valHooks.option.get(r),o)&gt;-1)&amp;&amp;(n=!0);return n||(e.selectedIndex=-1),o}}}}),he.each([&quot;radio&quot;,&quot;checkbox&quot;],function(){he.valHooks[this]={set:function(e,t){return he.isArray(t)?e.checked=he.inArray(he(e).val(),t)&gt;-1:void 0}},pe.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute(&quot;value&quot;)?&quot;on&quot;:e.value})});var Tt=/^(?:focusinfocus|focusoutblur)$/;he.extend(he.event,{trigger:function(t,n,r,i){var o,a,s,u,c,l,f,p=[r||te],d=ce.call(t,&quot;type&quot;)?t.type:t,h=ce.call(t,&quot;namespace&quot;)?t.namespace.split(&quot;.&quot;):[];if(a=s=r=r||te,3!==r.nodeType&amp;&amp;8!==r.nodeType&amp;&amp;!Tt.test(d+he.event.triggered)&amp;&amp;(d.indexOf(&quot;.&quot;)&gt;-1&amp;&amp;(h=d.split(&quot;.&quot;),d=h.shift(),h.sort()),c=d.indexOf(&quot;:&quot;)&lt;0&amp;&amp;&quot;on&quot;+d,t=t[he.expando]?t:new he.Event(d,&quot;object&quot;===(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))&amp;&amp;t),t.isTrigger=i?2:3,t.namespace=h.join(&quot;.&quot;),t.rnamespace=t.namespace?new RegExp(&quot;(^|\\.)&quot;+h.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:he.makeArray(n,[t]),f=he.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&amp;&amp;!f.noBubble&amp;&amp;!he.isWindow(r)){for(u=f.delegateType||d,Tt.test(u+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||te)&amp;&amp;p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&amp;&amp;!t.isPropagationStopped();)t.type=o&gt;1?u:f.bindType||d,l=(Le.get(a,&quot;events&quot;)||{})[t.type]&amp;&amp;Le.get(a,&quot;handle&quot;),l&amp;&amp;l.apply(a,n),l=c&amp;&amp;a[c],l&amp;&amp;l.apply&amp;&amp;Me(a)&amp;&amp;(t.result=l.apply(a,n),t.result===!1&amp;&amp;t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&amp;&amp;f._default.apply(p.pop(),n)!==!1||!Me(r)||c&amp;&amp;he.isFunction(r[d])&amp;&amp;!he.isWindow(r)&amp;&amp;(s=r[c],s&amp;&amp;(r[c]=null),he.event.triggered=d,r[d](),he.event.triggered=void 0,s&amp;&amp;(r[c]=s)),t.result}},simulate:function(e,t,n){var r=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(r,null,t)}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?he.event.trigger(e,t,n,!0):void 0}}),he.each(&quot;blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu&quot;.split(&quot; &quot;),function(e,t){he.fn[t]=function(e,n){return arguments.length&gt;0?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),pe.focusin=&quot;onfocusin&quot;in e,pe.focusin||he.each({focus:&quot;focusin&quot;,blur:&quot;focusout&quot;},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Le.access(r,t);i||r.addEventListener(e,n,!0),Le.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Le.access(r,t)-1;i?Le.access(r,t,i):(r.removeEventListener(e,n,!0),Le.remove(r,t))}}});var Ot=e.location,St=he.now(),jt=/\?/;he.parseXML=function(t){var n;if(!t||&quot;string&quot;!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,&quot;text/xml&quot;)}catch(e){n=void 0}return(!n||n.getElementsByTagName(&quot;parsererror&quot;).length)&amp;&amp;he.error(&quot;Invalid XML: &quot;+t),n};var kt=/\[\]$/,Ct=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,r=[],i=function(e,t){var n=he.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+&quot;=&quot;+encodeURIComponent(null==n?&quot;&quot;:n)};if(he.isArray(e)||e.jquery&amp;&amp;!he.isPlainObject(e))he.each(e,function(){i(this.name,this.value)});else for(n in e)G(n,e[n],t,i);return r.join(&quot;&amp;&quot;)},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,&quot;elements&quot;);return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&amp;&amp;!he(this).is(&quot;:disabled&quot;)&amp;&amp;Et.test(this.nodeName)&amp;&amp;!At.test(e)&amp;&amp;(this.checked||!ze.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(Ct,&quot;\r\n&quot;)}}):{name:t.name,value:n.replace(Ct,&quot;\r\n&quot;)}}).get()}});var Nt=/%20/g,_t=/#.*$/,Pt=/([?&amp;])_=[^&amp;]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lt=/^(?:GET|HEAD)$/,Ft=/^\/\//,Dt={},Rt={},qt=&quot;*/&quot;.concat(&quot;*&quot;),Ht=te.createElement(&quot;a&quot;);Ht.href=Ot.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ot.href,type:&quot;GET&quot;,isLocal:Mt.test(Ot.protocol),global:!0,processData:!0,async:!0,contentType:&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;,accepts:{&quot;*&quot;:qt,text:&quot;text/plain&quot;,html:&quot;text/html&quot;,xml:&quot;application/xml, text/xml&quot;,json:&quot;application/json, text/javascript&quot;},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:&quot;responseXML&quot;,text:&quot;responseText&quot;,json:&quot;responseJSON&quot;},converters:{&quot;* text&quot;:String,&quot;text html&quot;:!0,&quot;text json&quot;:JSON.parse,&quot;text xml&quot;:he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,he.ajaxSettings),t):Y(he.ajaxSettings,e)},ajaxPrefilter:X(Dt),ajaxTransport:X(Rt),ajax:function(t,n){function r(t,n,r,s){var c,p,d,w,x,T=n;l||(l=!0,u&amp;&amp;e.clearTimeout(u),i=void 0,a=s||&quot;&quot;,O.readyState=t&gt;0?4:0,c=t&gt;=200&amp;&amp;300&gt;t||304===t,r&amp;&amp;(w=Z(h,O,r)),w=Q(h,w,O,c),c?(h.ifModified&amp;&amp;(x=O.getResponseHeader(&quot;Last-Modified&quot;),x&amp;&amp;(he.lastModified[o]=x),x=O.getResponseHeader(&quot;etag&quot;),x&amp;&amp;(he.etag[o]=x)),204===t||&quot;HEAD&quot;===h.type?T=&quot;nocontent&quot;:304===t?T=&quot;notmodified&quot;:(T=w.state,p=w.data,d=w.error,c=!d)):(d=T,(t||!T)&amp;&amp;(T=&quot;error&quot;,0&gt;t&amp;&amp;(t=0))),O.status=t,O.statusText=(n||T)+&quot;&quot;,c?y.resolveWith(m,[p,T,O]):y.rejectWith(m,[O,T,d]),O.statusCode(b),b=void 0,f&amp;&amp;g.trigger(c?&quot;ajaxSuccess&quot;:&quot;ajaxError&quot;,[O,h,c?p:d]),v.fireWith(m,[O,T]),f&amp;&amp;(g.trigger(&quot;ajaxComplete&quot;,[O,h]),--he.active||he.event.trigger(&quot;ajaxStop&quot;)))}&quot;object&quot;===(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))&amp;&amp;(n=t,t=void 0),n=n||{};var i,o,a,s,u,c,l,f,p,d,h=he.ajaxSetup({},n),m=h.context||h,g=h.context&amp;&amp;(m.nodeType||m.jquery)?he(m):he.event,y=he.Deferred(),v=he.Callbacks(&quot;once memory&quot;),b=h.statusCode||{},w={},x={},T=&quot;canceled&quot;,O={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=It.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?a:null},setRequestHeader:function(e,t){return null==l&amp;&amp;(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&amp;&amp;(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)O.always(e[O.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||T;return i&amp;&amp;i.abort(t),r(0,t),this}};if(y.promise(O),h.url=((t||h.url||Ot.href)+&quot;&quot;).replace(Ft,Ot.protocol+&quot;//&quot;),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||&quot;*&quot;).toLowerCase().match(Ne)||[&quot;&quot;],null==h.crossDomain){c=te.createElement(&quot;a&quot;);try{c.href=h.url,c.href=c.href,h.crossDomain=Ht.protocol+&quot;//&quot;+Ht.host!=c.protocol+&quot;//&quot;+c.host}catch(e){h.crossDomain=!0}}if(h.data&amp;&amp;h.processData&amp;&amp;&quot;string&quot;!=typeof h.data&amp;&amp;(h.data=he.param(h.data,h.traditional)),J(Dt,h,n,O),l)return O;f=he.event&amp;&amp;h.global,f&amp;&amp;0===he.active++&amp;&amp;he.event.trigger(&quot;ajaxStart&quot;),h.type=h.type.toUpperCase(),h.hasContent=!Lt.test(h.type),o=h.url.replace(_t,&quot;&quot;),h.hasContent?h.data&amp;&amp;h.processData&amp;&amp;0===(h.contentType||&quot;&quot;).indexOf(&quot;application/x-www-form-urlencoded&quot;)&amp;&amp;(h.data=h.data.replace(Nt,&quot;+&quot;)):(d=h.url.slice(o.length),h.data&amp;&amp;(o+=(jt.test(o)?&quot;&amp;&quot;:&quot;?&quot;)+h.data,delete h.data),h.cache===!1&amp;&amp;(o=o.replace(Pt,&quot;$1&quot;),d=(jt.test(o)?&quot;&amp;&quot;:&quot;?&quot;)+&quot;_=&quot;+St++ +d),h.url=o+d),h.ifModified&amp;&amp;(he.lastModified[o]&amp;&amp;O.setRequestHeader(&quot;If-Modified-Since&quot;,he.lastModified[o]),he.etag[o]&amp;&amp;O.setRequestHeader(&quot;If-None-Match&quot;,he.etag[o])),(h.data&amp;&amp;h.hasContent&amp;&amp;h.contentType!==!1||n.contentType)&amp;&amp;O.setRequestHeader(&quot;Content-Type&quot;,h.contentType),O.setRequestHeader(&quot;Accept&quot;,h.dataTypes[0]&amp;&amp;h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+(&quot;*&quot;!==h.dataTypes[0]?&quot;, &quot;+qt+&quot;; q=0.01&quot;:&quot;&quot;):h.accepts[&quot;*&quot;]);for(p in h.headers)O.setRequestHeader(p,h.headers[p]);if(h.beforeSend&amp;&amp;(h.beforeSend.call(m,O,h)===!1||l))return O.abort();if(T=&quot;abort&quot;,v.add(h.complete),O.done(h.success),O.fail(h.error),i=J(Rt,h,n,O)){if(O.readyState=1,f&amp;&amp;g.trigger(&quot;ajaxSend&quot;,[O,h]),l)return O;h.async&amp;&amp;h.timeout&gt;0&amp;&amp;(u=e.setTimeout(function(){O.abort(&quot;timeout&quot;)},h.timeout));try{l=!1,i.send(w,r)}catch(e){if(l)throw e;r(-1,e)}}else r(-1,&quot;No Transport&quot;);return O},getJSON:function(e,t,n){return he.get(e,t,n,&quot;json&quot;)},getScript:function(e,t){return he.get(e,void 0,t,&quot;script&quot;)}}),he.each([&quot;get&quot;,&quot;post&quot;],function(e,t){he[t]=function(e,n,r,i){return he.isFunction(n)&amp;&amp;(i=i||r,r=n,n=void 0),he.ajax(he.extend({url:e,type:t,dataType:i,data:n,success:r},he.isPlainObject(e)&amp;&amp;e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:&quot;GET&quot;,dataType:&quot;script&quot;,cache:!0,async:!1,global:!1,throws:!0})},he.fn.extend({wrapAll:function(e){var t;return this[0]&amp;&amp;(he.isFunction(e)&amp;&amp;(e=e.call(this[0])),t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&amp;&amp;t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return this.each(he.isFunction(e)?function(t){he(this).wrapInner(e.call(this,t))}:function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not(&quot;body&quot;).each(function(){he(this).replaceWith(this.childNodes)}),this}}),he.expr.pseudos.hidden=function(e){return!he.expr.pseudos.visible(e)},he.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},he.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Bt=he.ajaxSettings.xhr();pe.cors=!!Bt&amp;&amp;&quot;withCredentials&quot;in Bt,pe.ajax=Bt=!!Bt,he.ajaxTransport(function(t){var n,r;return pe.cors||Bt&amp;&amp;!t.crossDomain?{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&amp;&amp;s.overrideMimeType&amp;&amp;s.overrideMimeType(t.mimeType),t.crossDomain||i[&quot;X-Requested-With&quot;]||(i[&quot;X-Requested-With&quot;]=&quot;XMLHttpRequest&quot;);for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&amp;&amp;(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,&quot;abort&quot;===e?s.abort():&quot;error&quot;===e?&quot;number&quot;!=typeof s.status?o(0,&quot;error&quot;):o(s.status,s.statusText):o($t[s.status]||s.status,s.statusText,&quot;text&quot;!==(s.responseType||&quot;text&quot;)||&quot;string&quot;!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n(&quot;error&quot;),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&amp;&amp;e.setTimeout(function(){n&amp;&amp;r()})},n=n(&quot;abort&quot;);try{s.send(t.hasContent&amp;&amp;t.data||null)}catch(e){if(n)throw e}},abort:function(){n&amp;&amp;n()}}:void 0}),he.ajaxPrefilter(function(e){e.crossDomain&amp;&amp;(e.contents.script=!1)}),he.ajaxSetup({accepts:{script:&quot;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript&quot;},contents:{script:/\b(?:java|ecma)script\b/},converters:{&quot;text script&quot;:function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter(&quot;script&quot;,function(e){void 0===e.cache&amp;&amp;(e.cache=!1),e.crossDomain&amp;&amp;(e.type=&quot;GET&quot;)}),he.ajaxTransport(&quot;script&quot;,function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=he(&quot;&lt;script&gt;&quot;).prop({charset:e.scriptCharset,src:e.url}).on(&quot;load error&quot;,n=function(e){t.remove(),n=null,e&amp;&amp;i(&quot;error&quot;===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&amp;&amp;n()}}}});var Vt=[],Wt=/(=)\?(?=&amp;|$)|\?\?/;he.ajaxSetup({jsonp:&quot;callback&quot;,jsonpCallback:function(){var e=Vt.pop()||he.expando+&quot;_&quot;+St++;return this[e]=!0,e}}),he.ajaxPrefilter(&quot;json jsonp&quot;,function(t,n,r){var i,o,a,s=t.jsonp!==!1&amp;&amp;(Wt.test(t.url)?&quot;url&quot;:&quot;string&quot;==typeof t.data&amp;&amp;0===(t.contentType||&quot;&quot;).indexOf(&quot;application/x-www-form-urlencoded&quot;)&amp;&amp;Wt.test(t.data)&amp;&amp;&quot;data&quot;);return s||&quot;jsonp&quot;===t.dataTypes[0]?(i=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Wt,&quot;$1&quot;+i):t.jsonp!==!1&amp;&amp;(t.url+=(jt.test(t.url)?&quot;&amp;&quot;:&quot;?&quot;)+t.jsonp+&quot;=&quot;+i),t.converters[&quot;script json&quot;]=function(){return a||he.error(i+&quot; was not called&quot;),a[0]},t.dataTypes[0]=&quot;json&quot;,o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?he(e).removeProp(i):e[i]=o,t[i]&amp;&amp;(t.jsonpCallback=n.jsonpCallback,Vt.push(i)),a&amp;&amp;he.isFunction(o)&amp;&amp;o(a[0]),a=o=void 0}),&quot;script&quot;):void 0}),pe.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument(&quot;&quot;).body;return e.innerHTML=&quot;&lt;form&gt;&lt;/form&gt;&lt;form&gt;&lt;/form&gt;&quot;,2===e.childNodes.length}(),he.parseHTML=function(e,t,n){if(&quot;string&quot;!=typeof e)return[];&quot;boolean&quot;==typeof t&amp;&amp;(n=t,t=!1);var r,i,o;return t||(pe.createHTMLDocument?(t=te.implementation.createHTMLDocument(&quot;&quot;),r=t.createElement(&quot;base&quot;),r.href=te.location.href,t.head.appendChild(r)):t=te),i=Oe.exec(e),o=!n&amp;&amp;[],i?[t.createElement(i[1])]:(i=b([e],t,o),o&amp;&amp;o.length&amp;&amp;he(o).remove(),he.merge([],i.childNodes))},he.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(&quot; &quot;);return s&gt;-1&amp;&amp;(r=z(e.slice(s)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=void 0):t&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))&amp;&amp;(i=&quot;POST&quot;),a.length&gt;0&amp;&amp;he.ajax({url:e,type:i||&quot;GET&quot;,dataType:&quot;html&quot;,data:t}).done(function(e){o=arguments,a.html(r?he(&quot;&lt;div&gt;&quot;).append(he.parseHTML(e)).find(r):e)}).always(n&amp;&amp;function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each([&quot;ajaxStart&quot;,&quot;ajaxStop&quot;,&quot;ajaxComplete&quot;,&quot;ajaxError&quot;,&quot;ajaxSuccess&quot;,&quot;ajaxSend&quot;],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.pseudos.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c,l=he.css(e,&quot;position&quot;),f=he(e),p={};&quot;static&quot;===l&amp;&amp;(e.style.position=&quot;relative&quot;),s=f.offset(),o=he.css(e,&quot;top&quot;),u=he.css(e,&quot;left&quot;),c=(&quot;absolute&quot;===l||&quot;fixed&quot;===l)&amp;&amp;(o+u).indexOf(&quot;auto&quot;)&gt;-1,c?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),he.isFunction(t)&amp;&amp;(t=t.call(e,n,he.extend({},s))),null!=t.top&amp;&amp;(p.top=t.top-s.top+a),null!=t.left&amp;&amp;(p.left=t.left-s.left+i),&quot;using&quot;in t?t.using.call(e,p):f.css(p)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=K(i),t=i.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return&quot;fixed&quot;===he.css(n,&quot;position&quot;)?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],&quot;html&quot;)||(r=e.offset()),r={top:r.top+he.css(e[0],&quot;borderTopWidth&quot;,!0),left:r.left+he.css(e[0],&quot;borderLeftWidth&quot;,!0)}),{top:t.top-r.top-he.css(n,&quot;marginTop&quot;,!0),left:t.left-r.left-he.css(n,&quot;marginLeft&quot;,!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&amp;&amp;&quot;static&quot;===he.css(e,&quot;position&quot;);)e=e.offsetParent;return e||Ye})}}),he.each({scrollLeft:&quot;pageXOffset&quot;,scrollTop:&quot;pageYOffset&quot;},function(e,t){var n=&quot;pageYOffset&quot;===t;he.fn[e]=function(r){return Ie(this,function(e,r,i){var o=K(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),he.each([&quot;top&quot;,&quot;left&quot;],function(e,t){he.cssHooks[t]=P(pe.pixelPosition,function(e,n){return n?(n=_(e,t),at.test(n)?he(e).position()[t]+&quot;px&quot;:n):void 0})}),he.each({Height:&quot;height&quot;,Width:&quot;width&quot;},function(e,t){he.each({padding:&quot;inner&quot;+e,content:t,&quot;&quot;:&quot;outer&quot;+e},function(n,r){he.fn[r]=function(i,o){var a=arguments.length&amp;&amp;(n||&quot;boolean&quot;!=typeof i),s=n||(i===!0||o===!0?&quot;margin&quot;:&quot;border&quot;);return Ie(this,function(t,n,i){var o;return he.isWindow(t)?0===r.indexOf(&quot;outer&quot;)?t[&quot;inner&quot;+e]:t.document.documentElement[&quot;client&quot;+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body[&quot;scroll&quot;+e],o[&quot;scroll&quot;+e],t.body[&quot;offset&quot;+e],o[&quot;offset&quot;+e],o[&quot;client&quot;+e])):void 0===i?he.css(t,n,s):he.style(t,n,i,s)},t,a?i:void 0,a)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,&quot;**&quot;):this.off(t,e||&quot;**&quot;,n)}}),he.parseJSON=JSON.parse,&quot;function&quot;==typeof define&amp;&amp;define.amd&amp;&amp;define(&quot;jquery&quot;,[],function(){return he});var zt=e.jQuery,Ut=e.$;return he.noConflict=function(t){return e.$===he&amp;&amp;(e.$=Ut),t&amp;&amp;e.jQuery===he&amp;&amp;(e.jQuery=zt),he},t||(e.jQuery=e.$=he),he}),/*!
  * https://github.com/paulmillr/es6-shim
  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
  *   and contributors,  MIT License
  * es6-shim: v0.35.1
  * see https://github.com/paulmillr/es6-shim/blob/0.35.1/LICENSE
  * Details and documentation:
  * https://github.com/paulmillr/es6-shim/
  */
function(e,t){&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;es6-shim&quot;,t):&quot;object&quot;===(&quot;undefined&quot;==typeof exports?&quot;undefined&quot;:_typeof(exports))?module.exports=t():e.returnExports=t()}(this,function(){var e,t=Function.call.bind(Function.apply),n=Function.call.bind(Function.call),r=Array.isArray,i=Object.keys,o=function(e){return function(){return!t(e,this,arguments)}},a=function(e){try{return e(),!1}catch(e){return!0}},s=function(e){try{return e()}catch(e){return!1}},u=o(a),c=function(){return!a(function(){Object.defineProperty({},&quot;x&quot;,{get:function(){}})})},l=!!Object.defineProperty&amp;&amp;c(),f=&quot;foo&quot;===function(){}.name,p=Function.call.bind(Array.prototype.forEach),d=Function.call.bind(Array.prototype.reduce),h=Function.call.bind(Array.prototype.filter),m=Function.call.bind(Array.prototype.some),g=function(e,t,n,r){!r&amp;&amp;t in e||(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},y=function(e,t,n){p(i(t),function(r){var i=t[r];g(e,r,i,!!n)})},v=Function.call.bind(Object.prototype.toString),b=&quot;function&quot;==typeof/abc/?function(e){return&quot;function&quot;==typeof e&amp;&amp;&quot;[object Function]&quot;===v(e)}:function(e){return&quot;function&quot;==typeof e},w={getter:function(e,t,n){if(!l)throw new TypeError(&quot;getters require true ES5 support&quot;);Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},proxy:function(e,t,n){if(!l)throw new TypeError(&quot;getters require true ES5 support&quot;);var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:r.configurable,enumerable:r.enumerable,get:function(){return e[t]},set:function(n){e[t]=n}})},redefine:function(e,t,n){if(l){var r=Object.getOwnPropertyDescriptor(e,t);r.value=n,Object.defineProperty(e,t,r)}else e[t]=n},defineByDescriptor:function(e,t,n){l?Object.defineProperty(e,t,n):&quot;value&quot;in n&amp;&amp;(e[t]=n.value)},preserveToString:function(e,t){t&amp;&amp;b(t.toString)&amp;&amp;g(e,&quot;toString&quot;,t.toString.bind(t),!0)}},x=Object.create||function(e,t){var n=function(){};n.prototype=e;var r=new n;return&quot;undefined&quot;!=typeof t&amp;&amp;i(t).forEach(function(e){w.defineByDescriptor(r,e,t[e])}),r},T=function(e,t){return Object.setPrototypeOf?s(function(){var n=function t(n){var r=new e(n);return Object.setPrototypeOf(r,t.prototype),r};return Object.setPrototypeOf(n,e),n.prototype=x(e.prototype,{constructor:{value:n}}),t(n)}):!1},O=function(){if(&quot;undefined&quot;!=typeof self)return self;if(&quot;undefined&quot;!=typeof window)return window;if(&quot;undefined&quot;!=typeof global)return global;throw new Error(&quot;unable to locate global object&quot;)},S=O(),j=S.isFinite,k=Function.call.bind(String.prototype.indexOf),C=Function.apply.bind(Array.prototype.indexOf),A=Function.call.bind(Array.prototype.concat),E=Function.call.bind(String.prototype.slice),N=Function.call.bind(Array.prototype.push),_=Function.apply.bind(Array.prototype.push),P=Function.call.bind(Array.prototype.shift),I=Math.max,M=Math.min,L=Math.floor,F=Math.abs,D=Math.exp,R=Math.log,q=Math.sqrt,H=Function.call.bind(Object.prototype.hasOwnProperty),$=function(){},B=S.Symbol||{},V=B.species||&quot;@@species&quot;,W=Number.isNaN||function(e){return e!==e},z=Number.isFinite||function(e){return&quot;number&quot;==typeof e&amp;&amp;j(e)},U=b(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t?t:W(t)?t:0&gt;t?-1:1},G=function(e){return&quot;[object Arguments]&quot;===v(e)},X=function(e){return null!==e&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))&amp;&amp;&quot;number&quot;==typeof e.length&amp;&amp;e.length&gt;=0&amp;&amp;&quot;[object Array]&quot;!==v(e)&amp;&amp;&quot;[object Function]&quot;===v(e.callee)},J=G(arguments)?G:X,Y={primitive:function(e){return null===e||&quot;function&quot;!=typeof e&amp;&amp;&quot;object&quot;!==(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))},string:function(e){return&quot;[object String]&quot;===v(e)},regex:function(e){return&quot;[object RegExp]&quot;===v(e)},symbol:function(e){return&quot;function&quot;==typeof S.Symbol&amp;&amp;&quot;symbol&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))}},Z=function(e,t,n){var r=e[t];g(e,t,n,!0),w.preserveToString(e[t],r)},Q=&quot;function&quot;==typeof B&amp;&amp;&quot;function&quot;==typeof B.for&amp;&amp;Y.symbol(B()),K=Y.symbol(B.iterator)?B.iterator:&quot;_es6-shim iterator_&quot;;S.Set&amp;&amp;&quot;function&quot;==typeof(new S.Set)[&quot;@@iterator&quot;]&amp;&amp;(K=&quot;@@iterator&quot;),S.Reflect||g(S,&quot;Reflect&quot;,{},!0);var ee=S.Reflect,te=String,ne={Call:function(e,n){var r=arguments.length&gt;2?arguments[2]:[];if(!ne.IsCallable(e))throw new TypeError(e+&quot; is not a function&quot;);return t(e,n,r)},RequireObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||&quot;Cannot call method on &quot;+e);return e},TypeIsObject:function(e){return void 0===e||null===e||e===!0||e===!1?!1:&quot;function&quot;==typeof e||&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))},ToObject:function(e,t){return Object(ne.RequireObjectCoercible(e,t))},IsCallable:b,IsConstructor:function(e){return ne.IsCallable(e)},ToInt32:function(e){return ne.ToNumber(e)&gt;&gt;0},ToUint32:function(e){return ne.ToNumber(e)&gt;&gt;&gt;0},ToNumber:function(e){if(&quot;[object Symbol]&quot;===v(e))throw new TypeError(&quot;Cannot convert a Symbol value to a number&quot;);return+e},ToInteger:function(e){var t=ne.ToNumber(e);return W(t)?0:0!==t&amp;&amp;z(t)?(t&gt;0?1:-1)*L(F(t)):t},ToLength:function(e){var t=ne.ToInteger(e);return 0&gt;=t?0:t&gt;Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0===e?1/e===1/t:!0:W(e)&amp;&amp;W(t)},SameValueZero:function(e,t){return e===t||W(e)&amp;&amp;W(t)},IsIterable:function(e){return ne.TypeIsObject(e)&amp;&amp;(&quot;undefined&quot;!=typeof e[K]||J(e))},GetIterator:function(t){if(J(t))return new e(t,&quot;value&quot;);var n=ne.GetMethod(t,K);if(!ne.IsCallable(n))throw new TypeError(&quot;value is not an iterable&quot;);var r=ne.Call(n,t);if(!ne.TypeIsObject(r))throw new TypeError(&quot;bad iterator&quot;);return r},GetMethod:function(e,t){var n=ne.ToObject(e)[t];if(void 0===n||null===n)return void 0;if(!ne.IsCallable(n))throw new TypeError(&quot;Method not callable: &quot;+t);return n},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=ne.GetMethod(e,&quot;return&quot;);if(void 0!==n){var r,i;try{r=ne.Call(n,e)}catch(e){i=e}if(!t){if(i)throw i;if(!ne.TypeIsObject(r))throw new TypeError(&quot;Iterator's return method returned a non-object.&quot;)}}},IteratorNext:function(e){var t=arguments.length&gt;1?e.next(arguments[1]):e.next();if(!ne.TypeIsObject(t))throw new TypeError(&quot;bad iterator&quot;);return t},IteratorStep:function(e){var t=ne.IteratorNext(e),n=ne.IteratorComplete(t);return n?!1:t},Construct:function(e,t,n,r){var i=&quot;undefined&quot;==typeof n?e:n;if(!r&amp;&amp;ee.construct)return ee.construct(e,t,i);var o=i.prototype;ne.TypeIsObject(o)||(o=Object.prototype);var a=x(o),s=ne.Call(e,a,t);return ne.TypeIsObject(s)?s:a},SpeciesConstructor:function(e,t){var n=e.constructor;if(void 0===n)return t;if(!ne.TypeIsObject(n))throw new TypeError(&quot;Bad constructor&quot;);var r=n[V];if(void 0===r||null===r)return t;if(!ne.IsConstructor(r))throw new TypeError(&quot;Bad @@species&quot;);return r},CreateHTML:function(e,t,n,r){var i=ne.ToString(e),o=&quot;&lt;&quot;+t;if(&quot;&quot;!==n){var a=ne.ToString(r),s=a.replace(/&quot;/g,&quot;&amp;quot;&quot;);o+=&quot; &quot;+n+'=&quot;'+s+'&quot;'}var u=o+&quot;&gt;&quot;,c=u+i;return c+&quot;&lt;/&quot;+t+&quot;&gt;&quot;},IsRegExp:function(e){if(!ne.TypeIsObject(e))return!1;var t=e[B.match];return&quot;undefined&quot;!=typeof t?!!t:Y.regex(e)},ToString:function(e){return te(e)}};if(l&amp;&amp;Q){var re=function(e){if(Y.symbol(B[e]))return B[e];var t=B.for(&quot;Symbol.&quot;+e);return Object.defineProperty(B,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!Y.symbol(B.search)){var ie=re(&quot;search&quot;),oe=String.prototype.search;g(RegExp.prototype,ie,function(e){return ne.Call(oe,e,[this])});var ae=function(e){var t=ne.RequireObjectCoercible(this);if(null!==e&amp;&amp;&quot;undefined&quot;!=typeof e){var n=ne.GetMethod(e,ie);if(&quot;undefined&quot;!=typeof n)return ne.Call(n,e,[t])}return ne.Call(oe,t,[ne.ToString(e)])};Z(String.prototype,&quot;search&quot;,ae)}if(!Y.symbol(B.replace)){var se=re(&quot;replace&quot;),ue=String.prototype.replace;g(RegExp.prototype,se,function(e,t){return ne.Call(ue,e,[this,t])});var ce=function(e,t){var n=ne.RequireObjectCoercible(this);if(null!==e&amp;&amp;&quot;undefined&quot;!=typeof e){var r=ne.GetMethod(e,se);if(&quot;undefined&quot;!=typeof r)return ne.Call(r,e,[n,t])}return ne.Call(ue,n,[ne.ToString(e),t])};Z(String.prototype,&quot;replace&quot;,ce)}if(!Y.symbol(B.split)){var le=re(&quot;split&quot;),fe=String.prototype.split;g(RegExp.prototype,le,function(e,t){return ne.Call(fe,e,[this,t])});var pe=function(e,t){var n=ne.RequireObjectCoercible(this);if(null!==e&amp;&amp;&quot;undefined&quot;!=typeof e){var r=ne.GetMethod(e,le);if(&quot;undefined&quot;!=typeof r)return ne.Call(r,e,[n,t])}return ne.Call(fe,n,[ne.ToString(e),t])};Z(String.prototype,&quot;split&quot;,pe)}var de=Y.symbol(B.match),he=de&amp;&amp;function(){var e={};return e[B.match]=function(){return 42},42!==&quot;a&quot;.match(e)}();if(!de||he){var me=re(&quot;match&quot;),ge=String.prototype.match;g(RegExp.prototype,me,function(e){return ne.Call(ge,e,[this])});var ye=function(e){var t=ne.RequireObjectCoercible(this);if(null!==e&amp;&amp;&quot;undefined&quot;!=typeof e){var n=ne.GetMethod(e,me);if(&quot;undefined&quot;!=typeof n)return ne.Call(n,e,[t])}return ne.Call(ge,t,[ne.ToString(e)])};Z(String.prototype,&quot;match&quot;,ye)}}var ve=function(e,t,n){w.preserveToString(t,e),Object.setPrototypeOf&amp;&amp;Object.setPrototypeOf(e,t),l?p(Object.getOwnPropertyNames(e),function(r){r in $||n[r]||w.proxy(e,r,t)}):p(Object.keys(e),function(r){r in $||n[r]||(t[r]=e[r])}),t.prototype=e.prototype,w.redefine(e.prototype,&quot;constructor&quot;,t)},be=function(){return this},we=function(e){l&amp;&amp;!H(e,V)&amp;&amp;w.getter(e,V,be)},xe=function(e,t){var n=t||function(){return this};g(e,K,n),!e[K]&amp;&amp;Y.symbol(K)&amp;&amp;(e[K]=n)},Te=function(e,t,n){l?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n},Oe=function(e,t,n){if(Te(e,t,n),!ne.SameValue(e[t],n))throw new TypeError(&quot;property is nonconfigurable&quot;)},Se=function(e,t,n,r){if(!ne.TypeIsObject(e))throw new TypeError(&quot;Constructor requires `new`: &quot;+t.name);var i=t.prototype;ne.TypeIsObject(i)||(i=n);var o=x(i);for(var a in r)if(H(r,a)){var s=r[a];g(o,a,s,!0)}return o};if(String.fromCodePoint&amp;&amp;1!==String.fromCodePoint.length){var je=String.fromCodePoint;Z(String,&quot;fromCodePoint&quot;,function(){return ne.Call(je,this,arguments)})}var ke={fromCodePoint:function(){for(var e,t=[],n=0,r=arguments.length;r&gt;n;n++){if(e=Number(arguments[n]),!ne.SameValue(e,ne.ToInteger(e))||0&gt;e||e&gt;1114111)throw new RangeError(&quot;Invalid code point &quot;+e);65536&gt;e?N(t,String.fromCharCode(e)):(e-=65536,N(t,String.fromCharCode((e&gt;&gt;10)+55296)),N(t,String.fromCharCode(e%1024+56320)))}return t.join(&quot;&quot;)},raw:function(e){var t=ne.ToObject(e,&quot;bad callSite&quot;),n=ne.ToObject(t.raw,&quot;bad raw value&quot;),r=n.length,i=ne.ToLength(r);if(0&gt;=i)return&quot;&quot;;for(var o,a,s,u,c=[],l=0;i&gt;l&amp;&amp;(o=ne.ToString(l),s=ne.ToString(n[o]),N(c,s),!(l+1&gt;=i));)a=l+1&lt;arguments.length?arguments[l+1]:&quot;&quot;,u=ne.ToString(a),N(c,u),l+=1;return c.join(&quot;&quot;)}};String.raw&amp;&amp;&quot;xy&quot;!==String.raw({raw:{0:&quot;x&quot;,1:&quot;y&quot;,length:2}})&amp;&amp;Z(String,&quot;raw&quot;,ke.raw),y(String,ke);var Ce=function e(t,n){if(1&gt;n)return&quot;&quot;;if(n%2)return e(t,n-1)+t;var r=e(t,n/2);return r+r},Ae=1/0,Ee={repeat:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this)),n=ne.ToInteger(e);if(0&gt;n||n&gt;=Ae)throw new RangeError(&quot;repeat count must be less than infinity and not overflow maximum string size&quot;);return Ce(t,n)},startsWith:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this));if(ne.IsRegExp(e))throw new TypeError('Cannot call method &quot;startsWith&quot; with a regex');var n,r=ne.ToString(e);arguments.length&gt;1&amp;&amp;(n=arguments[1]);var i=I(ne.ToInteger(n),0);return E(t,i,i+r.length)===r},endsWith:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this));if(ne.IsRegExp(e))throw new TypeError('Cannot call method &quot;endsWith&quot; with a regex');var n,r=ne.ToString(e),i=t.length;arguments.length&gt;1&amp;&amp;(n=arguments[1]);var o=&quot;undefined&quot;==typeof n?i:ne.ToInteger(n),a=M(I(o,0),i);return E(t,a-r.length,a)===r},includes:function(e){if(ne.IsRegExp(e))throw new TypeError('&quot;includes&quot; does not accept a RegExp');var t,n=ne.ToString(e);return arguments.length&gt;1&amp;&amp;(t=arguments[1]),-1!==k(this,n,t)},codePointAt:function(e){var t=ne.ToString(ne.RequireObjectCoercible(this)),n=ne.ToInteger(e),r=t.length;if(n&gt;=0&amp;&amp;r&gt;n){var i=t.charCodeAt(n),o=n+1===r;if(55296&gt;i||i&gt;56319||o)return i;var a=t.charCodeAt(n+1);return 56320&gt;a||a&gt;57343?i:1024*(i-55296)+(a-56320)+65536}}};if(String.prototype.includes&amp;&amp;&quot;a&quot;.includes(&quot;a&quot;,1/0)!==!1&amp;&amp;Z(String.prototype,&quot;includes&quot;,Ee.includes),String.prototype.startsWith&amp;&amp;String.prototype.endsWith){var Ne=a(function(){&quot;/a/&quot;.startsWith(/a/)}),_e=s(function(){return&quot;abc&quot;.startsWith(&quot;a&quot;,1/0)===!1});Ne&amp;&amp;_e||(Z(String.prototype,&quot;startsWith&quot;,Ee.startsWith),Z(String.prototype,&quot;endsWith&quot;,Ee.endsWith))}if(Q){var Pe=s(function(){var e=/a/;return e[B.match]=!1,&quot;/a/&quot;.startsWith(e)});Pe||Z(String.prototype,&quot;startsWith&quot;,Ee.startsWith);var Ie=s(function(){var e=/a/;return e[B.match]=!1,&quot;/a/&quot;.endsWith(e)});Ie||Z(String.prototype,&quot;endsWith&quot;,Ee.endsWith);var Me=s(function(){var e=/a/;return e[B.match]=!1,&quot;/a/&quot;.includes(e)});Me||Z(String.prototype,&quot;includes&quot;,Ee.includes)}y(String.prototype,Ee);var Le=[&quot;	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003&quot;,&quot;\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028&quot;,&quot;\u2029\ufeff&quot;].join(&quot;&quot;),Fe=new RegExp(&quot;(^[&quot;+Le+&quot;]+)|([&quot;+Le+&quot;]+$)&quot;,&quot;g&quot;),De=function(){return ne.ToString(ne.RequireObjectCoercible(this)).replace(Fe,&quot;&quot;)},Re=[&quot;\x85&quot;,&quot;\u200b&quot;,&quot;\ufffe&quot;].join(&quot;&quot;),qe=new RegExp(&quot;[&quot;+Re+&quot;]&quot;,&quot;g&quot;),He=/^[\-+]0x[0-9a-f]+$/i,$e=Re.trim().length!==Re.length;g(String.prototype,&quot;trim&quot;,De,$e);var Be=function(e){return{value:e,done:0===arguments.length}},Ve=function(e){ne.RequireObjectCoercible(e),this._s=ne.ToString(e),this._i=0};Ve.prototype.next=function(){var e=this._s,t=this._i;if(&quot;undefined&quot;==typeof e||t&gt;=e.length)return this._s=void 0,Be();var n,r,i=e.charCodeAt(t);return 55296&gt;i||i&gt;56319||t+1===e.length?r=1:(n=e.charCodeAt(t+1),r=56320&gt;n||n&gt;57343?1:2),this._i=t+r,Be(e.substr(t,r))},xe(Ve.prototype),xe(String.prototype,function(){return new Ve(this)});var We={from:function(e){var t,r=this;arguments.length&gt;1&amp;&amp;(t=arguments[1]);var i,o;if(&quot;undefined&quot;==typeof t)i=!1;else{if(!ne.IsCallable(t))throw new TypeError(&quot;Array.from: when provided, the second argument must be a function&quot;);arguments.length&gt;2&amp;&amp;(o=arguments[2]),i=!0}var a,s,u,c=&quot;undefined&quot;!=typeof(J(e)||ne.GetMethod(e,K));if(c){s=ne.IsConstructor(r)?Object(new r):[];var l,f,p=ne.GetIterator(e);for(u=0;;){if(l=ne.IteratorStep(p),l===!1)break;f=l.value;try{i&amp;&amp;(f=&quot;undefined&quot;==typeof o?t(f,u):n(t,o,f,u)),s[u]=f}catch(e){throw ne.IteratorClose(p,!0),e}u+=1}a=u}else{var d=ne.ToObject(e);a=ne.ToLength(d.length),s=ne.IsConstructor(r)?Object(new r(a)):new Array(a);var h;for(u=0;a&gt;u;++u)h=d[u],i&amp;&amp;(h=&quot;undefined&quot;==typeof o?t(h,u):n(t,o,h,u)),Oe(s,u,h)}return s.length=a,s},of:function(){for(var e=arguments.length,t=this,n=r(t)||!ne.IsCallable(t)?new Array(e):ne.Construct(t,[e]),i=0;e&gt;i;++i)Oe(n,i,arguments[i]);return n.length=e,n}};y(Array,We),we(Array),e=function(e,t){this.i=0,this.array=e,this.kind=t},y(e.prototype,{next:function(){var t=this.i,n=this.array;if(!(this instanceof e))throw new TypeError(&quot;Not an ArrayIterator&quot;);if(&quot;undefined&quot;!=typeof n)for(var r=ne.ToLength(n.length);r&gt;t;t++){var i,o=this.kind;return&quot;key&quot;===o?i=t:&quot;value&quot;===o?i=n[t]:&quot;entry&quot;===o&amp;&amp;(i=[t,n[t]]),this.i=t+1,Be(i)}return this.array=void 0,Be()}}),xe(e.prototype);var ze=Array.of===We.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&amp;&amp;2===t.length}();ze||Z(Array,&quot;of&quot;,We.of);var Ue={copyWithin:function(e,t){var n,r=ne.ToObject(this),i=ne.ToLength(r.length),o=ne.ToInteger(e),a=ne.ToInteger(t),s=0&gt;o?I(i+o,0):M(o,i),u=0&gt;a?I(i+a,0):M(a,i);arguments.length&gt;2&amp;&amp;(n=arguments[2]);var c=&quot;undefined&quot;==typeof n?i:ne.ToInteger(n),l=0&gt;c?I(i+c,0):M(c,i),f=M(l-u,i-s),p=1;for(s&gt;u&amp;&amp;u+f&gt;s&amp;&amp;(p=-1,u+=f-1,s+=f-1);f&gt;0;)u in r?r[s]=r[u]:delete r[s],u+=p,s+=p,f-=1;return r},fill:function(e){var t;arguments.length&gt;1&amp;&amp;(t=arguments[1]);var n;arguments.length&gt;2&amp;&amp;(n=arguments[2]);var r=ne.ToObject(this),i=ne.ToLength(r.length);t=ne.ToInteger(&quot;undefined&quot;==typeof t?0:t),n=ne.ToInteger(&quot;undefined&quot;==typeof n?i:n);for(var o=0&gt;t?I(i+t,0):M(t,i),a=0&gt;n?i+n:n,s=o;i&gt;s&amp;&amp;a&gt;s;++s)r[s]=e;return r},find:function(e){var t=ne.ToObject(this),r=ne.ToLength(t.length);if(!ne.IsCallable(e))throw new TypeError(&quot;Array#find: predicate must be a function&quot;);for(var i,o=arguments.length&gt;1?arguments[1]:null,a=0;r&gt;a;a++)if(i=t[a],o){if(n(e,o,i,a,t))return i}else if(e(i,a,t))return i},findIndex:function(e){var t=ne.ToObject(this),r=ne.ToLength(t.length);if(!ne.IsCallable(e))throw new TypeError(&quot;Array#findIndex: predicate must be a function&quot;);for(var i=arguments.length&gt;1?arguments[1]:null,o=0;r&gt;o;o++)if(i){if(n(e,i,t[o],o,t))return o}else if(e(t[o],o,t))return o;return-1},keys:function(){return new e(this,&quot;key&quot;)},values:function(){return new e(this,&quot;value&quot;)},entries:function(){return new e(this,&quot;entry&quot;)}};if(Array.prototype.keys&amp;&amp;!ne.IsCallable([1].keys().next)&amp;&amp;delete Array.prototype.keys,Array.prototype.entries&amp;&amp;!ne.IsCallable([1].entries().next)&amp;&amp;delete Array.prototype.entries,Array.prototype.keys&amp;&amp;Array.prototype.entries&amp;&amp;!Array.prototype.values&amp;&amp;Array.prototype[K]&amp;&amp;(y(Array.prototype,{values:Array.prototype[K]}),Y.symbol(B.unscopables)&amp;&amp;(Array.prototype[B.unscopables].values=!0)),f&amp;&amp;Array.prototype.values&amp;&amp;&quot;values&quot;!==Array.prototype.values.name){var Ge=Array.prototype.values;Z(Array.prototype,&quot;values&quot;,function(){return ne.Call(Ge,this,arguments)}),g(Array.prototype,K,Array.prototype.values,!0)}y(Array.prototype,Ue),1/[!0].indexOf(!0,-0)&lt;0&amp;&amp;g(Array.prototype,&quot;indexOf&quot;,function(){var e=C(this,arguments);return 0===e&amp;&amp;0&gt;1/e?0:e},!0),xe(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&amp;&amp;xe(Object.getPrototypeOf([].values()));var Xe=function(){return s(function(){return 0===Array.from({length:-1}).length})}(),Je=function(){var e=Array.from([0].entries());return 1===e.length&amp;&amp;r(e[0])&amp;&amp;0===e[0][0]&amp;&amp;0===e[0][1]}();Xe&amp;&amp;Je||Z(Array,&quot;from&quot;,We.from);var Ye=function(){return s(function(){return Array.from([0],void 0)})}();if(!Ye){var Ze=Array.from;Z(Array,&quot;from&quot;,function(e){return arguments.length&gt;1&amp;&amp;&quot;undefined&quot;!=typeof arguments[1]?ne.Call(Ze,this,arguments):n(Ze,this,e)})}var Qe=-(Math.pow(2,32)-1),Ke=function(e,t){var r={length:Qe};return r[t?(r.length&gt;&gt;&gt;0)-1:0]=!0,s(function(){return n(e,r,function(){throw new RangeError(&quot;should not reach here&quot;)},[]),!0})};if(!Ke(Array.prototype.forEach)){var et=Array.prototype.forEach;Z(Array.prototype,&quot;forEach&quot;,function(){return ne.Call(et,this.length&gt;=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.map)){var tt=Array.prototype.map;Z(Array.prototype,&quot;map&quot;,function(){return ne.Call(tt,this.length&gt;=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.filter)){var nt=Array.prototype.filter;Z(Array.prototype,&quot;filter&quot;,function(){return ne.Call(nt,this.length&gt;=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.some)){var rt=Array.prototype.some;Z(Array.prototype,&quot;some&quot;,function(){return ne.Call(rt,this.length&gt;=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.every)){var it=Array.prototype.every;Z(Array.prototype,&quot;every&quot;,function(){return ne.Call(it,this.length&gt;=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.reduce)){var ot=Array.prototype.reduce;Z(Array.prototype,&quot;reduce&quot;,function(){return ne.Call(ot,this.length&gt;=0?this:[],arguments)},!0)}if(!Ke(Array.prototype.reduceRight,!0)){var at=Array.prototype.reduceRight;Z(Array.prototype,&quot;reduceRight&quot;,function(){return ne.Call(at,this.length&gt;=0?this:[],arguments)},!0)}var st=8!==Number(&quot;0o10&quot;),ut=2!==Number(&quot;0b10&quot;),ct=m(Re,function(e){return 0===Number(e+0+e)});if(st||ut||ct){var lt=Number,ft=/^0b[01]+$/i,pt=/^0o[0-7]+$/i,dt=ft.test.bind(ft),ht=pt.test.bind(pt),mt=function(e){var t;if(&quot;function&quot;==typeof e.valueOf&amp;&amp;(t=e.valueOf(),Y.primitive(t)))return t;if(&quot;function&quot;==typeof e.toString&amp;&amp;(t=e.toString(),Y.primitive(t)))return t;throw new TypeError(&quot;No default value&quot;)},gt=qe.test.bind(qe),yt=He.test.bind(He),vt=function(){var e=function(t){var n;n=arguments.length&gt;0?Y.primitive(t)?t:mt(t,&quot;number&quot;):0,&quot;string&quot;==typeof n&amp;&amp;(n=ne.Call(De,n),dt(n)?n=parseInt(E(n,2),2):ht(n)?n=parseInt(E(n,2),8):(gt(n)||yt(n))&amp;&amp;(n=0/0));var r=this,i=s(function(){return lt.prototype.valueOf.call(r),!0});return r instanceof e&amp;&amp;!i?new lt(n):lt(n)};return e}();ve(lt,vt,{}),y(vt,{NaN:lt.NaN,MAX_VALUE:lt.MAX_VALUE,MIN_VALUE:lt.MIN_VALUE,NEGATIVE_INFINITY:lt.NEGATIVE_INFINITY,POSITIVE_INFINITY:lt.POSITIVE_INFINITY}),Number=vt,w.redefine(S,&quot;Number&quot;,vt)}var bt=Math.pow(2,53)-1;y(Number,{MAX_SAFE_INTEGER:bt,MIN_SAFE_INTEGER:-bt,EPSILON:2.220446049250313e-16,parseInt:S.parseInt,parseFloat:S.parseFloat,isFinite:z,isInteger:function(e){return z(e)&amp;&amp;ne.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&amp;&amp;F(e)&lt;=Number.MAX_SAFE_INTEGER},isNaN:W}),g(Number,&quot;parseInt&quot;,S.parseInt,Number.parseInt!==S.parseInt),[,1].find(function(e,t){return 0===t})||Z(Array.prototype,&quot;find&quot;,Ue.find),0!==[,1].findIndex(function(e,t){return 0===t})&amp;&amp;Z(Array.prototype,&quot;findIndex&quot;,Ue.findIndex);var wt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),xt=function(e,t){l&amp;&amp;wt(e,t)&amp;&amp;Object.defineProperty(e,t,{enumerable:!1})},Tt=function(){for(var e=Number(this),t=arguments.length,n=t-e,r=new Array(0&gt;n?0:n),i=e;t&gt;i;++i)r[i-e]=arguments[i];return r},Ot=function(e){return function(t,n){return t[n]=e[n],t}},St=function(e,t){var n,r=i(Object(t));return ne.IsCallable(Object.getOwnPropertySymbols)&amp;&amp;(n=h(Object.getOwnPropertySymbols(Object(t)),wt(t))),d(A(r,n||[]),Ot(t),e)},jt={assign:function(e){var t=ne.ToObject(e,&quot;Cannot convert undefined or null to object&quot;);return d(ne.Call(Tt,1,arguments),St,t)},is:function(e,t){return ne.SameValue(e,t)}},kt=Object.assign&amp;&amp;Object.preventExtensions&amp;&amp;function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,&quot;xy&quot;)}catch(t){return&quot;y&quot;===e[1]}}();if(kt&amp;&amp;Z(Object,&quot;assign&quot;,jt.assign),y(Object,jt),l){var Ct={setPrototypeOf:function(e,t){var r,i=function(e,t){if(!ne.TypeIsObject(e))throw new TypeError(&quot;cannot set prototype on a non-object&quot;);if(null!==t&amp;&amp;!ne.TypeIsObject(t))throw new TypeError(&quot;can only set prototype to an object or null&quot;+t)},o=function(e,t){return i(e,t),n(r,e,t),e};try{r=e.getOwnPropertyDescriptor(e.prototype,t).set,n(r,{},null)}catch(n){if(e.prototype!=={}[t])return;r=function(e){this[t]=e},o.polyfill=o(o({},null),e.prototype)instanceof e}return o}(Object,&quot;__proto__&quot;)};y(Object,Ct)}Object.setPrototypeOf&amp;&amp;Object.getPrototypeOf&amp;&amp;null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&amp;&amp;null===Object.getPrototypeOf(Object.create(null))&amp;&amp;!function(){var e=Object.create(null),t=Object.getPrototypeOf,n=Object.setPrototypeOf;Object.getPrototypeOf=function(n){var r=t(n);return r===e?null:r},Object.setPrototypeOf=function(t,r){var i=null===r?e:r;return n(t,i)},Object.setPrototypeOf.polyfill=!1}();var At=!a(function(){Object.keys(&quot;foo&quot;)});if(!At){var Et=Object.keys;Z(Object,&quot;keys&quot;,function(e){return Et(ne.ToObject(e))}),i=Object.keys}var Nt=a(function(){Object.keys(/a/g)});if(Nt){var _t=Object.keys;Z(Object,&quot;keys&quot;,function(e){if(Y.regex(e)){var t=[];for(var n in e)H(e,n)&amp;&amp;N(t,n);return t}return _t(e)}),i=Object.keys}if(Object.getOwnPropertyNames){var Pt=!a(function(){Object.getOwnPropertyNames(&quot;foo&quot;)});if(!Pt){var It=&quot;object&quot;===(&quot;undefined&quot;==typeof window?&quot;undefined&quot;:_typeof(window))?Object.getOwnPropertyNames(window):[],Mt=Object.getOwnPropertyNames;Z(Object,&quot;getOwnPropertyNames&quot;,function(e){var t=ne.ToObject(e);if(&quot;[object Window]&quot;===v(t))try{return Mt(t)}catch(e){return A([],It)}return Mt(t)})}}if(Object.getOwnPropertyDescriptor){var Lt=!a(function(){Object.getOwnPropertyDescriptor(&quot;foo&quot;,&quot;bar&quot;)});if(!Lt){var Ft=Object.getOwnPropertyDescriptor;Z(Object,&quot;getOwnPropertyDescriptor&quot;,function(e,t){return Ft(ne.ToObject(e),t)})}}if(Object.seal){var Dt=!a(function(){Object.seal(&quot;foo&quot;)});if(!Dt){var Rt=Object.seal;Z(Object,&quot;seal&quot;,function(e){return ne.TypeIsObject(e)?Rt(e):e})}}if(Object.isSealed){var qt=!a(function(){Object.isSealed(&quot;foo&quot;)});if(!qt){var Ht=Object.isSealed;Z(Object,&quot;isSealed&quot;,function(e){return ne.TypeIsObject(e)?Ht(e):!0})}}if(Object.freeze){var $t=!a(function(){Object.freeze(&quot;foo&quot;)});if(!$t){var Bt=Object.freeze;Z(Object,&quot;freeze&quot;,function(e){return ne.TypeIsObject(e)?Bt(e):e})}}if(Object.isFrozen){var Vt=!a(function(){Object.isFrozen(&quot;foo&quot;)});if(!Vt){var Wt=Object.isFrozen;Z(Object,&quot;isFrozen&quot;,function(e){return ne.TypeIsObject(e)?Wt(e):!0})}}if(Object.preventExtensions){var zt=!a(function(){Object.preventExtensions(&quot;foo&quot;)});if(!zt){var Ut=Object.preventExtensions;Z(Object,&quot;preventExtensions&quot;,function(e){return ne.TypeIsObject(e)?Ut(e):e})}}if(Object.isExtensible){var Gt=!a(function(){Object.isExtensible(&quot;foo&quot;)});if(!Gt){var Xt=Object.isExtensible;Z(Object,&quot;isExtensible&quot;,function(e){return ne.TypeIsObject(e)?Xt(e):!1})}}if(Object.getPrototypeOf){var Jt=!a(function(){Object.getPrototypeOf(&quot;foo&quot;)});if(!Jt){var Yt=Object.getPrototypeOf;Z(Object,&quot;getPrototypeOf&quot;,function(e){return Yt(ne.ToObject(e))})}}var Zt=l&amp;&amp;function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,&quot;flags&quot;);return e&amp;&amp;ne.IsCallable(e.get)}();if(l&amp;&amp;!Zt){var Qt=function(){if(!ne.TypeIsObject(this))throw new TypeError(&quot;Method called on incompatible type: must be an object.&quot;);var e=&quot;&quot;;return this.global&amp;&amp;(e+=&quot;g&quot;),this.ignoreCase&amp;&amp;(e+=&quot;i&quot;),this.multiline&amp;&amp;(e+=&quot;m&quot;),this.unicode&amp;&amp;(e+=&quot;u&quot;),this.sticky&amp;&amp;(e+=&quot;y&quot;),e};w.getter(RegExp.prototype,&quot;flags&quot;,Qt)}var Kt=l&amp;&amp;s(function(){return&quot;/a/i&quot;===String(new RegExp(/a/g,&quot;i&quot;))}),en=Q&amp;&amp;l&amp;&amp;function(){var e=/./;return e[B.match]=!1,RegExp(e)===e}(),tn=s(function(){return&quot;/abc/&quot;===RegExp.prototype.toString.call({source:&quot;abc&quot;})}),nn=tn&amp;&amp;s(function(){return&quot;/a/b&quot;===RegExp.prototype.toString.call({source:&quot;a&quot;,flags:&quot;b&quot;})});if(!tn||!nn){var rn=RegExp.prototype.toString;g(RegExp.prototype,&quot;toString&quot;,function(){var e=ne.RequireObjectCoercible(this);if(Y.regex(e))return n(rn,e);var t=te(e.source),r=te(e.flags);return&quot;/&quot;+t+&quot;/&quot;+r},!0),w.preserveToString(RegExp.prototype.toString,rn)}if(l&amp;&amp;(!Kt||en)){var on=Object.getOwnPropertyDescriptor(RegExp.prototype,&quot;flags&quot;).get,an=Object.getOwnPropertyDescriptor(RegExp.prototype,&quot;source&quot;)||{},sn=function(){return this.source},un=ne.IsCallable(an.get)?an.get:sn,cn=RegExp,ln=function(){return function e(t,n){var r=ne.IsRegExp(t),i=this instanceof e;if(!i&amp;&amp;r&amp;&amp;&quot;undefined&quot;==typeof n&amp;&amp;t.constructor===e)return t;var o=t,a=n;return Y.regex(t)?(o=ne.Call(un,t),a=&quot;undefined&quot;==typeof n?ne.Call(on,t):n,new e(o,a)):(r&amp;&amp;(o=t.source,a=&quot;undefined&quot;==typeof n?t.flags:n),new cn(t,n))}}();ve(cn,ln,{$input:!0}),RegExp=ln,w.redefine(S,&quot;RegExp&quot;,ln)}if(l){var fn={input:&quot;$_&quot;,lastMatch:&quot;$&amp;&quot;,lastParen:&quot;$+&quot;,leftContext:&quot;$`&quot;,rightContext:&quot;$'&quot;};p(i(fn),function(e){e in RegExp&amp;&amp;!(fn[e]in RegExp)&amp;&amp;w.getter(RegExp,fn[e],function(){return RegExp[e]})})}we(RegExp);var pn=1/Number.EPSILON,dn=function(e){return e+pn-pn},hn=Math.pow(2,-23),mn=Math.pow(2,127)*(2-hn),gn=Math.pow(2,-126),yn=Math.E,vn=Math.LOG2E,bn=Math.LOG10E,wn=Number.prototype.clz;delete Number.prototype.clz;var xn={acosh:function(e){var t=Number(e);return W(t)||1&gt;e?0/0:1===t?0:t===1/0?t:R(t/yn+q(t+1)*q(t-1)/yn)+1},asinh:function e(t){var n=Number(t);return 0!==n&amp;&amp;j(n)?0&gt;n?-e(-n):R(n+q(n*n+1)):n},atanh:function(e){var t=Number(e);return W(t)||-1&gt;t||t&gt;1?0/0:-1===t?-(1/0):1===t?1/0:0===t?t:.5*R((1+t)/(1-t))},cbrt:function(e){var t=Number(e);if(0===t)return t;var n,r=0&gt;t;return r&amp;&amp;(t=-t),t===1/0?n=1/0:(n=D(R(t)/3),n=(t/(n*n)+2*n)/3),r?-n:n},clz32:function(e){var t=Number(e),n=ne.ToUint32(t);return 0===n?32:wn?ne.Call(wn,n):31-L(R(n+.5)*vn)},cosh:function(e){var t=Number(e);return 0===t?1:W(t)?0/0:j(t)?(0&gt;t&amp;&amp;(t=-t),t&gt;21?D(t)/2:(D(t)+D(-t))/2):1/0},expm1:function(e){var t=Number(e);if(t===-(1/0))return-1;if(!j(t)||0===t)return t;if(F(t)&gt;.5)return D(t)-1;for(var n=t,r=0,i=1;r+n!==r;)r+=n,i+=1,n*=t/i;return r},hypot:function(){for(var e=0,t=0,n=0;n&lt;arguments.length;++n){var r=F(Number(arguments[n]));r&gt;t?(e*=t/r*(t/r),e+=1,t=r):e+=r&gt;0?r/t*(r/t):r}return t===1/0?1/0:t*q(e)},log2:function(e){return R(e)*vn},log10:function(e){return R(e)*bn},log1p:function(e){var t=Number(e);return-1&gt;t||W(t)?0/0:0===t||t===1/0?t:-1===t?-(1/0):1+t-1===0?t:t*(R(1+t)/(1+t-1))},sign:U,sinh:function(e){var t=Number(e);return j(t)&amp;&amp;0!==t?F(t)&lt;1?(Math.expm1(t)-Math.expm1(-t))/2:(D(t-1)-D(-t-1))*yn/2:t},tanh:function(e){var t=Number(e);return W(t)||0===t?t:t&gt;=20?1:-20&gt;=t?-1:(Math.expm1(t)-Math.expm1(-t))/(D(t)+D(-t))},trunc:function(e){var t=Number(e);return 0&gt;t?-L(-t):L(t)},imul:function(e,t){var n=ne.ToUint32(e),r=ne.ToUint32(t),i=n&gt;&gt;&gt;16&amp;65535,o=65535&amp;n,a=r&gt;&gt;&gt;16&amp;65535,s=65535&amp;r;return o*s+(i*s+o*a&lt;&lt;16&gt;&gt;&gt;0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-(1/0)||W(t))return t;var n=U(t),r=F(t);if(gn&gt;r)return n*dn(r/gn/hn)*gn*hn;var i=(1+hn/Number.EPSILON)*r,o=i-(i-r);return o&gt;mn||W(o)?n*(1/0):n*o}};y(Math,xn),g(Math,&quot;log1p&quot;,xn.log1p,-1e-17!==Math.log1p(-1e-17)),g(Math,&quot;asinh&quot;,xn.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),g(Math,&quot;tanh&quot;,xn.tanh,-2e-17!==Math.tanh(-2e-17)),g(Math,&quot;acosh&quot;,xn.acosh,Math.acosh(Number.MAX_VALUE)===1/0),g(Math,&quot;cbrt&quot;,xn.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON&gt;8),g(Math,&quot;sinh&quot;,xn.sinh,-2e-17!==Math.sinh(-2e-17));var Tn=Math.expm1(10);g(Math,&quot;expm1&quot;,xn.expm1,Tn&gt;22025.465794806718||22025.465794806718&gt;Tn);var On=Math.round,Sn=0===Math.round(.5-Number.EPSILON/4)&amp;&amp;1===Math.round(-.5+Number.EPSILON/3.99),jn=pn+1,kn=2*pn-1,Cn=[jn,kn].every(function(e){return Math.round(e)===e});g(Math,&quot;round&quot;,function(e){var t=L(e),n=-1===t?-0:t+1;return.5&gt;e-t?t:n},!Sn||!Cn),w.preserveToString(Math.round,On);var An=Math.imul;-5!==Math.imul(4294967295,5)&amp;&amp;(Math.imul=xn.imul,w.preserveToString(Math.imul,An)),2!==Math.imul.length&amp;&amp;Z(Math,&quot;imul&quot;,function(){return ne.Call(An,Math,arguments)});var En=function(){var e=S.setTimeout;if(&quot;function&quot;==typeof e||&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))){ne.IsPromise=function(e){return ne.TypeIsObject(e)?&quot;undefined&quot;==typeof e._promise?!1:!0:!1};var t,r=function(e){if(!ne.IsConstructor(e))throw new TypeError(&quot;Bad promise constructor&quot;);var t=this,n=function(e,n){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError(&quot;Bad Promise implementation!&quot;);t.resolve=e,t.reject=n};if(t.resolve=void 0,t.reject=void 0,t.promise=new e(n),!ne.IsCallable(t.resolve)||!ne.IsCallable(t.reject))throw new TypeError(&quot;Bad promise constructor&quot;)};&quot;undefined&quot;!=typeof window&amp;&amp;ne.IsCallable(window.postMessage)&amp;&amp;(t=function(){var e=[],t=&quot;zero-timeout-message&quot;,n=function(n){N(e,n),window.postMessage(t,&quot;*&quot;)},r=function(n){if(n.source===window&amp;&amp;n.data===t){if(n.stopPropagation(),0===e.length)return;var r=P(e);r()}};return window.addEventListener(&quot;message&quot;,r,!0),n});var i,o,a=function(){var e=S.Promise,t=e&amp;&amp;e.resolve&amp;&amp;e.resolve();return t&amp;&amp;function(e){return t.then(e)}},s=ne.IsCallable(S.setImmediate)?S.setImmediate:&quot;object&quot;===(&quot;undefined&quot;==typeof process?&quot;undefined&quot;:_typeof(process))&amp;&amp;process.nextTick?process.nextTick:a()||(ne.IsCallable(t)?t():function(t){e(t,0)}),u=function(e){return e},c=function(e){throw e},l=0,f=1,p=2,d=0,h=1,m=2,g={},v=function(e,t,n){s(function(){b(e,t,n)})},b=function(e,t,n){var r,i;if(t===g)return e(n);try{r=e(n),i=t.resolve}catch(e){r=e,i=t.reject}i(r)},w=function(e,t){var n=e._promise,r=n.reactionLength;if(r&gt;0&amp;&amp;(v(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r&gt;1))for(var i=1,o=0;r&gt;i;i++,o+=3)v(n[o+d],n[o+m],t),e[o+d]=void 0,e[o+h]=void 0,e[o+m]=void 0;n.result=t,n.state=f,n.reactionLength=0},x=function(e,t){var n=e._promise,r=n.reactionLength;if(r&gt;0&amp;&amp;(v(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,r&gt;1))for(var i=1,o=0;r&gt;i;i++,o+=3)v(n[o+h],n[o+m],t),e[o+d]=void 0,e[o+h]=void 0,e[o+m]=void 0;n.result=t,n.state=p,n.reactionLength=0},T=function(e){var t=!1,n=function(n){var r;if(!t){if(t=!0,n===e)return x(e,new TypeError(&quot;Self resolution&quot;));if(!ne.TypeIsObject(n))return w(e,n);try{r=n.then}catch(t){return x(e,t)}return ne.IsCallable(r)?void s(function(){j(e,n,r)}):w(e,n)}},r=function(n){return t?void 0:(t=!0,x(e,n))};return{resolve:n,reject:r}},O=function(e,t,r,i){e===o?n(e,t,r,i,g):n(e,t,r,i)},j=function(e,t,n){var r=T(e),i=r.resolve,o=r.reject;try{O(n,t,i,o)}catch(e){o(e)}},k=function(){var e=function(t){if(!(this instanceof e))throw new TypeError('Constructor Promise requires &quot;new&quot;');

if(this&amp;&amp;this._promise)throw new TypeError(&quot;Bad construction&quot;);if(!ne.IsCallable(t))throw new TypeError(&quot;not a valid resolver&quot;);var n=Se(this,e,i,{_promise:{result:void 0,state:l,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),r=T(n),o=r.reject;try{t(r.resolve,o)}catch(e){o(e)}return n};return e}();i=k.prototype;var C=function(e,t,n,r){var i=!1;return function(o){if(!i&amp;&amp;(i=!0,t[e]=o,0===--r.count)){var a=n.resolve;a(t)}}},A=function(e,t,n){for(var r,i,o=e.iterator,a=[],s={count:1},u=0;;){try{if(r=ne.IteratorStep(o),r===!1){e.done=!0;break}i=r.value}catch(t){throw e.done=!0,t}a[u]=void 0;var c=t.resolve(i),l=C(u,a,n,s);s.count+=1,O(c.then,c,l,n.reject),u+=1}if(0===--s.count){var f=n.resolve;f(a)}return n.promise},E=function(e,t,n){for(var r,i,o,a=e.iterator;;){try{if(r=ne.IteratorStep(a),r===!1){e.done=!0;break}i=r.value}catch(t){throw e.done=!0,t}o=t.resolve(i),O(o.then,o,n.resolve,n.reject)}return n.promise};return y(k,{all:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError(&quot;Promise is not object&quot;);var n,i,o=new r(t);try{return n=ne.GetIterator(e),i={iterator:n,done:!1},A(i,t,o)}catch(e){var a=e;if(i&amp;&amp;!i.done)try{ne.IteratorClose(n,!0)}catch(e){a=e}var s=o.reject;return s(a),o.promise}},race:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError(&quot;Promise is not object&quot;);var n,i,o=new r(t);try{return n=ne.GetIterator(e),i={iterator:n,done:!1},E(i,t,o)}catch(e){var a=e;if(i&amp;&amp;!i.done)try{ne.IteratorClose(n,!0)}catch(e){a=e}var s=o.reject;return s(a),o.promise}},reject:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError(&quot;Bad promise constructor&quot;);var n=new r(t),i=n.reject;return i(e),n.promise},resolve:function(e){var t=this;if(!ne.TypeIsObject(t))throw new TypeError(&quot;Bad promise constructor&quot;);if(ne.IsPromise(e)){var n=e.constructor;if(n===t)return e}var i=new r(t),o=i.resolve;return o(e),i.promise}}),y(i,{catch:function(e){return this.then(null,e)},then:function(e,t){var n=this;if(!ne.IsPromise(n))throw new TypeError(&quot;not a promise&quot;);var i,o=ne.SpeciesConstructor(n,k),a=arguments.length&gt;2&amp;&amp;arguments[2]===g;i=a&amp;&amp;o===k?g:new r(o);var s,y=ne.IsCallable(e)?e:u,b=ne.IsCallable(t)?t:c,w=n._promise;if(w.state===l){if(0===w.reactionLength)w.fulfillReactionHandler0=y,w.rejectReactionHandler0=b,w.reactionCapability0=i;else{var x=3*(w.reactionLength-1);w[x+d]=y,w[x+h]=b,w[x+m]=i}w.reactionLength+=1}else if(w.state===f)s=w.result,v(y,i,s);else{if(w.state!==p)throw new TypeError(&quot;unexpected Promise state&quot;);s=w.result,v(b,i,s)}return i.promise}}),g=new r(k),o=i.then,k}}();if(S.Promise&amp;&amp;(delete S.Promise.accept,delete S.Promise.defer,delete S.Promise.prototype.chain),&quot;function&quot;==typeof En){y(S,{Promise:En});var Nn=T(S.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),_n=!a(function(){S.Promise.reject(42).then(null,5).then(null,$)}),Pn=a(function(){S.Promise.call(3,$)}),In=function(e){var t=e.resolve(5);t.constructor={};var n=e.resolve(t);try{n.then(null,$).then(null,$)}catch(e){return!0}return t===n}(S.Promise),Mn=l&amp;&amp;function(){var e=0,t=Object.defineProperty({},&quot;then&quot;,{get:function(){e+=1}});return Promise.resolve(t),1===e}(),Ln=function e(t){var n=new Promise(t);t(3,function(){}),this.then=n.then,this.constructor=e};Ln.prototype=Promise.prototype,Ln.all=Promise.all;var Fn=s(function(){return!!Ln.all([1,2])});if(Nn&amp;&amp;_n&amp;&amp;Pn&amp;&amp;!In&amp;&amp;Mn&amp;&amp;!Fn||(Promise=En,Z(S,&quot;Promise&quot;,En)),1!==Promise.all.length){var Dn=Promise.all;Z(Promise,&quot;all&quot;,function(){return ne.Call(Dn,this,arguments)})}if(1!==Promise.race.length){var Rn=Promise.race;Z(Promise,&quot;race&quot;,function(){return ne.Call(Rn,this,arguments)})}if(1!==Promise.resolve.length){var qn=Promise.resolve;Z(Promise,&quot;resolve&quot;,function(){return ne.Call(qn,this,arguments)})}if(1!==Promise.reject.length){var Hn=Promise.reject;Z(Promise,&quot;reject&quot;,function(){return ne.Call(Hn,this,arguments)})}xt(Promise,&quot;all&quot;),xt(Promise,&quot;race&quot;),xt(Promise,&quot;resolve&quot;),xt(Promise,&quot;reject&quot;),we(Promise)}var $n=function(e){var t=i(d(e,function(e,t){return e[t]=!0,e},{}));return e.join(&quot;:&quot;)===t.join(&quot;:&quot;)},Bn=$n([&quot;z&quot;,&quot;a&quot;,&quot;bb&quot;]),Vn=$n([&quot;z&quot;,1,&quot;a&quot;,&quot;3&quot;,2]);if(l){var Wn=function(e){return Bn?&quot;undefined&quot;==typeof e||null===e?&quot;^&quot;+ne.ToString(e):&quot;string&quot;==typeof e?&quot;$&quot;+e:&quot;number&quot;==typeof e?Vn?e:&quot;n&quot;+e:&quot;boolean&quot;==typeof e?&quot;b&quot;+e:null:null},zn=function(){return Object.create?Object.create(null):{}},Un=function(e,t,i){if(r(i)||Y.string(i))p(i,function(e){if(!ne.TypeIsObject(e))throw new TypeError(&quot;Iterator value &quot;+e+&quot; is not an entry object&quot;);t.set(e[0],e[1])});else if(i instanceof e)n(e.prototype.forEach,i,function(e,n){t.set(n,e)});else{var o,a;if(null!==i&amp;&amp;&quot;undefined&quot;!=typeof i){if(a=t.set,!ne.IsCallable(a))throw new TypeError(&quot;bad map&quot;);o=ne.GetIterator(i)}if(&quot;undefined&quot;!=typeof o)for(;;){var s=ne.IteratorStep(o);if(s===!1)break;var u=s.value;try{if(!ne.TypeIsObject(u))throw new TypeError(&quot;Iterator value &quot;+u+&quot; is not an entry object&quot;);n(a,t,u[0],u[1])}catch(e){throw ne.IteratorClose(o,!0),e}}}},Gn=function(e,t,i){if(r(i)||Y.string(i))p(i,function(e){t.add(e)});else if(i instanceof e)n(e.prototype.forEach,i,function(e){t.add(e)});else{var o,a;if(null!==i&amp;&amp;&quot;undefined&quot;!=typeof i){if(a=t.add,!ne.IsCallable(a))throw new TypeError(&quot;bad set&quot;);o=ne.GetIterator(i)}if(&quot;undefined&quot;!=typeof o)for(;;){var s=ne.IteratorStep(o);if(s===!1)break;var u=s.value;try{n(a,t,u)}catch(e){throw ne.IteratorClose(o,!0),e}}}},Xn={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var r=function(e){return!!e._es6map},i=function(e,t){if(!ne.TypeIsObject(e)||!r(e))throw new TypeError(&quot;Method Map.prototype.&quot;+t+&quot; called on incompatible receiver &quot;+ne.ToString(e))},o=function(e,t){i(e,&quot;[[MapIterator]]&quot;),this.head=e._head,this.i=this.head,this.kind=t};o.prototype={next:function(){var e=this.i,t=this.kind,n=this.head;if(&quot;undefined&quot;==typeof this.i)return Be();for(;e.isRemoved()&amp;&amp;e!==n;)e=e.prev;for(var r;e.next!==n;)if(e=e.next,!e.isRemoved())return r=&quot;key&quot;===t?e.key:&quot;value&quot;===t?e.value:[e.key,e.value],this.i=e,Be(r);return this.i=void 0,Be()}},xe(o.prototype);var a,s=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires &quot;new&quot;');if(this&amp;&amp;this._es6map)throw new TypeError(&quot;Bad construction&quot;);var n=Se(this,e,a,{_es6map:!0,_head:null,_storage:zn(),_size:0}),r=new t(null,null);return r.next=r.prev=r,n._head=r,arguments.length&gt;0&amp;&amp;Un(e,n,arguments[0]),n};return a=s.prototype,w.getter(a,&quot;size&quot;,function(){if(&quot;undefined&quot;==typeof this._size)throw new TypeError(&quot;size method called on incompatible Map&quot;);return this._size}),y(a,{get:function(e){i(this,&quot;get&quot;);var t=Wn(e);if(null!==t){var n=this._storage[t];return n?n.value:void 0}for(var r=this._head,o=r;(o=o.next)!==r;)if(ne.SameValueZero(o.key,e))return o.value},has:function(e){i(this,&quot;has&quot;);var t=Wn(e);if(null!==t)return&quot;undefined&quot;!=typeof this._storage[t];for(var n=this._head,r=n;(r=r.next)!==n;)if(ne.SameValueZero(r.key,e))return!0;return!1},set:function(e,n){i(this,&quot;set&quot;);var r,o=this._head,a=o,s=Wn(e);if(null!==s){if(&quot;undefined&quot;!=typeof this._storage[s])return this._storage[s].value=n,this;r=this._storage[s]=new t(e,n),a=o.prev}for(;(a=a.next)!==o;)if(ne.SameValueZero(a.key,e))return a.value=n,this;return r=r||new t(e,n),ne.SameValue(-0,e)&amp;&amp;(r.key=0),r.next=this._head,r.prev=this._head.prev,r.prev.next=r,r.next.prev=r,this._size+=1,this},delete:function(t){i(this,&quot;delete&quot;);var n=this._head,r=n,o=Wn(t);if(null!==o){if(&quot;undefined&quot;==typeof this._storage[o])return!1;r=this._storage[o].prev,delete this._storage[o]}for(;(r=r.next)!==n;)if(ne.SameValueZero(r.key,t))return r.key=r.value=e,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){i(this,&quot;clear&quot;),this._size=0,this._storage=zn();for(var t=this._head,n=t,r=n.next;(n=r)!==t;)n.key=n.value=e,r=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return i(this,&quot;keys&quot;),new o(this,&quot;key&quot;)},values:function(){return i(this,&quot;values&quot;),new o(this,&quot;value&quot;)},entries:function(){return i(this,&quot;entries&quot;),new o(this,&quot;key+value&quot;)},forEach:function(e){i(this,&quot;forEach&quot;);for(var t=arguments.length&gt;1?arguments[1]:null,r=this.entries(),o=r.next();!o.done;o=r.next())t?n(e,t,o.value[1],o.value[0],this):e(o.value[1],o.value[0],this)}}),xe(a,a.entries),s}(),Set:function(){var e,t=function(e){return e._es6set&amp;&amp;&quot;undefined&quot;!=typeof e._storage},r=function(e,n){if(!ne.TypeIsObject(e)||!t(e))throw new TypeError(&quot;Set.prototype.&quot;+n+&quot; called on incompatible receiver &quot;+ne.ToString(e))},o=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires &quot;new&quot;');if(this&amp;&amp;this._es6set)throw new TypeError(&quot;Bad construction&quot;);var n=Se(this,t,e,{_es6set:!0,&quot;[[SetData]]&quot;:null,_storage:zn()});if(!n._es6set)throw new TypeError(&quot;bad set&quot;);return arguments.length&gt;0&amp;&amp;Gn(t,n,arguments[0]),n};e=o.prototype;var a=function(e){var t=e;if(&quot;^null&quot;===t)return null;if(&quot;^undefined&quot;===t)return void 0;var n=t.charAt(0);return&quot;$&quot;===n?E(t,1):&quot;n&quot;===n?+E(t,1):&quot;b&quot;===n?&quot;btrue&quot;===t:+t},s=function(e){if(!e[&quot;[[SetData]]&quot;]){var t=e[&quot;[[SetData]]&quot;]=new Xn.Map;p(i(e._storage),function(e){var n=a(e);t.set(n,n)}),e[&quot;[[SetData]]&quot;]=t}e._storage=null};return w.getter(o.prototype,&quot;size&quot;,function(){return r(this,&quot;size&quot;),this._storage?i(this._storage).length:(s(this),this[&quot;[[SetData]]&quot;].size)}),y(o.prototype,{has:function(e){r(this,&quot;has&quot;);var t;return this._storage&amp;&amp;null!==(t=Wn(e))?!!this._storage[t]:(s(this),this[&quot;[[SetData]]&quot;].has(e))},add:function(e){r(this,&quot;add&quot;);var t;return this._storage&amp;&amp;null!==(t=Wn(e))?(this._storage[t]=!0,this):(s(this),this[&quot;[[SetData]]&quot;].set(e,e),this)},delete:function(e){r(this,&quot;delete&quot;);var t;if(this._storage&amp;&amp;null!==(t=Wn(e))){var n=H(this._storage,t);return delete this._storage[t]&amp;&amp;n}return s(this),this[&quot;[[SetData]]&quot;].delete(e)},clear:function(){r(this,&quot;clear&quot;),this._storage&amp;&amp;(this._storage=zn()),this[&quot;[[SetData]]&quot;]&amp;&amp;this[&quot;[[SetData]]&quot;].clear()},values:function(){return r(this,&quot;values&quot;),s(this),this[&quot;[[SetData]]&quot;].values()},entries:function(){return r(this,&quot;entries&quot;),s(this),this[&quot;[[SetData]]&quot;].entries()},forEach:function(e){r(this,&quot;forEach&quot;);var t=arguments.length&gt;1?arguments[1]:null,i=this;s(i),this[&quot;[[SetData]]&quot;].forEach(function(r,o){t?n(e,t,o,o,i):e(o,o,i)})}}),g(o.prototype,&quot;keys&quot;,o.prototype.values,!0),xe(o.prototype,o.prototype.values),o}()};if(S.Map||S.Set){var Jn=s(function(){return 2===new Map([[1,2]]).get(1)});if(!Jn){var Yn=S.Map;S.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires &quot;new&quot;');var t=new Yn;return arguments.length&gt;0&amp;&amp;Un(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,S.Map.prototype),t},S.Map.prototype=x(Yn.prototype),g(S.Map.prototype,&quot;constructor&quot;,S.Map,!0),w.preserveToString(S.Map,Yn)}var Zn=new Map,Qn=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);return e.set(-0,e),e.get(0)===e&amp;&amp;e.get(-0)===e&amp;&amp;e.has(0)&amp;&amp;e.has(-0)}(),Kn=Zn.set(1,2)===Zn;if(!Qn||!Kn){var er=Map.prototype.set;Z(Map.prototype,&quot;set&quot;,function(e,t){return n(er,this,0===e?0:e,t),this})}if(!Qn){var tr=Map.prototype.get,nr=Map.prototype.has;y(Map.prototype,{get:function(e){return n(tr,this,0===e?0:e)},has:function(e){return n(nr,this,0===e?0:e)}},!0),w.preserveToString(Map.prototype.get,tr),w.preserveToString(Map.prototype.has,nr)}var rr=new Set,ir=function(e){return e.delete(0),e.add(-0),!e.has(0)}(rr),or=rr.add(1)===rr;if(!ir||!or){var ar=Set.prototype.add;Set.prototype.add=function(e){return n(ar,this,0===e?0:e),this},w.preserveToString(Set.prototype.add,ar)}if(!ir){var sr=Set.prototype.has;Set.prototype.has=function(e){return n(sr,this,0===e?0:e)},w.preserveToString(Set.prototype.has,sr);var ur=Set.prototype.delete;Set.prototype.delete=function(e){return n(ur,this,0===e?0:e)},w.preserveToString(Set.prototype.delete,ur)}var cr=T(S.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),lr=Object.setPrototypeOf&amp;&amp;!cr,fr=function(){try{return!(S.Map()instanceof S.Map)}catch(e){return e instanceof TypeError}}();if(0!==S.Map.length||lr||!fr){var pr=S.Map;S.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires &quot;new&quot;');var t=new pr;return arguments.length&gt;0&amp;&amp;Un(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},S.Map.prototype=pr.prototype,g(S.Map.prototype,&quot;constructor&quot;,S.Map,!0),w.preserveToString(S.Map,pr)}var dr=T(S.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),hr=Object.setPrototypeOf&amp;&amp;!dr,mr=function(){try{return!(S.Set()instanceof S.Set)}catch(e){return e instanceof TypeError}}();if(0!==S.Set.length||hr||!mr){var gr=S.Set;S.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires &quot;new&quot;');var t=new gr;return arguments.length&gt;0&amp;&amp;Gn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},S.Set.prototype=gr.prototype,g(S.Set.prototype,&quot;constructor&quot;,S.Set,!0),w.preserveToString(S.Set,gr)}var yr=new S.Map,vr=!s(function(){return yr.keys().next().done});if((&quot;function&quot;!=typeof S.Map.prototype.clear||0!==(new S.Set).size||0!==yr.size||&quot;function&quot;!=typeof S.Map.prototype.keys||&quot;function&quot;!=typeof S.Set.prototype.keys||&quot;function&quot;!=typeof S.Map.prototype.forEach||&quot;function&quot;!=typeof S.Set.prototype.forEach||u(S.Map)||u(S.Set)||&quot;function&quot;!=typeof yr.keys().next||vr||!cr)&amp;&amp;y(S,{Map:Xn.Map,Set:Xn.Set},!0),S.Set.prototype.keys!==S.Set.prototype.values&amp;&amp;g(S.Set.prototype,&quot;keys&quot;,S.Set.prototype.values,!0),xe(Object.getPrototypeOf((new S.Map).keys())),xe(Object.getPrototypeOf((new S.Set).keys())),f&amp;&amp;&quot;has&quot;!==S.Set.prototype.has.name){var br=S.Set.prototype.has;Z(S.Set.prototype,&quot;has&quot;,function(e){return n(br,this,e)})}}y(S,Xn),we(S.Map),we(S.Set)}var wr=function(e){if(!ne.TypeIsObject(e))throw new TypeError(&quot;target must be an object&quot;)},xr={apply:function(){return ne.Call(ne.Call,null,arguments)},construct:function(e,t){if(!ne.IsConstructor(e))throw new TypeError(&quot;First argument must be a constructor.&quot;);var n=arguments.length&gt;2?arguments[2]:e;if(!ne.IsConstructor(n))throw new TypeError(&quot;new.target must be a constructor.&quot;);return ne.Construct(e,t,n,&quot;internal&quot;)},deleteProperty:function(e,t){if(wr(e),l){var n=Object.getOwnPropertyDescriptor(e,t);if(n&amp;&amp;!n.configurable)return!1}return delete e[t]},has:function(e,t){return wr(e),t in e}};Object.getOwnPropertyNames&amp;&amp;Object.assign(xr,{ownKeys:function(e){wr(e);var t=Object.getOwnPropertyNames(e);return ne.IsCallable(Object.getOwnPropertySymbols)&amp;&amp;_(t,Object.getOwnPropertySymbols(e)),t}});var Tr=function(e){return!a(e)};if(Object.preventExtensions&amp;&amp;Object.assign(xr,{isExtensible:function(e){return wr(e),Object.isExtensible(e)},preventExtensions:function(e){return wr(e),Tr(function(){Object.preventExtensions(e)})}}),l){var Or=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(!r){var i=Object.getPrototypeOf(e);return null===i?void 0:Or(i,t,n)}return&quot;value&quot;in r?r.value:r.get?ne.Call(r.get,n):void 0},Sr=function(e,t,r,i){var o=Object.getOwnPropertyDescriptor(e,t);if(!o){var a=Object.getPrototypeOf(e);if(null!==a)return Sr(a,t,r,i);o={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if(&quot;value&quot;in o){if(!o.writable)return!1;if(!ne.TypeIsObject(i))return!1;var s=Object.getOwnPropertyDescriptor(i,t);return s?ee.defineProperty(i,t,{value:r}):ee.defineProperty(i,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}return o.set?(n(o.set,i,r),!0):!1};Object.assign(xr,{defineProperty:function(e,t,n){return wr(e),Tr(function(){Object.defineProperty(e,t,n)})},getOwnPropertyDescriptor:function(e,t){return wr(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){wr(e);var n=arguments.length&gt;2?arguments[2]:e;return Or(e,t,n)},set:function(e,t,n){wr(e);var r=arguments.length&gt;3?arguments[3]:e;return Sr(e,t,n,r)}})}if(Object.getPrototypeOf){var jr=Object.getPrototypeOf;xr.getPrototypeOf=function(e){return wr(e),jr(e)}}if(Object.setPrototypeOf&amp;&amp;xr.getPrototypeOf){var kr=function(e,t){for(var n=t;n;){if(e===n)return!0;n=xr.getPrototypeOf(n)}return!1};Object.assign(xr,{setPrototypeOf:function(e,t){if(wr(e),null!==t&amp;&amp;!ne.TypeIsObject(t))throw new TypeError(&quot;proto must be an object or null&quot;);return t===ee.getPrototypeOf(e)?!0:ee.isExtensible&amp;&amp;!ee.isExtensible(e)?!1:kr(e,t)?!1:(Object.setPrototypeOf(e,t),!0)}})}var Cr=function(e,t){if(ne.IsCallable(S.Reflect[e])){var n=s(function(){return S.Reflect[e](1),S.Reflect[e](0/0),S.Reflect[e](!0),!0});n&amp;&amp;Z(S.Reflect,e,t)}else g(S.Reflect,e,t)};Object.keys(xr).forEach(function(e){Cr(e,xr[e])});var Ar=S.Reflect.getPrototypeOf;if(f&amp;&amp;Ar&amp;&amp;&quot;getPrototypeOf&quot;!==Ar.name&amp;&amp;Z(S.Reflect,&quot;getPrototypeOf&quot;,function(e){return n(Ar,S.Reflect,e)}),S.Reflect.setPrototypeOf&amp;&amp;s(function(){return S.Reflect.setPrototypeOf(1,{}),!0})&amp;&amp;Z(S.Reflect,&quot;setPrototypeOf&quot;,xr.setPrototypeOf),S.Reflect.defineProperty&amp;&amp;(s(function(){var e=!S.Reflect.defineProperty(1,&quot;test&quot;,{value:1}),t=&quot;function&quot;!=typeof Object.preventExtensions||!S.Reflect.defineProperty(Object.preventExtensions({}),&quot;test&quot;,{});return e&amp;&amp;t})||Z(S.Reflect,&quot;defineProperty&quot;,xr.defineProperty)),S.Reflect.construct&amp;&amp;(s(function(){var e=function(){};return S.Reflect.construct(function(){},[],e)instanceof e})||Z(S.Reflect,&quot;construct&quot;,xr.construct)),&quot;Invalid Date&quot;!==String(new Date(0/0))){var Er=Date.prototype.toString,Nr=function(){var e=+this;return e!==e?&quot;Invalid Date&quot;:ne.Call(Er,this)};Z(Date.prototype,&quot;toString&quot;,Nr)}var _r={anchor:function(e){return ne.CreateHTML(this,&quot;a&quot;,&quot;name&quot;,e)},big:function(){return ne.CreateHTML(this,&quot;big&quot;,&quot;&quot;,&quot;&quot;)},blink:function(){return ne.CreateHTML(this,&quot;blink&quot;,&quot;&quot;,&quot;&quot;)},bold:function(){return ne.CreateHTML(this,&quot;b&quot;,&quot;&quot;,&quot;&quot;)},fixed:function(){return ne.CreateHTML(this,&quot;tt&quot;,&quot;&quot;,&quot;&quot;)},fontcolor:function(e){return ne.CreateHTML(this,&quot;font&quot;,&quot;color&quot;,e)},fontsize:function(e){return ne.CreateHTML(this,&quot;font&quot;,&quot;size&quot;,e)},italics:function(){return ne.CreateHTML(this,&quot;i&quot;,&quot;&quot;,&quot;&quot;)},link:function(e){return ne.CreateHTML(this,&quot;a&quot;,&quot;href&quot;,e)},small:function(){return ne.CreateHTML(this,&quot;small&quot;,&quot;&quot;,&quot;&quot;)},strike:function(){return ne.CreateHTML(this,&quot;strike&quot;,&quot;&quot;,&quot;&quot;)},sub:function(){return ne.CreateHTML(this,&quot;sub&quot;,&quot;&quot;,&quot;&quot;)},sup:function(){return ne.CreateHTML(this,&quot;sup&quot;,&quot;&quot;,&quot;&quot;)}};p(Object.keys(_r),function(e){var t=String.prototype[e],r=!1;if(ne.IsCallable(t)){var i=n(t,&quot;&quot;,' &quot; '),o=A([],i.match(/&quot;/g)).length;r=i!==i.toLowerCase()||o&gt;2}else r=!0;r&amp;&amp;Z(String.prototype,e,_r[e])});var Pr=function(){if(!Q)return!1;var e=&quot;object&quot;===(&quot;undefined&quot;==typeof JSON?&quot;undefined&quot;:_typeof(JSON))&amp;&amp;&quot;function&quot;==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if(&quot;undefined&quot;!=typeof e(B()))return!0;if(&quot;[null]&quot;!==e([B()]))return!0;var t={a:B()};return t[B()]=!0,&quot;{}&quot;!==e(t)?!0:!1}(),Ir=s(function(){return Q?&quot;{}&quot;===JSON.stringify(Object(B()))&amp;&amp;&quot;[{}]&quot;===JSON.stringify([Object(B())]):!0});if(Pr||!Ir){var Mr=JSON.stringify;Z(JSON,&quot;stringify&quot;,function(e){if(&quot;symbol&quot;!==(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))){var t;arguments.length&gt;1&amp;&amp;(t=arguments[1]);var i=[e];if(r(t))i.push(t);else{var o=ne.IsCallable(t)?t:null,a=function(e,t){var r=o?n(o,this,e,t):t;return&quot;symbol&quot;!==(&quot;undefined&quot;==typeof r?&quot;undefined&quot;:_typeof(r))?Y.symbol(r)?Ot({})(r):r:void 0};i.push(a)}return arguments.length&gt;2&amp;&amp;i.push(arguments[2]),Mr.apply(this,i)}})}return S}),define(&quot;jqueryplugins&quot;,[&quot;jquery&quot;],function(e){e.prototype.extend({popAttr:function(e){var t=this.attr(e);return this.removeAttr(e),t},popData:function(e){var t=this.data(e);return this.removeData(e),t},tag:function(){return this[0]&amp;&amp;this[0].tagName&amp;&amp;this[0].tagName.toLowerCase()},textNodes:function(){return 1===this.length&amp;&amp;this[0]instanceof Text?[this[0]]:Array.from(this.add(this.contents().add(this.find(&quot;*&quot;).contents())).filter(function(){return this instanceof Text})).sort(function(e,t){return 2&amp;e.compareDocumentPosition(t)?1:-1})},findAndFilter:function(e){return this.filter(e).add(this.find(e))}})}),function(){function e(){for(var e=0;e&lt;arguments.length;e++)for(var t in arguments[e])this[t]=arguments[e][t]}function t(e,t){e.childAt=e.childAt||{};for(var n=t.start;n&lt;t.end;n+=1)e.childAt[n]=t}function n(e,t,n,r){return!(e.canFollow&amp;&amp;!(e.canFollow.indexOf(n&amp;&amp;n.type)&gt;-1)||e.cannotFollow&amp;&amp;(-1!==e.cannotFollow.indexOf(n&amp;&amp;n.type)||e.cannotFollow.indexOf(&quot;text&quot;)&gt;-1&amp;&amp;r)||e.peek&amp;&amp;e.peek.toLowerCase()!==t.slice(0,e.peek.length).toLowerCase())}function r(e){for(var t=e.innerText,r=[],o=0,s=o,u=t.length,c=null;u&gt;o;){for(var l=t.slice(o),f=(r.length?r[0]:e).innerMode,p=0,d=f.length;d&gt;p;p+=1){var h=a[f[p]];if(n(h,l,c,o&gt;s)&amp;&amp;h.pattern.test(l)){var m=h.pattern.exec(l),g=h.fn(m),y=!1,v=0;if(g.matches){for(;v&lt;r.length;v+=1){var b=r[v].type;if(b in g.matches){y=!0;break}0===b.indexOf(&quot;verbatim&quot;)&amp;&amp;(b=&quot;verbatimOpener&quot;),g.cannotCross&amp;&amp;g.cannotCross.indexOf(b)&gt;-1&amp;&amp;(v=r.length-1)}if(v&gt;=r.length&amp;&amp;!g.isFront)continue}o&gt;s&amp;&amp;e.addChild({type:&quot;text&quot;,text:t.slice(s,o),innerMode:f}),c=e.addChild(g),o+=c.text.length,s=o,y&amp;&amp;(i(e,c,r[v]),r=r.slice(v+1)),c.isFrontToken()&amp;&amp;r.unshift(c);break}}p===d&amp;&amp;(o+=1,null===c&amp;&amp;(c={type:&quot;text&quot;}))}for(o&gt;s&amp;&amp;e.addChild({type:&quot;text&quot;,text:t.slice(s,o),innerMode:(r.length?r[0]:e).innerMode});r.length&gt;0;)r.shift().demote();return e}function i(e,n,r){var i=e.children.indexOf(n),o=e.children.indexOf(r);n.children=e.children.splice(o+1,i-(o+1)),n.children.forEach(function(e){t(n,e)}),n.type=n.matches[r.type],n.innerText=&quot;&quot;;for(var a=0,s=n.children.length;s&gt;a;a++)n.innerText+=n.children[a].text;n.start=r.start,n.text=r.text+n.innerText+n.text,Object.keys(r).forEach(function(e){Object.hasOwnProperty.call(n,e)||(n[e]=r[e])}),n.isFront&amp;&amp;(n.isFront=!1),e.children.splice(o,1),t(e,n)}var o=void 0,a={};e.prototype={constructor:e,addChild:function(n){var i=this.lastChildEnd(),o=new e({start:i,end:n.text&amp;&amp;i+n.text.length,children:[]},n);return o.innerText&amp;&amp;r(o),this.children.push(o),t(this,o),o},lastChild:function(){return this.children?this.children[this.children.length-1]||null:null},lastChildEnd:function(){var e=this.lastChild();return e?e.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(e){if(e&lt;this.start||e&gt;=this.end)return null;if(this.childAt)return this.childAt[e]&amp;&amp;this.childAt[e].tokenAt(e)||this;if(this.children.length)for(var t=0;t&lt;this.children.length;t+=1){var n=this.children[t].tokenAt(e);if(n)return n}return this},pathAt:function(e){if(e&lt;this.start||e&gt;=this.end)return[];if(this.childAt)return(this.childAt[e]&amp;&amp;this.childAt[e].pathAt(e)||[]).concat(this);var t=[];if(this.children.length)for(var n=0;n&lt;this.children.length;n+=1){var r=this.children[n].pathAt(e);if(r.length){t.concat(r);break}}return t.concat(this)},nearestTokenAt:function(e){return e&lt;this.start||e&gt;=this.end?null:this.children?this.children.reduce(function(t,n){return t||(e&gt;=n.start&amp;&amp;e&lt;n.end?n:null)},null):this},everyLeaf:function(e){return this.children&amp;&amp;0!==this.children.length?this.children.reduce(function(t,n){return n.everyLeaf(e)&amp;&amp;t},!0):!!e(this)},isWhitespace:function(){return this.everyLeaf(function(e){return&quot;whitespace&quot;===e.type||!e.text.trim()})},isFrontToken:function(){return this.isFront},isBackToken:function(){return&quot;matches&quot;in this},demote:function(){this.type=&quot;text&quot;},error:function(e){this.type=&quot;error&quot;,this.message=e},toString:function(){var e=this.type+&quot;(&quot;+this.start+&quot;\u2192&quot;+this.end+&quot;)&quot;;return this.children&amp;&amp;this.children.length&gt;0&amp;&amp;(e+=&quot;[&quot;+this.children+&quot;]&quot;),e}},o={lex:function(t,n){return r(new e({type:&quot;root&quot;,start:n||0,end:t.length,text:t,innerText:t,children:[],childAt:{},innerMode:o.modes.start}))},rules:a,modes:{}},&quot;object&quot;===(&quot;undefined&quot;==typeof module?&quot;undefined&quot;:_typeof(module))?module.exports=o:&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;lexer&quot;,[],function(){return o}):this&amp;&amp;this.loaded?(this.modules||(this.modules={}),this.modules.Lexer=o):this.TwineLexer=o}.call(eval(&quot;this&quot;)||(&quot;undefined&quot;!=typeof global?global:window)),function(){function e(t){return t&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))?(Object.keys(t).forEach(function(n){t[n]=e(t[n])}),t):(t+&quot;&quot;).replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,&quot;\\$&amp;&quot;)}function t(){return&quot;[^&quot;+Array.apply(0,arguments).map(e).join(&quot;&quot;)+&quot;]*&quot;}function n(e){return function(){return&quot;(&quot;+e+Array.apply(0,arguments).join(&quot;|&quot;)+&quot;)&quot;}}var r=void 0,i=n(&quot;?:&quot;),o=n(&quot;?!&quot;),a=n(&quot;?=&quot;),s=&quot;[ \\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]*&quot;,u=s.replace(&quot;*&quot;,&quot;+&quot;),c=&quot;\\b&quot;,l=&quot;\\\\\\n\\\\?|\\n\\\\&quot;,f=&quot;\\n(?!\\\\)&quot;,p=&quot;[\\w\\-\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]&quot;,d=p.replace(&quot;\\-&quot;,&quot;&quot;),h=i(&quot;\\n&quot;,&quot;$&quot;),m=&quot;(&quot;+i(l,&quot;[^\\n]&quot;)+&quot;+)&quot;,g=&quot;\\*&quot;,y=s+&quot;(&quot;+g+&quot;+)&quot;+u+m+h,v=&quot;(?:0\\.)&quot;,b=s+&quot;(&quot;+v+&quot;+)&quot;+u+m+h,w=s+&quot;-{3,}&quot;+s+h,x=s+&quot;(#{1,6})&quot;+s+m+h,T=s+&quot;(==+&gt;|&lt;=+|=+&gt;&lt;=+|&lt;==+&gt;)&quot;+s+h,O=s+&quot;(=+\\|+|\\|+=+|=+\\|+=+|\\|=+\\|)&quot;+s+h,S={opener:&quot;\\[\\[(?!\\[)&quot;,text:&quot;(&quot;+t(&quot;]&quot;)+&quot;)&quot;,rightSeparator:i(&quot;\\-&gt;&quot;,&quot;\\|&quot;),leftSeparator:&quot;&lt;\\-&quot;,closer:&quot;\\]\\]&quot;,legacySeparator:&quot;\\|&quot;,legacyText:&quot;(&quot;+i(&quot;[^\\|\\]]&quot;,&quot;\\]&quot;+o(&quot;\\]&quot;))+&quot;+)&quot;},j=d+&quot;*&quot;+d.replace(&quot;\\w&quot;,&quot;a-zA-Z&quot;)+d+&quot;*&quot;,k=&quot;\\$(&quot;+j+&quot;)&quot;,C=&quot;'s&quot;+u+&quot;(&quot;+j+&quot;)&quot;,A=&quot;(&quot;+j+&quot;)&quot;+u+&quot;of&quot;+c+o(&quot;it&quot;+c),E=&quot;'s&quot;+u,N=&quot;of&quot;+c,_=i(&quot;it&quot;,&quot;time&quot;)+c,P=&quot;its&quot;+u+&quot;(&quot;+j+&quot;)&quot;,I=&quot;its&quot;+u,M=&quot;(&quot;+j+&quot;)&quot;+u+&quot;of&quot;+u+&quot;it&quot;+c,L=&quot;of&quot;+c+u+&quot;it&quot;+c,F={opener:&quot;\\(&quot;,name:&quot;(&quot;+i(p+&quot;+&quot;,k)+&quot;):&quot;+o(&quot;\\/&quot;),closer:&quot;\\)&quot;},D=&quot;&lt;&lt;[^&gt;\\s]+\\s*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\&quot;(?:[^\&quot;\\\\]*\\\\.)*[^\&quot;\\\\]*\&quot;|[^'\&quot;\\\\&gt;]|&gt;(?!&gt;))*&gt;&gt;&quot;,R=i(&quot;=&lt;&quot;,&quot;=&gt;&quot;,&quot;[gl]te?&quot;+c,&quot;n?eq&quot;+c,&quot;isnot&quot;+c,&quot;are&quot;+c,&quot;x&quot;+c),q={name:&quot;[a-zA-Z][\\w\\-]*&quot;,attrs:&quot;(?:\&quot;[^\&quot;]*\&quot;|'[^']*'|[^'\&quot;&gt;])*?&quot;},H=&quot;\\|(&quot;+p+&quot;+)(&gt;|\\))&quot;,$=&quot;(&lt;|\\()(&quot;+p+&quot;+)\\|&quot;,B=&quot;_(&quot;+j+&quot;)&quot;+c,V=&quot;\\b(\\-?\\d+(?:\\.\\d+)?(?:[eE][+\\-]?\\d+)?|NaN)&quot;+o(&quot;m?s&quot;)+c;S.main=S.opener+i(S.text+S.rightSeparator,S.text.replace(&quot;*&quot;,&quot;*?&quot;)+S.leftSeparator)+S.text,r={upperLetter:&quot;[A-Z\\u00c0-\\u00de\\u0150\\u0170]&quot;,lowerLetter:&quot;[a-z0-9_\\-\\u00df-\\u00ff\\u0151\\u0171]&quot;,anyLetter:p,anyLetterStrict:d,whitespace:u,escapedLine:l,br:f,commentFront:&quot;&lt;!--&quot;,commentBack:&quot;--&gt;&quot;,tag:&quot;&lt;\\/?&quot;+q.name+q.attrs+&quot;&gt;&quot;,tagPeek:&quot;&lt;&quot;,scriptStyleTag:&quot;&lt;(&quot;+i(&quot;script&quot;,&quot;style&quot;)+&quot;)&quot;+q.attrs+&quot;&gt;[^]*?&lt;\\/\\1&gt;&quot;,scriptStyleTagOpener:&quot;&lt;&quot;,url:&quot;(&quot;+i(&quot;https?&quot;,&quot;mailto&quot;,&quot;javascript&quot;,&quot;ftp&quot;,&quot;data&quot;)+&quot;:\\/\\/[^\\s&lt;]+[^&lt;.,:;\&quot;')\\]\\s])&quot;,bullet:g,hr:w,heading:x,align:T,column:O,bulleted:y,numbered:b,delOpener:e(&quot;~~&quot;),italicOpener:e(&quot;//&quot;),boldOpener:e(&quot;''&quot;),supOpener:e(&quot;^^&quot;),strongFront:e(&quot;**&quot;),strongBack:e(&quot;**&quot;),emFront:e(&quot;*&quot;),emBack:e(&quot;*&quot;),verbatimOpener:&quot;`+&quot;,collapsedFront:&quot;{&quot;,collapsedBack:&quot;}&quot;,hookAppendedFront:&quot;\\[&quot;,hookPrependedFront:H+&quot;\\[&quot;,hookFront:&quot;\\[&quot;,hookBack:&quot;\\]&quot;+o($),hookAppendedBack:&quot;\\]&quot;+$,passageLink:S.main+S.closer,passageLinkPeek:&quot;[[&quot;,legacyLink:S.opener+S.legacyText+S.legacySeparator+S.legacyText+S.closer,legacyLinkPeek:&quot;[[&quot;,simpleLink:S.opener+S.legacyText+S.closer,simpleLinkPeek:&quot;[[&quot;,macroFront:F.opener+a(F.name),macroFrontPeek:&quot;(&quot;,macroName:F.name,groupingFront:&quot;\\(&quot;+o(F.name),groupingFrontPeek:&quot;(&quot;,groupingBack:&quot;\\)&quot;,twine1Macro:D,twine1MacroPeek:&quot;&lt;&lt;&quot;,property:C,propertyPeek:&quot;'s&quot;,belongingProperty:A,possessiveOperator:E,belongingOperator:N,belongingOperatorPeek:&quot;of&quot;,itsOperator:I,itsOperatorPeek:&quot;its&quot;,belongingItOperator:L,belongingItOperatorPeek:&quot;of&quot;,variable:k,variablePeek:&quot;$&quot;,tempVariable:B,tempVariablePeek:&quot;_&quot;,hookRef:&quot;\\?(&quot;+p+&quot;+)\\b&quot;,hookRefPeek:&quot;?&quot;,cssTime:&quot;(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)&quot;+c,colour:i(i(&quot;Red&quot;,&quot;Orange&quot;,&quot;Yellow&quot;,&quot;Lime&quot;,&quot;Green&quot;,&quot;Cyan&quot;,&quot;Aqua&quot;,&quot;Blue&quot;,&quot;Navy&quot;,&quot;Purple&quot;,&quot;Fuchsia&quot;,&quot;Magenta&quot;,&quot;White&quot;,&quot;Gray&quot;,&quot;Grey&quot;,&quot;Black&quot;),&quot;#[\\dA-Fa-f]{3}(?:[\\dA-Fa-f]{3})?&quot;),number:V,boolean:i(&quot;true&quot;,&quot;false&quot;)+c,identifier:_,itsProperty:P,itsPropertyPeek:&quot;its&quot;,belongingItProperty:M,escapedStringChar:&quot;\\\\[^\\n]&quot;,singleStringOpener:&quot;'&quot;,doubleStringOpener:'&quot;',is:&quot;is&quot;+o(u+&quot;not&quot;,u+&quot;in&quot;,u+&quot;&lt;&quot;,u+&quot;&gt;&quot;)+c,isNot:&quot;is&quot;+u+&quot;not&quot;+c,and:&quot;and&quot;+c,or:&quot;or&quot;+c,not:&quot;not&quot;+c,inequality:&quot;((?:is(?:&quot;+u+&quot;not)?&quot;+s+&quot;)*)(&quot;+i(&quot;&lt;(?!=)&quot;,&quot;&lt;=&quot;,&quot;&gt;(?!=)&quot;,&quot;&gt;=&quot;)+&quot;)&quot;,isIn:&quot;is&quot;+u+&quot;in&quot;+c,contains:&quot;contains&quot;+c,addition:e(&quot;+&quot;)+o(&quot;=&quot;),subtraction:e(&quot;-&quot;)+o(&quot;=&quot;,&quot;\\d&quot;),multiplication:e(&quot;*&quot;)+o(&quot;=&quot;),division:i(&quot;/&quot;,&quot;%&quot;)+o(&quot;=&quot;),comma:&quot;,&quot;,spread:&quot;\\.\\.\\.&quot;+o(&quot;\\.&quot;),to:i(&quot;to&quot;+c,&quot;=&quot;),into:&quot;into&quot;+c,making:&quot;making&quot;+c,where:&quot;where&quot;+c,via:&quot;via&quot;+c,with:&quot;with&quot;+c,each:&quot;each&quot;+c,augmentedAssign:i(&quot;\\+&quot;,&quot;\\-&quot;,&quot;\\*&quot;,&quot;\\/&quot;,&quot;%&quot;)+&quot;=&quot;,incorrectOperator:R},&quot;object&quot;===(&quot;undefined&quot;==typeof module?&quot;undefined&quot;:_typeof(module))?module.exports=r:&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;patterns&quot;,[],function(){return r}):this&amp;&amp;this.loaded?(this.modules||(this.modules={}),this.modules.Patterns=r):this.Patterns=r}.call(eval(&quot;this&quot;)||(&quot;undefined&quot;!=typeof global?global:window)),function(){function e(e){function t(e){return e=e||&quot;innerText&quot;,function(t){var n=t.reduceRight(function(e,t,n){return e||(n?t:&quot;&quot;)},&quot;&quot;),r={};return r[e]=n,r}}function r(e,t){var n={};return n[e]=t,function(){return{isFront:!0,matches:n,cannotCross:[&quot;verbatimOpener&quot;]}}}function i(e,t){return Object.keys(t).forEach(function(n){var r=t[n].fn;t[n].fn=function(t){var i=r(t);return i.text||(i.text=t[0]),i.type||(i.type=n),i.innerMode||(i.innerMode=e),i}}),t}var o=Object.bind(0,null),a=[],s=[],u=i(a,{hr:{fn:o},bulleted:{fn:function(e){return{depth:e[1].length,innerText:e[2]}}},numbered:{fn:function(e){return{depth:e[1].length/2,innerText:e[2]}}},heading:{fn:function(e){return{depth:e[1].length,innerText:e[2]}}},align:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf(&quot;&gt;&lt;&quot;);return~r?(t=Math.round(r/(n.length-2)*50),25===t&amp;&amp;(t=&quot;center&quot;)):&quot;&lt;&quot;===n[0]&amp;&amp;&quot;&gt;&quot;===n.slice(-1)?t=&quot;justify&quot;:n.indexOf(&quot;&gt;&quot;)&gt;-1?t=&quot;right&quot;:n.indexOf(&quot;&lt;&quot;)&gt;-1&amp;&amp;(t=&quot;left&quot;),{align:t}}},column:{fn:function(e){var t=void 0,n=e[1],r=n.indexOf(&quot;|&quot;);return r&amp;&amp;r&lt;n.length-1?t=&quot;center&quot;:&quot;|&quot;===n[0]&amp;&amp;&quot;|&quot;===n.slice(-1)?t=&quot;none&quot;:r===n.length-1?t=&quot;right&quot;:r||(t=&quot;left&quot;),{column:t,width:/\|+/.exec(n)[0].length,marginLeft:/^=*/.exec(n)[0].length,marginRight:/=*$/.exec(n)[0].length}}}});Object.keys(u).forEach(function(e){u[e].canFollow=[null,&quot;br&quot;,&quot;hr&quot;,&quot;bulleted&quot;,&quot;numbered&quot;,&quot;heading&quot;,&quot;align&quot;],u[e].cannotFollow=[&quot;text&quot;]});var c=i(a,{twine1Macro:{fn:function(){return{type:&quot;error&quot;,message:&quot;Harlowe macros use a different syntax to Twine 1 and SugarCube macros.&quot;}}},emBack:{fn:function(){return{matches:{emFront:&quot;em&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},strongBack:{fn:function(){return{matches:{strongFront:&quot;strong&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:r(&quot;boldOpener&quot;,&quot;bold&quot;)},italicOpener:{fn:r(&quot;italicOpener&quot;,&quot;italic&quot;)},delOpener:{fn:r(&quot;delOpener&quot;,&quot;del&quot;)},supOpener:{fn:r(&quot;supOpener&quot;,&quot;sup&quot;)},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:&quot;comment&quot;}}}},scriptStyleTag:{fn:o},tag:{fn:o},url:{fn:o},hookPrependedFront:{fn:function(e){return{name:e[1],hidden:&quot;)&quot;===e[2],isFront:!0,tagPosition:&quot;prepended&quot;}}},hookFront:{fn:function(){return{isFront:!0}}},hookBack:{fn:function(){return{matches:{hookPrependedFront:&quot;hook&quot;,hookFront:&quot;hook&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},hookAppendedBack:{fn:function(e){return{name:e[2],hidden:&quot;(&quot;===e[1],tagPosition:&quot;appended&quot;,matches:{hookFront:&quot;hook&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},verbatimOpener:{fn:function(e){var t=e[0].length,n={};return n[&quot;verbatim&quot;+t]=&quot;verbatim&quot;,{type:&quot;verbatim&quot;+t,isFront:!0,matches:n}}},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:&quot;collapsed&quot;},cannotCross:[&quot;verbatimOpener&quot;]}}},escapedLine:{fn:o},legacyLink:{fn:function(e){return{type:&quot;twineLink&quot;,innerText:e[1],passage:e[2]}}},br:{fn:o}}),l=i(s,{macroFront:{fn:function(e){return{isFront:!0,name:e[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:&quot;grouping&quot;,macroFront:&quot;macro&quot;},cannotCross:[&quot;singleStringOpener&quot;,&quot;doubleStringOpener&quot;]}}},passageLink:{fn:function(e){var t=e[1],n=e[2],r=e[3];return{type:&quot;twineLink&quot;,innerText:n?r:t,passage:t?r:n}}},simpleLink:{fn:function(e){return{type:&quot;twineLink&quot;,innerText:e[1],passage:e[1]}}},variable:{fn:t(&quot;name&quot;)},tempVariable:{fn:t(&quot;name&quot;)}}),f=i(s,Object.assign({macroName:{canFollow:[&quot;macroFront&quot;],fn:function(e){return e[2]?{isMethodCall:!0,innerText:e[2]}:{isMethodCall:!1}}},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:t(&quot;name&quot;),canFollow:[&quot;variable&quot;,&quot;hookRef&quot;,&quot;property&quot;,&quot;tempVariable&quot;,&quot;colour&quot;,&quot;itsProperty&quot;,&quot;belongingItProperty&quot;,&quot;macro&quot;,&quot;grouping&quot;,&quot;string&quot;,&quot;boolean&quot;,&quot;number&quot;]},possessiveOperator:{
fn:o},itsProperty:{cannotFollow:[&quot;text&quot;],fn:t(&quot;name&quot;)},itsOperator:{cannotFollow:[&quot;text&quot;],fn:o},belongingItProperty:{cannotFollow:[&quot;text&quot;],fn:t(&quot;name&quot;)},belongingItOperator:{cannotFollow:[&quot;text&quot;],fn:o},belongingProperty:{cannotFollow:[&quot;text&quot;],fn:t(&quot;name&quot;)},belongingOperator:{cannotFollow:[&quot;text&quot;],fn:o},escapedStringChar:{fn:function(){return{type:&quot;text&quot;}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:&quot;string&quot;}}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:&quot;string&quot;}}}},hookRef:{fn:t(&quot;name&quot;)},cssTime:{fn:function(e){return{value:+e[1]*(&quot;s&quot;===e[2].toLowerCase()?1e3:1)}}},colour:{cannotFollow:[&quot;text&quot;],fn:function(e){var t,n=e[0].toLowerCase(),r={red:&quot;e61919&quot;,orange:&quot;e68019&quot;,yellow:&quot;e5e619&quot;,lime:&quot;80e619&quot;,green:&quot;19e619&quot;,cyan:&quot;19e5e6&quot;,aqua:&quot;19e5e6&quot;,blue:&quot;197fe6&quot;,navy:&quot;1919e6&quot;,purple:&quot;7f19e6&quot;,fuchsia:&quot;e619e5&quot;,magenta:&quot;e619e5&quot;,white:&quot;fff&quot;,black:&quot;000&quot;,gray:&quot;888&quot;,grey:&quot;888&quot;};return t=Object.hasOwnProperty.call(r,n)?&quot;#&quot;+r[n]:n,{colour:t}}},number:{fn:function(e){return{value:parseFloat(e[0])}}},addition:{fn:o},subtraction:{fn:o},multiplication:{fn:o},division:{fn:o},inequality:{fn:function(e){return{operator:e[2],negate:e[1].indexOf(&quot;not&quot;)&gt;-1}}},augmentedAssign:{fn:function(e){return{operator:e[0][0]}}},identifier:{fn:t(&quot;name&quot;),cannotFollow:[&quot;text&quot;]},whitespace:{fn:o,cannotFollow:&quot;text&quot;},incorrectOperator:{fn:function(e){var t={&quot;=&gt;&quot;:&quot;&gt;=&quot;,&quot;=&lt;&quot;:&quot;&lt;=&quot;,gte:&quot;&gt;=&quot;,lte:&quot;&lt;=&quot;,gt:&quot;&gt;&quot;,lt:&quot;&lt;&quot;,eq:&quot;is&quot;,isnot:&quot;is not&quot;,neq:&quot;is not&quot;,are:&quot;is&quot;,x:&quot;*&quot;}[e[0].toLowerCase()];return{type:&quot;error&quot;,message:&quot;Please say &quot;+(t?&quot;'&quot;+t+&quot;'&quot;:&quot;something else&quot;)+&quot; instead of '&quot;+e[0]+&quot;'.&quot;}},cannotFollow:&quot;text&quot;}},[&quot;boolean&quot;,&quot;is&quot;,&quot;to&quot;,&quot;into&quot;,&quot;where&quot;,&quot;via&quot;,&quot;with&quot;,&quot;making&quot;,&quot;each&quot;,&quot;and&quot;,&quot;or&quot;,&quot;not&quot;,&quot;isNot&quot;,&quot;contains&quot;,&quot;isIn&quot;].reduce(function(e,t){return e[t]={fn:o,cannotFollow:[&quot;text&quot;]},e},{}),[&quot;comma&quot;,&quot;spread&quot;,&quot;addition&quot;,&quot;subtraction&quot;,&quot;multiplication&quot;,&quot;division&quot;].reduce(function(e,t){return e[t]={fn:o},e},{})));a.push.apply(a,_toConsumableArray(Object.keys(u)).concat(_toConsumableArray(Object.keys(l)),_toConsumableArray(Object.keys(c)))),s.push.apply(s,_toConsumableArray(Object.keys(l)).concat(_toConsumableArray(Object.keys(f))));var p=Object.assign({},u,c,l,f);return Object.keys(p).forEach(function(e){var t=n[e];p[e].pattern=&quot;string&quot;!=typeof t?t:new RegExp(&quot;^(?:&quot;+t+&quot;)&quot;,&quot;i&quot;),n[e+&quot;Peek&quot;]&amp;&amp;(p[e].peek=n[e+&quot;Peek&quot;])}),Object.assign(e.rules,p),e.modes.start=e.modes.markup=a,e.modes.macro=s,e}function t(t){return Object.freeze({lex:e(t).lex,Patterns:n})}var n=void 0;Object.assign=Object.assign||function(e){for(var t=1;t&lt;arguments.length;t++){var n=arguments[t];for(var r in n)Object.hasOwnProperty.call(n,r)&amp;&amp;(e[r]=n[r])}return e},&quot;object&quot;===(&quot;undefined&quot;==typeof module?&quot;undefined&quot;:_typeof(module))?(n=require(&quot;./patterns&quot;),module.exports=t(require(&quot;./lexer&quot;))):&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;markup&quot;,[&quot;lexer&quot;,&quot;patterns&quot;],function(e,r){return n=r,t(e)}):this&amp;&amp;this.loaded&amp;&amp;this.modules?(n=this.modules.Patterns,this.modules.Markup=t(this.modules.Lexer)):(n=this.Patterns,this.TwineMarkup=t(this.TwineLexer))}.call(eval(&quot;this&quot;)||(&quot;undefined&quot;!=typeof global?global:window)),define(&quot;utils/selectors&quot;,[],function(){return Object.freeze({passage:&quot;tw-passage&quot;,story:&quot;tw-story&quot;,sidebar:&quot;tw-sidebar&quot;,internalLink:&quot;tw-link&quot;,brokenLink:&quot;tw-broken-link&quot;,hook:&quot;tw-hook&quot;,enchantment:&quot;tw-enchantment&quot;,expression:&quot;tw-expression&quot;,script:&quot;[role=script]&quot;,stylesheet:&quot;[role=stylesheet]&quot;,storyData:&quot;tw-storydata&quot;,passageData:&quot;tw-passagedata&quot;,collapsed:&quot;tw-collapsed&quot;})}),define(&quot;utils/polyfills&quot;,[],function(){var e=Array.prototype;&quot;function&quot;!=typeof e.includes&amp;&amp;(e.includes=function(t){var n=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:0;if(!Number.isNaN(t)&amp;&amp;Number.isFinite(n)&amp;&amp;&quot;undefined&quot;!=typeof t)return e.indexOf.call(this,t,n)&gt;-1;var r=Object(this),i=parseInt(r.length);if(0&gt;=i)return!1;for(var o=n&gt;=0?n:Math.max(0,i+n);i&gt;o;){if(Object.is(t,r[o]))return!0;o+=1}return!1})}),define(&quot;utils&quot;,[&quot;jquery&quot;,&quot;markup&quot;,&quot;utils/selectors&quot;,&quot;utils/polyfills&quot;],function(e,t,n){function r(t,n){var r=o[n];if(!r[t]){var i=e(&quot;&lt;p&gt;&quot;).appendTo(document.body).attr(&quot;data-t8n&quot;,t).addClass(n);r[t]=c.cssTimeUnit(i.css(&quot;animation-duration&quot;))+c.cssTimeUnit(i.css(&quot;animation-delay&quot;)),i.remove()}return r[t]}var i={configurable:0,writable:0},o={&quot;transition-in&quot;:Object.create(null),&quot;transition-out&quot;:Object.create(null)},a=&quot;audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align,tw-story,tw-passage&quot;.split(&quot;,&quot;),s=&quot;a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error&quot;.split(&quot;,&quot;),u=[&quot;audio&quot;],c=void 0,l=void 0;return c={lockProperty:function(e,t,n){var r=Object.create(i);return n&amp;&amp;(r.value=n),Object.defineProperty(e,t,r),e},toJSLiteral:function(e){return e instanceof Map?&quot;(new Map(&quot;+c.toJSLiteral([].concat(_toConsumableArray(e.entries())))+&quot;))&quot;:e instanceof Set?&quot;(new Set(&quot;+c.toJSLiteral([].concat(_toConsumableArray(e.values())))+&quot;))&quot;:JSON.stringify(e)},cssTimeUnit:function(e){return e=e.toLowerCase(),&quot;ms&quot;===e.slice(-2)?+e.slice(0,-2)||0:&quot;s&quot;===e.slice(-1)?1e3*+e.slice(0,-1)||0:0},nth:function(e){var t=(+e+&quot;&quot;).slice(-1);return e+(&quot;1&quot;===t?&quot;st&quot;:&quot;2&quot;===t?&quot;nd&quot;:&quot;3&quot;===t?&quot;rd&quot;:&quot;th&quot;)},plural:function(e,t){return e+&quot; &quot;+t+(e&gt;1?&quot;s&quot;:&quot;&quot;)},andList:function(e){return 1===e.length?e[0]:e.slice(0,-1).join(&quot;, &quot;)+&quot; and &quot;+e[e.length-1]},realWhitespace:&quot;[ \\n\\r\\f\\t\\v\\u00a0\\u2000-\\u200a\\u2028\\u2029\\u202f\\u205f\\u3000]&quot;,anyRealLetter:&quot;[\\dA-Za-z\\u00c0-\\u00de\\u00df-\\u00ff\\u0150\\u0170\\u0151\\u0171\\uD800-\\uDFFF]&quot;,unescape:function(e){return e.replace(/&amp;(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{&quot;&amp;amp;&quot;:&quot;&amp;&quot;,&quot;&amp;gt;&quot;:&quot;&gt;&quot;,&quot;&amp;lt;&quot;:&quot;&lt;&quot;,&quot;&amp;quot;&quot;:'&quot;',&quot;&amp;#39;&quot;:&quot;'&quot;,&quot;&amp;nbsp;&quot;:String.fromCharCode(160),&quot;&amp;zwnj;&quot;:String.fromCharCode(8204)}[e]})},escape:function(e){return e.replace(/[&amp;&gt;&lt;&quot;']/g,function(e){return{&quot;&amp;&quot;:&quot;&amp;amp;&quot;,&quot;&gt;&quot;:&quot;&amp;gt;&quot;,&quot;&lt;&quot;:&quot;&amp;lt;&quot;,'&quot;':&quot;&amp;quot;&quot;,&quot;'&quot;:&quot;&amp;#39;&quot;}[e]})},insensitiveName:function(e){return(e+&quot;&quot;).toLowerCase().replace(/-|_/g,&quot;&quot;)},childrenProbablyInline:function(e){var t=[];return Array.prototype.every.call(e.find(&quot;*&quot;),function(e){return e.hidden||/none|inline/.test(e.style.display)?!0:a.includes(e.tagName.toLowerCase())||/none|inline/.test(e.style.display)?!1:s.includes(e.tagName.toLowerCase())?!0:(t.push(e),!0)})&amp;&amp;t.every(function(e){return/none|inline/.test(e.style.display)})},transitionReplace:function(t,r,i){var o=t.closest(n.hook);o.length&gt;0&amp;&amp;(t=o);var a=e(&quot;&lt;tw-transition-container&gt;&quot;).css(&quot;position&quot;,&quot;relative&quot;);a.insertBefore(t.first());var s=void 0;r&amp;&amp;(s=e(&quot;&lt;tw-transition-container&gt;&quot;).appendTo(a),r.appendTo(s));var u=e(&quot;&lt;tw-transition-container&gt;&quot;).css(&quot;position&quot;,&quot;absolute&quot;).prependTo(a);t.detach().appendTo(u),c.transitionOut(u,i),r&amp;&amp;c.transitionIn(s,i,function(){s.unwrap().children().first().unwrap()})},transitionOut:function(e,t,n){function i(){e.remove()}var o=c.childrenProbablyInline(e),a=e.length&gt;1||!o||![&quot;tw-hook&quot;,&quot;tw-passage&quot;].includes(e.tag());a&amp;&amp;(e=e.wrapAll(&quot;&lt;tw-transition-container&gt;&quot;).parent()),e.attr(&quot;data-t8n&quot;,t).addClass(&quot;transition-out&quot;),c.childrenProbablyInline(e)&amp;&amp;e.css(&quot;display&quot;,&quot;inline-block&quot;),&quot;number&quot;==typeof n&amp;&amp;e.css(&quot;animation-duration&quot;,n+&quot;ms&quot;);var s=n||r(t,&quot;transition-out&quot;);s?window.setTimeout(i,s):i()},transitionIn:function(e,t,n){function i(){var t=0===e.findAndFilter(u.join(&quot;,&quot;)).length;a&amp;&amp;t?e.contents().unwrap():e.removeClass(&quot;transition-in&quot;).removeAttr(&quot;data-t8n&quot;)}var o=c.childrenProbablyInline(e),a=e.length&gt;1||!o||![&quot;tw-hook&quot;,&quot;tw-passage&quot;].includes(e.tag());a&amp;&amp;(e=e.wrapAll(&quot;&lt;tw-transition-container&gt;&quot;).parent()),e.attr(&quot;data-t8n&quot;,t).addClass(&quot;transition-in&quot;),&quot;number&quot;==typeof n&amp;&amp;e.css(&quot;animation-duration&quot;,n+&quot;ms&quot;),c.childrenProbablyInline(e)&amp;&amp;e.css(&quot;display&quot;,&quot;inline-block&quot;);var s=n||r(t,&quot;transition-in&quot;);s?window.setTimeout(i,s):i()},$:function(t,n){return e(t,n||c.storyElement).not(&quot;.transition-out, .transition-out *&quot;)},impossible:function(e,t){window.console&amp;&amp;console.error(e+&quot;(): &quot;+t)},assertMustHave:function(e,t){if(window.console)for(var n=0;n&lt;t.length;n+=1)t[n]in e||console.error(&quot;Assertion failed: object lacks property &quot;+t[n])},assertOnlyHas:function(e,t){if(window.console)for(var n in e)t.includes(n)||console.error(&quot;Assertion failed: object had unexpected property '&quot;+n+&quot;'!&quot;)},get storyElement(){return l}},e(function(){return l=e(n.story)}),Object.freeze(c)}),define(&quot;passages&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;],function(e,t,n){function r(e){return Object.assign(new Map([[&quot;source&quot;,i(e.html())],[&quot;tags&quot;,(e.attr(&quot;tags&quot;)||&quot;&quot;).split(/\s/)||[]],[&quot;name&quot;,e.attr(&quot;name&quot;)]]),{TwineScript_TypeName:&quot;passage datamap&quot;,TwineScript_ObjectName:&quot;a passage datamap&quot;})}var i=t.unescape,o=Object.assign(new Map,{TwineScript_ObjectName:&quot;the Passages datamap&quot;,getTagged:function(e){var t=[];return this.forEach(function(n){var r=n instanceof Map&amp;&amp;n.get(&quot;tags&quot;);Array.isArray(r)&amp;&amp;r.includes(e)&amp;&amp;t.push(n)}),t.sort(function(e,t){return e.get(&quot;name&quot;)&gt;t.get(&quot;name&quot;)})},create:r});return e(function(){Array.from(e(n.storyData+&quot; &gt; &quot;+n.passageData)).forEach(function(t){t=e(t),o.set(t.attr(&quot;name&quot;),new r(t))})}),o}),define(&quot;datatypes/hookset&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;markup&quot;],function(e,t,n,r){function i(e,t,n){var r=e.textContent.length;if(!(t&gt;=r)){var i=void 0,o=[i=0===t?e:e.splitText(t)];return n&amp;&amp;(0&gt;=n&amp;&amp;(n=r-n),r&gt;n&amp;&amp;o.push(i.splitText(n-t))),o}}function o(e,t){var n=[],r=&quot;&quot;,a=[];if(!e.length||!t)return a;for(;e.length&gt;0;){n.push(e[0]),r+=e[0].textContent,e.shift();var s=r.indexOf(t);if(s&gt;-1){for(var u,c=r.length-(s+t.length);s&gt;=n[0].textContent.length;)s-=n[0].textContent.length,n.shift();if(1===n.length){var l=i(n[0],s,s+t.length);a.push(l[0]),l[1]&amp;&amp;e.unshift(l[1]);break}a.push(i(n[0],s,n[0].length)[0]),(u=a).push.apply(u,_toConsumableArray(n.slice(1,-1)));var f=i(n[n.length-1],0,n[n.length-1].textContent.length-c);a.push(f[0]),f[1]&amp;&amp;e.unshift(f[1]),a=a.filter(Boolean);break}}return[a].concat(_toConsumableArray(o(e,t)))}function a(t,n,r){var i=o(n.textNodes(),t),a=e();return i.forEach(function(t){a=a.add(e(t).wrapAll(r))}),a.parent()}function s(e){e=t.insensitiveName(e).replace(/\?/g,&quot;&quot;).replace(/&quot;/g,&quot;&amp;quot;&quot;);var r=n.hook+'[name=&quot;'+e+'&quot;]';return r+={page:&quot;, tw-story&quot;,passage:&quot;, tw-passage&quot;,sidebar:&quot;, tw-sidebar&quot;,link:&quot;, tw-link, .enchantment-link&quot;}[e]||&quot;&quot;}function u(n){var r=n.dom,i=e();this.prev&amp;&amp;(i=i.add(u.call(this.prev,{dom:r})));var o=function(t,n){return Array.isArray(n)?n.reduce(function(e,n){return e.add(t.get(n))},e()):e(t.get(n))};if(this.selector){var c=void 0;c=this.selector.match(&quot;^&quot;+f.hookRef+&quot;$&quot;)?r.add(r.parentsUntil(t.storyElement.parent())).findAndFilter(s(this.selector)):a(this.selector,r,&quot;&lt;tw-pseudo-hook&gt;&quot;),i=i.add(this.properties.length?this.properties.reduce(o,c):c)}return this.base&amp;&amp;(i=i.add(this.properties.reduce(o,u.call(this.base,{dom:r})))),i}function c(e){var n=e.dom;t.$(&quot;tw-pseudo-hook&quot;,n).contents().unwrap().parent().each(function(){this.normalize()})}function l(e){if(!e)return[];var n=e.selector,r=e.base,i=e.properties,o=e.prev;return[JSON.stringify([t.insensitiveName(n)||&quot;&quot;,l(r),[].concat(_toConsumableArray(i)).sort()])].concat(_toConsumableArray(l(o))).sort()}var f=r.Patterns,p=Object.freeze({forEach:function(t,n){var r=u.call(this,t).each(function(t){n(e(this),t)});return c.call(this,t),r},get TwineScript_ObjectName(){return this.properties.length&gt;0||this.prev?&quot;a complex hook name&quot;:this.selector+&quot; (a hook name)&quot;},TwineScript_TypeName:&quot;a hook name (like ?this)&quot;,TwineScript_Unstorable:!0,&quot;TwineScript_+&quot;:function(e){var t=e.TwineScript_Clone();return t.prev=this,t},TwineScript_is:function(e){return l(this)+&quot;&quot;==l(e)+&quot;&quot;},TwineScript_GetElement:function(e){return p.create(void 0,this,[e],void 0)},TwineScript_Clone:function(){return p.create(this.selector,this.base,this.properties,this.prev)},create:function(e,t){var n=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:[],r=arguments.length&gt;3&amp;&amp;void 0!==arguments[3]?arguments[3]:void 0;return Object.assign(Object.create(this||p),{selector:e,base:t,properties:n,prev:r})},from:function(e){return p.isPrototypeOf(e)?e:p.create(e)}});return p}),define(&quot;internaltypes/twineerror&quot;,[&quot;jquery&quot;,&quot;utils&quot;],function(e,t){var n=t.impossible,r=t.escape,i={syntax:&quot;The markup seems to contain a mistake.&quot;,saving:&quot;I tried to save or load the game, but I couldn't do it.&quot;,operation:&quot;I tried to perform an operation on some data, but the data's type was incorrect.&quot;,macrocall:&quot;I tried to use a macro, but its call wasn't written correctly.&quot;,datatype:&quot;I tried to use a macro, but was given the wrong type of data to it.&quot;,keyword:&quot;I was given a keyword in a way that I didn't understand.&quot;,infinite:&quot;I almost ended up doing the same thing over and over, forever.&quot;,property:&quot;I tried to access a value in a string/array/datamap, but I couldn't find it.&quot;,unimplemented:&quot;I currently don't have this particular feature. I'm sorry.&quot;,javascript:&quot;This error message was reported by your browser's Javascript engine. I don't understand it either, but it usually means that an expression was badly written.&quot;},o={create:function(e,t,r){return t||n(&quot;TwineError.create&quot;,&quot;called with only 1 string.&quot;),r||e in i||n(&quot;TwineError.create&quot;,&quot;no error explanation given&quot;),Object.assign(Object.create(this),{type:e,message:t,explanation:r})},fromError:function(e){return o.create(&quot;javascript&quot;,&quot;\u2615 &quot;+e.message)},containsError:function(){for(var e=arguments.length,t=Array(e),n=0;e&gt;n;n++)t[n]=arguments[n];return t.reduce(function(e,t){return e?e:t instanceof Error?t:o.isPrototypeOf(t)?t:Array.isArray(t)?o.containsError.apply(o,_toConsumableArray(t)):!1},!1)},createWarning:function(e,t){return Object.assign(this.create(e,t),{warning:!0})},render:function(t){t=t||&quot;&quot;;var n=e(&quot;&lt;tw-error class='&quot;+(&quot;javascript&quot;===this.type?&quot;javascript &quot;:&quot;&quot;)+(this.warning?&quot;warning&quot;:&quot;error&quot;)+&quot;' title='&quot;+r(t)+&quot;'&gt;&quot;+r(this.message)+&quot;&lt;/tw-error&gt;&quot;),o=e(&quot;&lt;tw-error-explanation&gt;&quot;).text(this.explanation||i[this.type]).hide(),a=e(&quot;&lt;tw-error-explanation-button tabindex=0&gt;&quot;).html(&quot;&lt;span class='folddown-arrowhead'&gt;&amp;#9658;&lt;/span&gt;&quot;);return a.on(&quot;click&quot;,function(){o.toggle(),a.children(&quot;.folddown-arrowhead&quot;).css(&quot;transform&quot;,&quot;rotate(&quot;+(o.is(&quot;:visible&quot;)?&quot;90deg&quot;:&quot;0deg&quot;)+&quot;)&quot;)}),n.append(a).append(o),n}};return o}),define(&quot;utils/operationutils&quot;,[&quot;utils&quot;,&quot;datatypes/hookset&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n){function r(e){return!!e&amp;&amp;(&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))||&quot;function&quot;==typeof e)}function i(e){return Array.isArray(e)?&quot;array&quot;:e instanceof Map?&quot;datamap&quot;:e instanceof Set?&quot;dataset&quot;:&quot;string&quot;==typeof e?&quot;string&quot;:e&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))?&quot;object&quot;:&quot;&quot;}function o(e,t){if(e instanceof Map||g(&quot;isValidDatamapName&quot;,&quot;called with non-Map&quot;),&quot;string&quot;!=typeof t&amp;&amp;&quot;number&quot;!=typeof t)return n.create(&quot;property&quot;,&quot;Only strings and numbers can be used as data names for &quot;+l(e)+&quot;, not &quot;+l(t)+&quot;.&quot;);var r=&quot;string&quot;==typeof t?+t:&quot;&quot;+t;return!Number.isNaN(r)&amp;&amp;e.has(r)?n.create(&quot;property&quot;,&quot;You mustn't use both &quot;+l(t)+&quot; and &quot;+l(r)+&quot; as data names in the same datamap.&quot;):!0}function a(e,t){if(null===t)return void 0===e;if(t.innerType){if(&quot;optional&quot;===t.pattern||&quot;zero or more&quot;===t.pattern)return void 0===e?!0:a(e,t.innerType);if(&quot;either&quot;===t.pattern)return t.innerType.some(function(t){return a(e,t)});if(&quot;lambda&quot;===t.pattern&amp;&amp;a(e,t.innerType))return&quot;string&quot;!=typeof t.clauses&amp;&amp;g(&quot;singleTypeCheck&quot;,&quot;lambda signature had non-string clauses&quot;),t.clauses.includes(&quot;where&quot;)===&quot;where&quot;in e&amp;&amp;t.clauses.includes(&quot;making&quot;)===&quot;making&quot;in e&amp;&amp;t.clauses.includes(&quot;via&quot;)===&quot;via&quot;in e&amp;&amp;t.clauses.includes(&quot;with&quot;)===&quot;with&quot;in e;if(&quot;wrapped&quot;===t.pattern)return a(e,t.innerType)}return void 0!==t&amp;&amp;void 0===e?!1:&quot;anything&quot;!==t.TwineScript_TypeName||void 0===e||e.TwineScript_Unstorable?t===String?&quot;string&quot;==typeof e:t===Boolean?&quot;boolean&quot;==typeof e:t===parseInt?&quot;number&quot;==typeof e&amp;&amp;!Number.isNaN(e)&amp;&amp;!(e+&quot;&quot;).includes(&quot;.&quot;):t===Number?&quot;number&quot;==typeof e&amp;&amp;!Number.isNaN(e):t===Array?Array.isArray(e):t===Map||t===Set?e instanceof t:Object.isPrototypeOf.call(t,e):!0}function s(e){return&quot;string&quot;==typeof e||Array.isArray(e)||t.isPrototypeOf(e)}function u(e){if(!r(e))return e;if(&quot;function&quot;==typeof e.TwineScript_Clone)return e.TwineScript_Clone();if(Array.isArray(e))return[].concat(_toConsumableArray(e));if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(&quot;function&quot;==typeof e)return Object.assign(e.bind(),e);switch(Object.getPrototypeOf(e)){case Object.prototype:return Object.assign({},e);case null:return Object.assign(Object.create(null),e)}return g(&quot;OperationUtils.clone&quot;,&quot;The value &quot;+(e.toSource?e.toSource():e)+&quot; cannot be cloned!&quot;),e}function c(e,t,n){return&quot;string&quot;==typeof t&amp;&amp;r(n)&amp;&amp;&quot;TwineScript_ToString&quot;in n?e(t,n.TwineScript_ToString()):&quot;string&quot;==typeof n&amp;&amp;r(t)&amp;&amp;&quot;TwineScript_ToString&quot;in t?e(t.TwineScript_ToString(),n):!1}function l(e){return r(e)&amp;&amp;&quot;TwineScript_ObjectName&quot;in e?e.TwineScript_ObjectName:Array.isArray(e)?&quot;an array&quot;:e instanceof Map?&quot;a datamap&quot;:e instanceof Set?&quot;a dataset&quot;:&quot;boolean&quot;==typeof e?&quot;the boolean value '&quot;+e+&quot;'&quot;:&quot;string&quot;==typeof e||&quot;number&quot;==typeof e?&quot;the &quot;+(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))+&quot; &quot;+y(e):void 0===e?&quot;an empty variable&quot;:&quot;...whatever this is&quot;}function f(e){return e.innerType?&quot;either&quot;===e.pattern?(Array.isArray(e.innerType)||g(&quot;typeName&quot;,'&quot;either&quot; pattern had non-array inner type'),e.innerType.map(f).join(&quot; or &quot;)):&quot;optional&quot;===e.pattern?&quot;(an optional) &quot;+f(e.innerType):f(e.innerType):e===String||e===Number||e===Boolean?&quot;a &quot;+_typeof(e()):e===parseInt?&quot;a non-fractional number&quot;:e===Map?&quot;a datamap&quot;:e===Set?&quot;a dataset&quot;:e===Array?&quot;an array&quot;:r(e)&amp;&amp;&quot;TwineScript_TypeName&quot;in e?e.TwineScript_TypeName:l(e)}function p(e,t){return&quot;object&quot;!==(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))&amp;&amp;&quot;object&quot;!==(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))?e===t:Array.isArray(e)&amp;&amp;Array.isArray(t)?e.length!==t.length?!1:e.every(function(e,n){return p(t[n],e)}):e instanceof Map&amp;&amp;t instanceof Map?p(Array.from(e.entries()).sort(),Array.from(t.entries()).sort()):e instanceof Set&amp;&amp;t instanceof Set?p([].concat(_toConsumableArray(e)),[].concat(_toConsumableArray(t))):e&amp;&amp;&quot;function&quot;==typeof e.TwineScript_is?e.TwineScript_is(t):e&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))&amp;&amp;t&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))&amp;&amp;Object.getPrototypeOf(e)===Object.prototype&amp;&amp;Object.getPrototypeOf(t)===Object.prototype?p(Object.getOwnPropertyNames(e).map(function(t){return[t,e[t]]}),Object.getOwnPropertyNames(t).map(function(e){return[e,t[e]]})):Object.is(e,t)}function d(e,t){if(e){if(&quot;string&quot;==typeof e)return e.includes(t);if(Array.isArray(e))return e.some(function(e){return p(e,t)});if(e instanceof Set||e instanceof Map)return Array.from(e.keys()).some(function(e){return p(e,t)})}return n.create(&quot;operation&quot;,l(e)+&quot; cannot contain any values, let alone &quot;+l(t))}function h(e,t,r){if(!t||!r)return n.create(&quot;macrocall&quot;,&quot;The sub&quot;+i(e)+&quot; index values must not be 0 or NaN.&quot;);if(0&gt;t&amp;&amp;(t=e.length+t+1),0&gt;r&amp;&amp;(r=e.length+r+1),t&gt;r)return h(e,r,t);var o=&quot;string&quot;==typeof e;o&amp;&amp;(e=Array.from(e));var a=e.slice(t&gt;0?t-1:t,r).map(u);return o?a.join(&quot;&quot;):a}function m(e){return n.containsError(e)?e:e&amp;&amp;&quot;function&quot;==typeof e.TwineScript_Print?e.TwineScript_Print():e instanceof Map?(e=Array.from(e.entries()),n.containsError(e)?e:e.reduce(function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return e+&quot;&lt;tr&gt;&lt;td&gt;`&quot;+m(r)+&quot;`&lt;/td&gt;&lt;td&gt;`&quot;+m(i)+&quot;`&lt;/td&gt;&lt;/tr&gt;&quot;},&quot;&lt;table class=datamap&gt;&quot;)+&quot;&lt;/table&gt;&quot;):e instanceof Set?Array.from(e.values()).map(m)+&quot;&quot;:Array.isArray(e)?e.map(m)+&quot;&quot;:r(e)?n.create(&quot;unimplemented&quot;,&quot;I don't know how to print this value yet.&quot;):e+&quot;&quot;}var g=e.impossible,y=e.toJSLiteral,v=Object.freeze({isObject:r,singleTypeCheck:a,isValidDatamapName:o,collectionType:i,isSequential:s,clone:u,coerceToString:c,objectName:l,typeName:f,is:p,contains:d,subset:h,printBuiltinValue:m,numericIndex:/^(?:[1-9]\d*|0)$/,unique:function(e,t,n){return!n.slice(t+1).some(function(t){return p(e,t)})}});return v}),define(&quot;datatypes/changercommand&quot;,[&quot;utils&quot;,&quot;utils/operationutils&quot;],function(e,t){var n=e.impossible,r=t.is,i={},o={changer:!0,TwineScript_TypeName:&quot;a changer command&quot;,TwineScript_Print:function(){return&quot;`[A '&quot;+this.macroName+&quot;' command]`&quot;},create:function(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:[],r=arguments.length&gt;2&amp;&amp;void 0!==arguments[2]?arguments[2]:null;return Array.isArray(t)||n(&quot;ChangerCommand.create&quot;,&quot;params was not an array&quot;),Object.assign(Object.create(this),{macroName:e,params:t,next:r,TwineScript_ObjectName:&quot;a (&quot;+e+&quot;:) command&quot;})},&quot;TwineScript_+&quot;:function(e){for(var t=this.TwineScript_Clone(),n=t;n.next;)n=n.next;return n.next=e,t},TwineScript_is:function(e){return o.isPrototypeOf(e)?this.macroName===e.macroName&amp;&amp;r(this.params,e.params)&amp;&amp;r(this.next,e.next):void 0},TwineScript_Clone:function(){return this.create(this.macroName,this.params,this.next)},run:function(e){i[this.macroName].apply(i,[e].concat(_toConsumableArray(this.params))),this.next&amp;&amp;this.next.run(e)},register:function(e,t){i[e]=t}};return Object.freeze(o)}),define(&quot;state&quot;,[&quot;utils&quot;,&quot;passages&quot;,&quot;datatypes/changercommand&quot;,&quot;internaltypes/twineerror&quot;,&quot;utils/operationutils&quot;],function(e,t,n,r,i){function o(e){p=(l[f]||c).create(e)}var a=e.impossible,s=i.objectName,u={TwineScript_ObjectName:&quot;this story's variables&quot;,TwineScript_VariableStore:!0},c={passage:&quot;&quot;,variables:u,create:function(e,t){var n=Object.create(c);return n.passage=e||&quot;&quot;,n.variables=Object.assign(Object.create(this.variables),t),n}},l=[],f=-1,p=c.create(),d=void 0,h={forward:[],back:[],load:[]},m=Object.assign({get passage(){return p.passage},get variables(){return p.variables},get pastLength(){return f},get futureLength(){return l.length-1-f},passageNameVisited:function(e){var n=0;if(!t.get(e))return 0;for(var r=0;f&gt;=r;r++)n+=+(e===l[r].passage);return n},passageNameLastVisited:function(e){if(!t.get(e))return 1/0;if(e===p.passage)return 0;for(var n=f;n&gt;0;n--)if(l[n].passage===e)return f-n+1;return 1/0},pastPassageNames:function(){for(var e=[],t=f-1;t&gt;=0;t--)e.unshift(l[t].passage);return e},play:function(e){p||a(&quot;State.play&quot;,&quot;present is undefined!&quot;),p.passage=e,l=l.slice(0,f+1).concat(p),f+=1,o(e),h.forward.forEach(function(t){return t(e)})},rewind:function(e){var t=1,n=!1;if(e)if(&quot;string&quot;==typeof e){if(t=this.passageNameLastVisited(e),t===1/0)return}else&quot;number&quot;==typeof e&amp;&amp;(t=e);for(;t&gt;0&amp;&amp;f&gt;0;t--)n=!0,f-=1;return n&amp;&amp;(o(l[f].passage),h.back.forEach(function(e){return e()})),n},fastForward:function(e){var t=1,n=!1;for(&quot;number&quot;==typeof e&amp;&amp;(t=e);t&gt;0&amp;&amp;l.length&gt;0;t--)n=!0,f+=1;return n&amp;&amp;(o(l[f].passage),h.forward.forEach(function(e){return e(l[f].passage,&quot;fastForward&quot;)})),n},on:function(e,t){return e in h?(&quot;function&quot;!=typeof t||h[e].includes(t)||h[e].push(t),m):void a(&quot;State.on&quot;,&quot;invalid event name&quot;)},reset:function(){window.jasmine&amp;&amp;(l=[],f=-1,p=c.create(),d=void 0,h.load.forEach(function(e){return e(l)}))}},function(){function e(t){return&quot;number&quot;==typeof t||&quot;boolean&quot;==typeof t||&quot;string&quot;==typeof t||null===t||Array.isArray(t)&amp;&amp;t.every(e)||t instanceof Set&amp;&amp;Array.from(t).every(e)||t instanceof Map&amp;&amp;Array.from(t.values()).every(e)||n.isPrototypeOf(t)}function t(e,t){return t instanceof Set?{&quot;(dataset:)&quot;:Array.from(t)}:t instanceof Map?{&quot;(datamap:)&quot;:Array.from(t)}:n.isPrototypeOf(t)?{changer:{name:t.macroName,params:t.params,next:t.next}}:t}function i(e,t){if(t&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))){if(Array.isArray(t[&quot;(dataset:)&quot;]))return new Set(t[&quot;(dataset:)&quot;]);if(Array.isArray(t[&quot;(datamap:)&quot;]))return new Map(t[&quot;(datamap:)&quot;]);if(t.changer&amp;&amp;&quot;object&quot;===_typeof(t.changer)){var r=t.changer,i=r.name,o=r.params,a=r.next;return n.create(i,o,a)}}return t}function a(){var n=l.slice(0,f+1),i=n.map(function(t){return Object.keys(t.variables).filter(function(n){return t.variables[n]&amp;&amp;!e(t.variables[n])}).map(function(e){return[e,t.variables[e]]})});if(d||(d=i.reduce(function(e,t,n){var r=_slicedToArray(t,2),i=r[0],o=r[1];return e||i&amp;&amp;[i,o,n+1]},void 0)),d){var o=d,a=_slicedToArray(o,3),u=a[0],c=a[1],p=a[2];return r.create(&quot;saving&quot;,&quot;The variable $&quot;+u+&quot; holds &quot;+s(c)+&quot; (which is, or contains, a complex data value) on turn &quot;+p+&quot;; the game can no longer be saved.&quot;)}try{return JSON.stringify(n,t)}catch(e){return!1}}function p(e){var t=void 0,n=u;try{t=JSON.parse(e,i)}catch(e){return!1}return Array.isArray(t)?(t=t.map(function(e){return&quot;object&quot;===(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))&amp;&amp;e.hasOwnProperty(&quot;passage&quot;)&amp;&amp;e.hasOwnProperty(&quot;variables&quot;)?(e.variables=Object.assign(Object.create(n),e.variables),n=e.variables,Object.assign(Object.create(c),e)):!1})).includes(!1)?!1:(l=t,h.load.forEach(function(e){return e(l)}),f=l.length-1,void o(l[f].passage)):!1}return{serialise:a,deserialise:p}}());return Object.seal(c),Object.freeze(m)}),define(&quot;datatypes/colour&quot;,[&quot;jquery&quot;],function(e){function t(t){if(t in s)return s[t];var n=e(&quot;&lt;p&gt;&quot;).css(&quot;background-color&quot;,t).css(&quot;background-color&quot;);return n=n.startsWith(&quot;rgb&quot;)?n.match(/\d+/g).reduce(function(e,t,n){return e[&quot;rgb&quot;[n]]=+t,e},{}):{r:192,g:192,b:192},s[t]=n,n}function n(e){return&quot;string&quot;!=typeof e?e:(e=e.replace(&quot;#&quot;,&quot;&quot;),e=e.replace(o,&quot;$1$1$2$2$3$3&quot;),{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16)})}function r(e){var t=e.r,n=e.g,r=e.b,i=e.a;t/=255,n/=255,r/=255;var o=Math.max(t,n,r),a=Math.min(t,n,r),s=(o+a)/2,u=o-a;if(o===a)return{h:0,s:0,l:s};var c=void 0;switch(o){case t:c=(n-r)/u+(r&gt;n?6:0);break;case n:c=(r-t)/u+2;break;case r:c=(t-n)/u+4}c=Math.round(60*c);var l=s&gt;.5?u/(2-o-a):u/(o+a);return{h:c,s:l,l:s,a:i}}function i(e){function t(e){return 0&gt;e&amp;&amp;(e+=1),e&gt;1&amp;&amp;(e-=1),1/6&gt;e?u+6*(s-u)*e:.5&gt;e?s:2/3&gt;e?u+(s-u)*(2/3-e)*6:u}var n=e.h,r=e.s,i=e.l,o=e.a;if(0===r){var a=Math.floor(255*i);return{r:a,g:a,b:a}}n/=360;var s=.5&gt;i?i*(1+r):i+r-i*r,u=2*i-s;return{r:Math.floor(255*t(n+1/3)),g:Math.floor(255*t(n)),b:Math.floor(255*t(n-1/3)),a:o}}var o=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,a=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,s=Object.create(null),u=Object.freeze({TwineScript_TypeName:&quot;a colour&quot;,TwineScript_ObjectName:&quot;a colour&quot;,&quot;TwineScript_+&quot;:function(e){var t=this,n=e;return u.create({r:Math.min(Math.round(.6*(t.r+n.r)),255),g:Math.min(Math.round(.6*(t.g+n.g)),255),b:Math.min(Math.round(.6*(t.b+n.b)),255),a:(t.a+n.a)/2})},TwineScript_Print:function(){return&quot;&lt;tw-colour style='background-color:rgba(&quot;+[this.r,this.g,this.b,this.a].join(&quot;,&quot;)+&quot;);'&gt;&lt;/span&gt;&quot;},TwineScript_is:function(e){return u.isPrototypeOf(e)&amp;&amp;e.r===this.r&amp;&amp;e.g===this.g&amp;&amp;e.b===this.b&amp;&amp;e.a===this.a},TwineScript_Clone:function(){return u.create(this)},toRGBAString:function(){return&quot;rgba(&quot;+this.r+&quot;, &quot;+this.g+&quot;, &quot;+this.b+&quot;, &quot;+this.a+&quot;)&quot;},get h(){return r(this).h},get s(){return r(this).s},get l(){return r(this).l},create:function(e){return&quot;string&quot;==typeof e?this.create(u.isHexString(e)?n(e):t(e)):!(&quot;h&quot;in e&amp;&amp;&quot;s&quot;in e&amp;&amp;&quot;l&quot;in e)||&quot;r&quot;in e||&quot;g&quot;in e||&quot;b&quot;in e?(&quot;a&quot;in e&amp;&amp;&quot;number&quot;==typeof e.a||(e.a=1),Object.assign(Object.create(this),e)):this.create(i(e))},isHexString:function(e){return&quot;string&quot;==typeof e&amp;&amp;&quot;#&quot;===e[0]&amp;&amp;(e.slice(1).match(o)||e.slice(1).match(a))},isCSS3Function:function(e){return&quot;string&quot;==typeof e&amp;&amp;/^(?:rgb|hsl)a?\(\s*\d+\s*,\s*\d+%?\s*,\s*\d+%?(?:,\s*\d+(?:\.\d+)?\s*)?\)$/.test(e)}});return u}),define(&quot;internaltypes/varref&quot;,[&quot;state&quot;,&quot;internaltypes/twineerror&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/colour&quot;],function(e,t,n,r,i,o){function a(e,n){var r=void 0;if(e instanceof Map&amp;&amp;(r=t.containsError(j(e,n))))return r;if(w(e)){var o=void 0;if(&quot;number&quot;==typeof n){if(0===n)return t.create(&quot;property&quot;,&quot;You can't access elements at position 0 of &quot;+x(e)+&quot;.&quot;,&quot;Only positive and negative position values exist.&quot;);n&gt;0&amp;&amp;(n-=1)}else if(&quot;string&quot;==typeof n&amp;&amp;(o=/(\d+)(?:st|[nr]d|th)last/i.exec(n)))n=-o[1]+&quot;&quot;;else if(&quot;string&quot;==typeof n&amp;&amp;(o=/(\d+)(?:st|[nr]d|th)/i.exec(n)))n=o[1]-1+&quot;&quot;;else if(&quot;last&quot;===n)n=-1;else if(![&quot;length&quot;,&quot;any&quot;,&quot;all&quot;].includes(n)||i.isPrototypeOf(e))return t.create(&quot;property&quot;,&quot;You can only access position strings/numbers ('4th', 'last', '2ndlast', (2), etc.)&quot;+(i.isPrototypeOf(e)?&quot;&quot;:&quot;, 'length', 'any' and 'all'&quot;)+&quot; of &quot;+x(e)+&quot;, not &quot;+x(n)+&quot;.&quot;)}else if(e instanceof Set){if(![&quot;length&quot;,&quot;any&quot;,&quot;all&quot;].includes(n))return t.create(&quot;property&quot;,&quot;You can only get the 'length', 'any' and 'all' of a &quot;+x(e)+&quot;.&quot;,&quot;To check contained values, use the 'contains' operator.&quot;);&quot;length&quot;===n&amp;&amp;(n=&quot;size&quot;)}else if(&quot;number&quot;==typeof e||&quot;boolean&quot;==typeof e)return t.create(&quot;property&quot;,&quot;You can't get data values from &quot;+x(e)+&quot;.&quot;);return n}function s(e,n){var r=n.reduce(function(r,i,o){i.computed&amp;&amp;(i=i.value),k.isPrototypeOf(i)&amp;&amp;(i=i.get()),i=Array.isArray(i)?i.map(function(t){return a(e,t)}):a(e,i);var s=void 0;return(s=t.containsError(r,i))?s:(o&lt;n.length-1&amp;&amp;(e=g(e,i)),r.push(i),r)},[]);return{compiledPropertyChain:r,deepestObject:e}}function u(e,t){return 0&gt;t-0&amp;&amp;Math.abs(t)&lt;=e.length?e.length+(t-0):t}function c(e,t){var n={any:&quot;'any' value of &quot;,all:&quot;'all' values of &quot;}[t];return{determiner:t,array:[].concat(_toConsumableArray(e)),TwineScript_ObjectName:n+x(e),TwineScript_TypeName:n+&quot;a data structure&quot;,TwineScript_Unstorable:!0,TwineScript_Print:function(){return&quot;`[&quot;+this.TwineScript_TypeName+&quot;]`&quot;}}}function l(e,t){if(void 0===e)return e;if(e instanceof Map)return e.get(t);if(w(e)&amp;&amp;(t=u(e,t)),&quot;any&quot;===t||&quot;all&quot;===t)return c(e,t);if(e.TwineScript_GetElement&amp;&amp;Number.isFinite(+t))return e.TwineScript_GetElement(t);var n=e[t];return&quot;function&quot;!=typeof n?n:void 0}function f(e){return e.computed?&quot;string&quot;==typeof e.value?&quot;('&quot;+e.value+&quot;')&quot;:&quot;(&quot;+e.value+&quot;)&quot;:&quot;'&quot;+e+&quot;'&quot;}function p(e,n){if(Array.isArray(n))return n.map(function(t){return p(e,t)});if(i.isPrototypeOf(e))return t.create(&quot;operation&quot;,&quot;I can't modify &quot;+x(e),&quot;You should alter hooks indirectly using macros like (replace:) or (enchant:).&quot;);if(e instanceof Set)return t.create(&quot;operation&quot;,&quot;I can't modify &quot;+x(e),&quot;You should use an (array:) if you need to modify the data inside this dataset.&quot;);if(o.isPrototypeOf(e))return t.create(&quot;operation&quot;,&quot;I can't modify the components of &quot;+x(e));if(e instanceof Map)return!0;if(w(e)){if([&quot;length&quot;,&quot;any&quot;,&quot;all&quot;].includes(n))return t.create(&quot;operation&quot;,&quot;I can't forcibly alter the '&quot;+n+&quot;' of &quot;+x(e)+&quot;.&quot;);if(+n!==(0|n))return t.create(&quot;property&quot;,x(e)+&quot; can only have position keys ('3rd', '1st', (5), etc.), not &quot;+f(n)+&quot;.&quot;)}return e.TwineScript_Identifiers&amp;&amp;n in e?t.create(&quot;keyword&quot;,&quot;I can't alter the value of the '&quot;+n+&quot;' identifier.&quot;,&quot;You can only alter data in variables and hooks, not fixed identifiers.&quot;):&quot;number&quot;==typeof e||&quot;boolean&quot;==typeof e?t.create(&quot;operation&quot;,&quot;You can't alter the data values of &quot;+x(e)+&quot;.&quot;):!0}function d(e,t,n){var r=t;e instanceof Map?e.set(t,n):(w(e)&amp;&amp;(t=u(e,t)),e.TwineScript_Set?e.TwineScript_Set(t):e[t]=n),A.set.forEach(function(t){return t(e,r,n)})}function h(e,t){var n=t;w(e)&amp;&amp;(t=u(e,t)),Array.isArray(e)&amp;&amp;S.exec(t)?e.splice(t,1):e instanceof Map||e instanceof Set?e.delete(t):delete e[t],A.delete.forEach(function(t){return t(e,n)})}function m(e){function t(){return e}return{get:t,set:t,delete:t,varref:!0}}function g(n,r,o){if(Array.isArray(r))return i.isPrototypeOf(n)?n.TwineScript_GetElement(r):r.map(function(e){return g(n,e,e)})[&quot;string&quot;==typeof n?&quot;join&quot;:&quot;valueOf&quot;](&quot;&quot;);&quot;string&quot;==typeof n&amp;&amp;(n=[].concat(_toConsumableArray(n)));var a=l(n,r);return void 0===a?n===e.variables?C:n.TwineScript_VariableStore?t.create(&quot;property&quot;,&quot;There isn't a temp variable named _&quot;+o+&quot; in this place.&quot;,&quot;Temp variables only exist inside the same passage and hook in which they're (set:).&quot;):t.create(&quot;property&quot;,&quot;I can't find a &quot;+f(o)+&quot; data name in &quot;+x(n)):a}function y(e,n){var r=this,i=this.compiledPropertyChain.reduce(function(e,t){var n=void 0;return n=0===e.length?r.object:g.apply(void 0,_toConsumableArray(e[e.length-1])),e.push([n,t])&amp;&amp;e},[]).reduceRight(e,n);return t.containsError(i)?i:void 0}var v=n.impossible,b=r.isObject,w=r.isSequential,x=r.objectName,T=r.typeName,O=r.clone,S=r.numericIndex,j=r.isValidDatamapName,k=void 0,C=0,A={set:[],delete:[]};return k=Object.freeze({varref:!0,get:function(){return g(this.deepestObject,this.compiledPropertyChain.slice(-1)[0],this.propertyChain.slice(-1)[0])},set:function(e){return!this.object||this.object.TwineScript_VariableStore||this.object.TwineScript_Identifiers?y.call(this,function(e,n,r){
var i=_slicedToArray(n,2),o=i[0],a=i[1],s=void 0;if(s=t.containsError(e,o,a)||t.containsError(p(o,a)))return s;if(e&amp;&amp;e.TwineScript_Unstorable)return t.create(&quot;operation&quot;,T(e)+&quot; can't be stored.&quot;);if(r&gt;0&amp;&amp;(o=O(o)),&quot;string&quot;==typeof o){var u=function(){if(&quot;string&quot;!=typeof e||e.length!==(Array.isArray(a)?a.length:1))return{v:t.create(&quot;datatype&quot;,&quot;I can't put this non-string value, &quot;+x(e)+&quot;, in a string.&quot;)};o=[].concat(_toConsumableArray(o));var n=[].concat(_toConsumableArray(e));[].concat(a).forEach(function(e){0&gt;0+e&amp;&amp;(e=o.length+(0+e)),o=[].concat(_toConsumableArray(o.slice(0,e)),[n.shift()],_toConsumableArray(o.slice(e+1)))}),o=o.join(&quot;&quot;)}();if(&quot;object&quot;===(&quot;undefined&quot;==typeof u?&quot;undefined&quot;:_typeof(u)))return u.v}else b(o)&amp;&amp;(Array.isArray(a)&amp;&amp;w(e)?(&quot;string&quot;==typeof e&amp;&amp;(e=[].concat(_toConsumableArray(e))),a.map(function(t,n){return[t,e[n]]}).forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return d(o,n,r)})):d(o,a,e));return o},e):t.create(&quot;macrocall&quot;,&quot;I can't (set:) &quot;+x(this)+&quot;, if the &quot;+(x(this.object).match(/ (.+$)/)||[&quot;&quot;,&quot;value&quot;])[1]+&quot; isn't stored in a variable.&quot;,&quot;Modifying data structures that aren't in variables won't change the game state at all.&quot;)},delete:function(){return y.call(this,function(e,n,r){var i=_slicedToArray(n,2),o=i[0],a=i[1],s=void 0;if(s=t.containsError(e,o,a)||t.containsError(p(o,a)))return s;if(r&gt;0&amp;&amp;(o=O(o)),null===e){var c=&quot;string&quot;==typeof o;c&amp;&amp;(o=[].concat(_toConsumableArray(o))),Array.isArray(a)?(w(o)&amp;&amp;(a=[].concat(_toConsumableArray(new Set(a))),a.sort(function(e,t){return u(o,t)-u(o,e)})),a.forEach(function(e){return h(o,e)})):h(o,a),c&amp;&amp;(o=o.join(&quot;&quot;))}else d(o,a,e);return o},null)},create:function(e,n){var r=void 0;if(r=t.containsError(e))return m(r);n=[].concat(n),k.isPrototypeOf(e)&amp;&amp;(n=e.propertyChain.concat(n),e=e.object);var i=s(e,n),o=i.compiledPropertyChain,a=i.deepestObject;return(r=t.containsError(o,a))?m(r):Object.assign(Object.create(k),{object:e,propertyChain:n,compiledPropertyChain:o,deepestObject:a})},get TwineScript_ObjectName(){return(this.object===e.variables?&quot;$&quot;:x(this.object)+&quot;'s &quot;)+(1===this.propertyChain.length?f(this.propertyChain[0]):this.propertyChain.reduce(function(e,t){return e+&quot;'s &quot;+f(t)}))},on:function(e,t){return e in A?(&quot;function&quot;!=typeof t||A[e].includes(t)||A[e].push(t),k):void v(&quot;VarRef.on&quot;,&quot;invalid event name&quot;)}})}),define(&quot;twinescript/compiler&quot;,[&quot;utils&quot;],function(e){function t(e,t){for(var n=0;n&lt;e.length;n+=1)if(t.includes(e[n].type))return n;return 0/0}function n(e,n){return e.length-1-t.apply(void 0,[[].concat(_toConsumableArray(e)).reverse(),n])}function r(e,r){var i=[];return e.length?([[&quot;error&quot;],[&quot;comma&quot;],[&quot;spread&quot;],[&quot;to&quot;],[&quot;into&quot;],{rightAssociative:[&quot;where&quot;,&quot;via&quot;]},{rightAssociative:[&quot;with&quot;,&quot;making&quot;,&quot;each&quot;]},[&quot;augmentedAssign&quot;],[&quot;and&quot;,&quot;or&quot;],[&quot;is&quot;,&quot;isNot&quot;],[&quot;contains&quot;,&quot;isIn&quot;],[&quot;inequality&quot;],[&quot;addition&quot;,&quot;subtraction&quot;],[&quot;multiplication&quot;,&quot;division&quot;],[&quot;not&quot;],[&quot;belongingProperty&quot;],[&quot;belongingOperator&quot;,&quot;belongingItOperator&quot;],{rightAssociative:[&quot;property&quot;]},{rightAssociative:[&quot;itsProperty&quot;]},[&quot;belongingItProperty&quot;],{rightAssociative:[&quot;possessiveOperator&quot;,&quot;itsOperator&quot;]},[&quot;twineLink&quot;],[&quot;macro&quot;],[&quot;grouping&quot;]][&quot;most&quot;===r?&quot;reverse&quot;:&quot;valueOf&quot;]().some(function(r){var o=void 0;return o=r.rightAssociative?n(e,r.rightAssociative):t(e,r),!Number.isNaN(o)&amp;&amp;o&gt;-1?(i=[e[o],o],!0):void 0}),i):i}function i(e){if(&quot;inequality&quot;===e.type){var t=e.operator;return e.negate?{&quot;&gt;&quot;:&quot;&lt;=&quot;,&quot;&lt;&quot;:&quot;&gt;=&quot;,&quot;&gt;=&quot;:&quot;&lt;&quot;,&quot;&lt;=&quot;:&quot;&gt;&quot;}[t]:t}return e.type}function o(e){var t=i(e);return{&quot;&gt;&quot;:&quot;&lt;&quot;,&quot;&lt;&quot;:&quot;&gt;&quot;,&quot;&gt;=&quot;:&quot;&lt;=&quot;,&quot;&lt;=&quot;:&quot;&gt;=&quot;,contains:&quot;isIn&quot;,isIn:&quot;contains&quot;,is:&quot;isNot&quot;,isNot:&quot;is&quot;}[t]}function a(e){var t=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:{},n=t.isVarRef,c=t.elidedComparison;if(e=[].concat(e),!e.length)return&quot;&quot;;var l=e[0];if(1===e.length){if(&quot;identifier&quot;===l.type)return n?&quot;VarRef.create(Operations.Identifiers,&quot;+s(l.text)+&quot;)&quot;:&quot; Operations.Identifiers.&quot;+l.text.toLowerCase()+&quot; &quot;;if(&quot;variable&quot;===l.type)return&quot;VarRef.create(State.variables,&quot;+s(l.name)+&quot;)&quot;+(n?&quot;&quot;:&quot;.get()&quot;);if(&quot;tempVariable&quot;===l.type)return&quot;VarRef.create(section.stack[0].tempVariables,&quot;+s(l.name)+&quot;)&quot;+(n?&quot;&quot;:&quot;.get()&quot;);if(&quot;hookRef&quot;===l.type)return&quot; HookSet.create('?&quot;+l.name+&quot;') &quot;;if(&quot;string&quot;===l.type)return l.text.replace(/\n/g,&quot;\\n&quot;);if(&quot;colour&quot;===l.type)return&quot;Colour.create(&quot;+s(l.colour)+&quot;)&quot;;if(&quot;root&quot;===l.type)return a(l.children)}var f=void 0,p=r(e,&quot;least&quot;),d=_slicedToArray(p,2);l=d[0],f=d[1];var h=(l||{}).type,m=void 0,g=void 0,y=void 0,v=void 0,b=void 0,w=void 0,x=!0,T=!0,O=!1;if(h){if(&quot;error&quot;===h)return&quot;TwineError.create('syntax',&quot;+s(l.message)+&quot;)&quot;;if(&quot;comma&quot;===h)y=&quot;,&quot;,T=!1;else if(&quot;spread&quot;===h)y=&quot;Operations.makeSpreader(&quot;,g=a(e.slice(f+1))+&quot;)&quot;,x=!1;else if(&quot;to&quot;===h)b=&quot;to&quot;,g=a(e.slice(f+1),{isVarRef:!0}),m=&quot;Operations.setIt(&quot;+a(e.slice(0,f),{isVarRef:!0})+&quot;)&quot;;else if(&quot;into&quot;===h)b=&quot;into&quot;,g=a(e.slice(0,f),{isVarRef:!0}),m=&quot;Operations.setIt(&quot;+a(e.slice(f+1),{isVarRef:!0})+&quot;)&quot;;else if(&quot;where&quot;===h||&quot;via&quot;===h)m=&quot;Lambda.create(&quot;+(a(e.slice(0,f),{isVarRef:!0}).trim()||&quot;undefined&quot;)+&quot;,&quot;,y=s(l.type)+&quot;,&quot;,g=s(a(e.slice(f+1)))+&quot;)&quot;;else if(&quot;with&quot;===h||&quot;making&quot;===h||&quot;each&quot;===h){var S=e.slice(f+1);![2,3].includes(S.length)||&quot;whitespace&quot;!==S[0].type||&quot;tempVariable&quot;!==S[1].type||S[2]&amp;&amp;&quot;whitespace&quot;!==S[2].type?(m=&quot;TwineError.create('operation','I need a temporary variable to the right of \\'&quot;,y=l.type,g=&quot;\\'.')&quot;):&quot;each&quot;===h?(m=&quot;Lambda.create(&quot;,y=a(S,{isVarRef:!0}).trim(),g=&quot;,'where','true')&quot;):(m=&quot;Lambda.create(&quot;+(a(e.slice(0,f),{isVarRef:!0}).trim()||&quot;undefined&quot;)+&quot;,&quot;,y=s(l.type)+&quot;,&quot;,g=s(S[1].name)+&quot;)&quot;)}else if(&quot;augmentedAssign&quot;===h)b=l.operator,m=a(e.slice(0,f),{isVarRef:!0}),g=&quot;Operations['&quot;+b+&quot;'](&quot;+(a(e.slice(0,f))+&quot;,&quot;+a(e.slice(f+1)))+&quot;)&quot;;else if(&quot;and&quot;===h||&quot;or&quot;===h){var j=function(){var t=function e(t){var n=r(t,&quot;least&quot;),i=_slicedToArray(n,2),o=i[0],a=i[1];if(o)return[&quot;inequality&quot;,&quot;is&quot;,&quot;isNot&quot;,&quot;isIn&quot;,&quot;contains&quot;].includes(o.type)?o:[&quot;and&quot;,&quot;or&quot;].includes(o.type)?e(t.slice(0,a))||e(t.slice(a+1)):void 0},u=t(e.slice(0,f)),p=t(e.slice(f+1)),d=&quot;TwineError.create('operation', 'This use of \&quot;is not\&quot; and \&quot;&quot;+h+&quot;\&quot; is grammatically ambiguous','Maybe try rewriting this as \&quot;__ is not __ &quot;+h+&quot; __ is not __\&quot;') &quot;;if(v=l.type,c===l.type)v=&quot;&quot;,m=a(e.slice(0,f),{isVarRef:n,elidedComparison:c}).trim(),y=&quot;,&quot;,g=a(e.slice(f+1),{elidedComparison:c}).trim();else if(u&amp;&amp;!p){var b=r(e.slice(0,f),&quot;least&quot;),w=_slicedToArray(b,1),x=w[0],T=s(i(x));if(&quot;isNot&quot;===x.type)return{v:d};g=&quot;Operations.elidedComparisonOperator(&quot;+s(l.type)+&quot;,&quot;+T+&quot;,&quot;+a(e.slice(f+1),{elidedComparison:h})+&quot;)&quot;}else if(!u&amp;&amp;p){var O=p,S=e.indexOf(O),j=s(o(O));if(&quot;isNot&quot;===O.type)return{v:d};g=&quot;Operations.elidedComparisonOperator(&quot;+s(l.type)+&quot;,&quot;+j+&quot;,&quot;+a(e.slice(0,f),{elidedComparison:h})+&quot;)&quot;,m=a([].concat(_toConsumableArray(e.slice(S+1)),[Object.assign(Object.create(O),_defineProperty({},&quot;inequality&quot;===O.type?&quot;operator&quot;:&quot;type&quot;,o(O)))],_toConsumableArray(e.slice(f+1,S))))}}();if(&quot;object&quot;===(&quot;undefined&quot;==typeof j?&quot;undefined&quot;:_typeof(j)))return j.v}else if(&quot;is&quot;===h||&quot;isNot&quot;===h||&quot;contains&quot;===h||&quot;isIn&quot;===h||&quot;inequality&quot;===h)O=!0,v=i(l);else if(&quot;addition&quot;===h||&quot;subtraction&quot;===h)v=l.text,m=a(e.slice(0,f)),m.trim()||(m=&quot;0&quot;);else if(&quot;multiplication&quot;===h||&quot;division&quot;===h)v=l.text;else if(&quot;not&quot;===h)y=&quot; &quot;,g=&quot;Operations.not(&quot;+a(e.slice(f+1))+&quot;)&quot;,x=!1;else if(&quot;belongingProperty&quot;===h)g=&quot;VarRef.create(&quot;+a(e.slice(f+1),{isVarRef:!0})+&quot;,&quot;+s(l.name)+&quot;)&quot;+(n?&quot;&quot;:&quot;.get()&quot;),y=&quot; &quot;,x=T=!1;else if(&quot;belongingOperator&quot;===h||&quot;belongingItOperator&quot;===h)l.type.includes(&quot;It&quot;)?(g=&quot;Operations.Identifiers.it&quot;,T=!1):g=a(e.slice(f+1),{isVarRef:!0}),w=&quot;belonging&quot;;else if(&quot;property&quot;===h)m=&quot;VarRef.create(&quot;+a(e.slice(0,f),{isVarRef:!0})+&quot;,&quot;+s(l.name)+&quot;)&quot;+(n?&quot;&quot;:&quot;.get()&quot;),y=&quot; &quot;,x=T=!1;else if(&quot;itsProperty&quot;===h||&quot;belongingItProperty&quot;===h)m=&quot;VarRef.create(Operations.Identifiers.it,&quot;+s(l.name)+&quot;).get()&quot;,y=&quot; &quot;,x=T=!1;else if(&quot;possessiveOperator&quot;===h||&quot;itsOperator&quot;===h)l.type.includes(&quot;it&quot;)&amp;&amp;(m=&quot;Operations.Identifiers.it&quot;,x=!1),w=&quot;possessive&quot;;else if(&quot;twineLink&quot;===h)y='Macros.run(&quot;link-goto&quot;, [section,'+s(l.innerText)+&quot;,&quot;+s(l.passage)+&quot;])&quot;,x=T=!1;else if(&quot;macro&quot;===h){var k=l.children[0];&quot;macroName&quot;!==k.type&amp;&amp;u(&quot;Compiler.compile&quot;,&quot;macro token had no macroName child token&quot;),y=&quot;Macros.run(&quot;+(k.isMethodCall?a(k.children):'&quot;'+l.name+'&quot;')+&quot;, [section,&quot;+a(l.children.slice(1))+&quot;])&quot;,x=T=!1}else&quot;grouping&quot;===h&amp;&amp;(y=&quot;(&quot;+a(l.children,{isVarRef:n})+&quot;)&quot;,x=T=!1)}else;return f&gt;-1?(v&amp;&amp;(n=!1),m=m||a(e.slice(0,f),{isVarRef:n}).trim(),g=g||a(e.slice(f+1)).trim(),O&amp;&amp;!m&amp;&amp;(m=&quot; Operations.Identifiers.it &quot;),x&amp;&amp;!m||T&amp;&amp;!g?&quot;TwineError.create('operation','I need some code to be &quot;+(x?&quot;left &quot;:&quot;&quot;)+(x&amp;&amp;T?&quot;and &quot;:&quot;&quot;)+(T?&quot;right &quot;:&quot;&quot;)+'of &quot;'+l.text+&quot;\&quot;')&quot;:y?m+y+g:b?&quot;Operations.makeAssignmentRequest(&quot;+[m,g,s(b)]+&quot;)&quot;:w?&quot;VarRef.create(&quot;+(&quot;belonging&quot;===w?g:m)+&quot;,{computed:true,value:&quot;+(&quot;belonging&quot;===w?m:g)+&quot;})&quot;+(n?&quot;&quot;:&quot;.get()&quot;):v?&quot; Operations[&quot;+s(v)+&quot;](&quot;+m+&quot;,&quot;+g+&quot;) &quot;:&quot;&quot;):1===e.length?((&quot;value&quot;in e[0]?e[0].value:e[0].text)+&quot;&quot;).trim()||&quot; &quot;:e.reduce(function(e,t){return e+a(t,{isVarRef:n})},&quot;&quot;)}var s=e.toJSLiteral,u=e.impossible;return a}),define(&quot;renderer&quot;,[&quot;utils&quot;,&quot;markup&quot;,&quot;twinescript/compiler&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r){function i(e,t){return&quot;&lt;&quot;+t+&quot;&gt;&quot;+e+&quot;&lt;/&quot;+t+&quot;&gt;&quot;}function o(e,t){var n=l.render(e.children);return n&amp;&amp;i(n,t)}var a=e.escape,s=e.impossible,u=e.toJSLiteral,c=e.insensitiveName,l=void 0,f=&quot;text-align: center; max-width:50%; &quot;;return l={options:{},exec:function(){var e=void 0,n=void 0;return function(r){return&quot;string&quot;!=typeof r?(s(&quot;Renderer.exec&quot;,&quot;source was not a string, but &quot;+(&quot;undefined&quot;==typeof r?&quot;undefined&quot;:_typeof(r))),&quot;&quot;):r===e?n:(e=r,n=l.render(t.lex(r).children))}}(),render:function e(s){var p=&quot;&quot;,d=[];if(!s)return p;for(var h=s.length,m=0;h&gt;m;m+=1){var g=s[m];switch(g.type){case&quot;error&quot;:p+=r.create(&quot;syntax&quot;,g.message).render(a(g.text))[0].outerHTML;break;case&quot;numbered&quot;:case&quot;bulleted&quot;:var y=&quot;numbered&quot;===g.type?&quot;ol&quot;:&quot;ul&quot;;p+=&quot;&lt;&quot;+y+&quot;&gt;&quot;;for(var v=1;h&gt;m&amp;&amp;s[m]&amp;&amp;s[m].type===g.type;)p+=(&quot;&lt;&quot;+y+&quot;&gt;&quot;).repeat(Math.max(0,s[m].depth-v)),p+=(&quot;&lt;/&quot;+y+&quot;&gt;&quot;).repeat(Math.max(0,v-s[m].depth)),v=s[m].depth,p+=o(s[m],&quot;li&quot;),m+=1;m-=1,p+=(&quot;&lt;/&quot;+y+&quot;&gt;&quot;).repeat(v+1);break;case&quot;align&quot;:for(;g&amp;&amp;&quot;align&quot;===g.type;){var b=g,w=b.align,x=m+=1;if(&quot;left&quot;===w){m-=1;break}for(;h&gt;m&amp;&amp;s[m]&amp;&amp;&quot;align&quot;!==s[m].type;)m+=1;var T=e(s.slice(x,m)),O=&quot;&quot;;switch(w){case&quot;center&quot;:O+=f+&quot;margin-left: auto; margin-right: auto;&quot;;break;case&quot;justify&quot;:case&quot;right&quot;:O+=&quot;text-align: &quot;+w+&quot;;&quot;;break;default:+w&amp;&amp;(O+=f+&quot;margin-left: &quot;+w+&quot;%;&quot;)}p+=&quot;&lt;tw-align &quot;+(O?'style=&quot;'+O+'&quot;':&quot;&quot;)+(l.options.debug?' title=&quot;'+g.text+'&quot;':&quot;&quot;)+&quot;&gt;&quot;+T+&quot;&lt;/tw-align&gt;\n&quot;,g=s[m]}break;case&quot;column&quot;:for(var S=[];g&amp;&amp;&quot;column&quot;===g.type;){var j=g,k=j.column,C=m+=1;if(&quot;none&quot;===k){m-=1;break}for(;h&gt;m&amp;&amp;s[m]&amp;&amp;&quot;column&quot;!==s[m].type;)m+=1;S.push({text:g.text,type:k,body:e(s.slice(C,m)),width:g.width,marginLeft:g.marginLeft,marginRight:g.marginRight}),g=s[m]}S.length&amp;&amp;!function(){var e=S.reduce(function(e,t){return e+t.width},0);p+=&quot;&lt;tw-columns&gt;&quot;+S.map(function(t){return&quot;&lt;tw-column type=&quot;+t.type+'  style=&quot;width:'+t.width/e*100+&quot;%; margin-left: &quot;+t.marginLeft+&quot;em; margin-right: &quot;+t.marginRight+'em;&quot; '+(l.options.debug?' title=&quot;'+t.text+'&quot;':&quot;&quot;)+&quot;&gt;&quot;+t.body+&quot;&lt;/tw-column&gt;\n&quot;}).join(&quot;&quot;)+&quot;&lt;/tw-columns&gt;&quot;}();break;case&quot;heading&quot;:p+=o(g,&quot;h&quot;+g.depth);break;case&quot;br&quot;:(!d.length||/td|th/.test(d[0]))&amp;&amp;(p+=&quot;&lt;br&gt;&quot;);break;case&quot;hr&quot;:p+=&quot;&lt;hr&gt;&quot;;break;case&quot;escapedLine&quot;:case&quot;comment&quot;:break;case&quot;inlineUrl&quot;:p+='&lt;a class=&quot;link&quot; href=&quot;'+a(g.text)+'&quot;&gt;'+g.text+&quot;&lt;/a&gt;&quot;;break;case&quot;scriptStyleTag&quot;:case&quot;tag&quot;:var A=g.text.toLowerCase();/^&lt;\/?(?:table|thead|tbody|tr|tfoot|td|th)\b/.test(A)&amp;&amp;d[g.text.startsWith(&quot;&lt;/&quot;)?&quot;shift&quot;:&quot;unshift&quot;](A),p+=g.text.startsWith(&quot;&lt;/&quot;)?g.text:g.text.replace(/&gt;$/,&quot; data-raw&gt;&quot;);break;case&quot;sub&quot;:case&quot;sup&quot;:case&quot;del&quot;:case&quot;strong&quot;:case&quot;em&quot;:p+=o(g,g.type);break;case&quot;bold&quot;:p+=o(g,&quot;b&quot;);break;case&quot;italic&quot;:p+=o(g,&quot;i&quot;);break;case&quot;twineLink&quot;:var E=t.lex(&quot;(link-goto:&quot;+u(g.innerText)+&quot;,&quot;+u(g.passage)+&quot;)&quot;);p+=e(E.children);break;case&quot;hook&quot;:p+=&quot;&lt;tw-hook &quot;+(g.hidden?&quot;hidden &quot;:&quot;&quot;)+(g.name?'name=&quot;'+c(g.name)+'&quot;':&quot;&quot;)+(l.options.debug&amp;&amp;g.name?' title=&quot;Hook: ?'+g.name+'&quot;':&quot;&quot;)+' source=&quot;'+a(g.innerText)+'&quot;&gt;&lt;/tw-hook&gt;';break;case&quot;verbatim&quot;:p+=i(a(g.innerText).replace(/\n/g,&quot;&lt;br&gt;&quot;),&quot;tw-verbatim&quot;);break;case&quot;collapsed&quot;:p+=o(g,&quot;tw-collapsed&quot;);break;case&quot;variable&quot;:case&quot;tempVariable&quot;:case&quot;macro&quot;:p+='&lt;tw-expression type=&quot;'+g.type+'&quot; name=&quot;'+a(g.name||g.text)+'&quot;'+(l.options.debug?' title=&quot;'+a(g.text)+'&quot;':&quot;&quot;)+' js=&quot;'+a(n(g))+'&quot;&gt;&lt;/tw-expression&gt;';break;default:p+=g.children&amp;&amp;g.children.length?e(g.children):g.text}}return p}},Object.freeze(l)}),define(&quot;utils/naturalsort&quot;,[],function(){return function(e){return function t(n,r){var i,o,a,s,u=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,c=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,f=/^0x[0-9a-f]+$/i,p=/^0/,d=function(e){return t.insensitive&amp;&amp;(&quot;&quot;+e).toLowerCase()||&quot;&quot;+e},h=d(n).replace(c,&quot;&quot;)||&quot;&quot;,m=d(r).replace(c,&quot;&quot;)||&quot;&quot;,g=h.replace(u,&quot;\x00$1\x00&quot;).replace(/\0$/,&quot;&quot;).replace(/^\0/,&quot;&quot;).split(&quot;\x00&quot;),y=m.replace(u,&quot;\x00$1\x00&quot;).replace(/\0$/,&quot;&quot;).replace(/^\0/,&quot;&quot;).split(&quot;\x00&quot;),v=parseInt(h.match(f))||1!==g.length&amp;&amp;h.match(l)&amp;&amp;Date.parse(h),b=parseInt(m.match(f))||v&amp;&amp;m.match(l)&amp;&amp;Date.parse(m)||null;if(e&amp;&amp;window.Intl&amp;&amp;window.Intl.Collator&amp;&amp;(a=window.Intl.Collator(e)),b){if(b&gt;v)return-1;if(v&gt;b)return 1}for(var w=0,x=Math.max(g.length,y.length);x&gt;w;w++){if(i=!(g[w]||&quot;&quot;).match(p)&amp;&amp;parseFloat(g[w])||g[w]||0,o=!(y[w]||&quot;&quot;).match(p)&amp;&amp;parseFloat(y[w])||y[w]||0,isNaN(i)!==isNaN(o))return isNaN(i)?1:-1;if((&quot;undefined&quot;==typeof i?&quot;undefined&quot;:_typeof(i))!==(&quot;undefined&quot;==typeof o?&quot;undefined&quot;:_typeof(o)))i+=&quot;&quot;,o+=&quot;&quot;;else if(&quot;string&quot;==typeof i&amp;&amp;a&amp;&amp;(s=a.compare(i,o),0!==s))return s;if(o&gt;i)return-1;if(i&gt;o)return 1}return 0}}}),define(&quot;internaltypes/varscope&quot;,[],function(){return{TwineScript_ObjectName:&quot;the temporary variables&quot;,TwineScript_VariableStore:!0}}),define(&quot;datatypes/lambda&quot;,[&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;internaltypes/varscope&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r){var i=e.toJSLiteral,o=e.insensitiveName,a=(e.plural,t.typeName,t.objectName,t.singleTypeCheck,Object.freeze({lambda:!0,TwineScript_TypeName:&quot;a lambda&quot;,TwineScript_ObjectName:function(){return'a &quot;'+(&quot;making&quot;in this?&quot;making ... &quot;:&quot;&quot;)+(&quot;with&quot;in this?&quot;with ... &quot;:&quot;&quot;)+(&quot;where&quot;in this?&quot;where ... &quot;:&quot;&quot;)+(&quot;via&quot;in this?&quot;via ... &quot;:&quot;&quot;)+'&quot; lambda'},TwineScript_Print:function(){return&quot;`[A lambda]`&quot;},TwineScript_is:function(e){return e===this},TypeSignature:function(e){return{pattern:&quot;lambda&quot;,innerType:a,clauses:e}},create:function(e,t,i){var s=void 0;if(r.containsError(e))return e;if(a.isPrototypeOf(e)){if(t in e&amp;&amp;(&quot;where&quot;!==t||&quot;true&quot;!==e[t]))return r.create(&quot;syntax&quot;,&quot;This lambda has two '&quot;+t+&quot;' clauses.&quot;);s=e}else{if(void 0!==e&amp;&amp;(!e||!e.varref||!n.isPrototypeOf(e.object)||e.propertyChain.length&gt;1))return r.create(&quot;syntax&quot;,&quot;This lambda needs to start with a single temporary variable.&quot;);s=Object.create(this),s.loop=e?e.propertyChain[0]:&quot;&quot;}s[t]=i;var u=[s.making,s.with,s.loop].filter(function(e,t,n){return e&amp;&amp;n.indexOf(o(e))!==t});return u.length?r.create(&quot;syntax&quot;,&quot;This lambda has two variables named '&quot;+u[0]+&quot;'.&quot;,&quot;Lambdas should have all-unique parameter names.&quot;):s},apply:function(e,t){var o=t.loop,a=t.with,s=t.making,u=t.fail,c=t.pass,l=t.ignoreVia,f=Object.create(n);[[this.loop,o],[this.with,a],[this.making,s]].forEach(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return n&amp;&amp;(f[n]=r)}),e.stack.unshift(Object.assign(Object.create(null),{tempVariables:f})),e.eval(&quot;Operations&quot;).initialiseIt(!o||this.with||this.making?r.create(&quot;operation&quot;,&quot;I can't use 'it', or an implied 'it', in &quot;+this.TwineScript_ObjectName()):o);var p=!l&amp;&amp;this.via,d=e.eval(&quot;where&quot;in this?&quot;Operations.where(&quot;+this.where+&quot;,&quot;+(p||i(c))+&quot;,&quot;+i(u)+&quot;)&quot;:p||i(c));return e.stack.shift(),d},filter:function(e,t){var n=this;return t.reduce(function(t,i){var o=void 0;if(o=r.containsError(t))return o;var a=n.apply(e,{loop:i,pass:!0,fail:!1,ignoreVia:!0});return(o=r.containsError(a))?o:t.concat(a?[i]:[])},[])}}));return a}),define(&quot;macros&quot;,[&quot;jquery&quot;,&quot;utils/naturalsort&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/changercommand&quot;,&quot;datatypes/lambda&quot;,&quot;datatypes/hookset&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,o,a,s){function u(e){return function(n){n=n.reduce(function(e,n){if(n&amp;&amp;n.spreader===!0){var r=n.value;if(Array.isArray(r)||&quot;string&quot;==typeof r)for(var i=0;i&lt;r.length;i++)e.push(r[i]);else r instanceof Set?e.push.apply(e,_toConsumableArray(Array.from(r).sort(t(&quot;en&quot;)))):e.push(s.create(&quot;operation&quot;,&quot;I can't spread out &quot;+g(r)+&quot;, because it is not a string, dataset, or array.&quot;))}else e.push(n);return e},[]);var r=s.containsError(n);return r?r:e.apply(void 0,_toConsumableArray(n))}}function c(e,t,n){n=[].concat(n||[]),e=&quot;(&quot;+(Array.isArray(e)&amp;&amp;e.length&gt;1?e[0]:e)+&quot;:)&quot;;var r=void 0;return r=n.length&gt;0?&quot;The &quot;+e+&quot; macro must only be given &quot;+n.map(y).reduce(function(e,t,n,r){return e+(0===n?&quot;&quot;:n&lt;r.length-1?&quot;, &quot;:&quot;, and &quot;)+t},&quot;&quot;)+(n.length&gt;1?&quot;, in that order&quot;:&quot;.&quot;):&quot;The macro must not be given any data - just write &quot;+e+&quot;.&quot;,function(i){for(var a=arguments.length,u=Array(a&gt;1?a-1:0),c=1;a&gt;c;c++)u[c-1]=arguments[c];for(var l=void 0,f=(function(t){var i=n[t],a=u[t];return t&gt;=n.length&amp;&amp;!l?{v:s.create(&quot;datatype&quot;,u.length-n.length+&quot; too many values were given to this &quot;+e+&quot; macro.&quot;,r)}:(i||(i=l),!i.innerType||&quot;rest&quot;!==i.pattern&amp;&amp;&quot;zero or more&quot;!==i.pattern||(l=i.innerType,&quot;rest&quot;===i.pattern&amp;&amp;(i=i.innerType)),v(a,i)?void 0:void 0===a?{v:s.create(&quot;datatype&quot;,&quot;The &quot;+e+&quot; macro needs &quot;+d(n.length-t,&quot;more value&quot;)+&quot;.&quot;,r)}:a&amp;&amp;a.TwineScript_Unstorable&amp;&amp;(i===b.TypeSignature.Any||i.innerType&amp;&amp;i.innerType===b.TypeSignature.Any)?{v:s.create(&quot;datatype&quot;,e+&quot;'s &quot;+p(t+1)+&quot; value, &quot;+g(a)+&quot;, is not valid data for this macro.&quot;,r)}:a&amp;&amp;o.isPrototypeOf(a)&amp;&amp;&quot;lambda&quot;===i.pattern?{v:s.create(&quot;datatype&quot;,e+&quot;'s &quot;+p(t+1)+&quot; value (a lambda) should have &quot;+h([&quot;where&quot;,&quot;making&quot;,&quot;via&quot;,&quot;with&quot;].filter(function(e){return i.clauses.includes(e)}).map(function(e){return&quot;a '&quot;+e+&quot;' clause&quot;}))+&quot;, not &quot;+h([&quot;where&quot;,&quot;making&quot;,&quot;via&quot;,&quot;with&quot;].filter(function(e){return e in a}).map(function(e){return&quot;a '&quot;+e+&quot;' clause&quot;}))+&quot;.&quot;)}:{v:s.create(&quot;datatype&quot;,e+&quot;'s &quot;+p(t+1)+&quot; value is &quot;+g(a)+&quot;, but should be &quot;+y(i)+&quot;.&quot;,i.message||r)})}),m=0,w=Math.max(u.length,n.length);w&gt;m;m+=1){var x=f(m,w);if(&quot;object&quot;===(&quot;undefined&quot;==typeof x?&quot;undefined&quot;:_typeof(x)))return x.v}return t.apply(void 0,[i].concat(u))}}function l(e,t){Array.isArray(e)?e.forEach(function(e){return m(w,f(e),t)}):m(w,f(e),t)}var f=n.insensitiveName,p=n.nth,d=n.plural,h=n.andList,m=n.lockProperty,g=r.objectName,y=r.typeName,v=r.singleTypeCheck,b=void 0,w={};return b={has:function(e){return e=f(e),w.hasOwnProperty(e)},get:function(e){return e=f(e),w.hasOwnProperty(e)&amp;&amp;w[e]},add:function e(t,n,r){return l(t,u(c(t,n,r))),e},addChanger:function e(t,n,r,o){return l(t,u(c(t,n,o))),i.register(Array.isArray(t)?t[0]:t,r),e},TypeSignature:{optional:function(e){return{pattern:&quot;optional&quot;,innerType:e}},zeroOrMore:function(e){return{pattern:&quot;zero or more&quot;,innerType:e}},either:function(){for(var e=arguments.length,t=Array(e),n=0;e&gt;n;n++)t[n]=arguments[n];return{pattern:&quot;either&quot;,innerType:t}},rest:function(e){return{pattern:&quot;rest&quot;,innerType:e}},wrapped:function(e,t){return{pattern:&quot;wrapped&quot;,innerType:e,message:t}},Any:{TwineScript_TypeName:&quot;anything&quot;}},run:function(e,t){return s.containsError(e)?e:b.has(e)?b.get(e)(t):s.create(&quot;macrocall&quot;,&quot;I can't run the macro '&quot;+e+&quot;' because it doesn't exist.&quot;,&quot;Did you mean to run a macro? If you have a word written like (this:), it is regarded as a macro name.&quot;)}},Object.freeze(b)}),define(&quot;datatypes/assignmentrequest&quot;,[&quot;utils&quot;],function(e){var t=e.assertMustHave,n=Object.freeze({assignmentRequest:!0,TwineScript_TypeName:&quot;a 'to' or 'into' expression&quot;,TwineScript_ObjectName:&quot;a 'to' or 'into' expression&quot;,TwineScript_Unstorable:!0,create:function(e,n,r){return t(e,[&quot;varref&quot;]),Object.assign(Object.create(this),{dest:e,src:n,operator:r})}});return n}),define(&quot;twinescript/operations&quot;,[&quot;state&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/assignmentrequest&quot;,&quot;utils/operationutils&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i){function o(e,t,n,r){return n=n||&quot;do this to&quot;,function(o,a){1===t.length&amp;&amp;(a=o);var s=void 0;return(s=i.containsError(o,a))?s:(&quot;undefined&quot;==typeof o?&quot;undefined&quot;:_typeof(o))!==e||(&quot;undefined&quot;==typeof a?&quot;undefined&quot;:_typeof(a))!==e?i.create(&quot;operation&quot;,&quot;I can only &quot;+n+&quot; &quot;+e+&quot;s, not &quot;+m((&quot;undefined&quot;==typeof o?&quot;undefined&quot;:_typeof(o))!==e?o:a)+&quot;.&quot;,r):t(o,a)}}function a(e){return function(t,n){var r=void 0;return(r=i.containsError(t,n))?r:t&amp;&amp;t.varref?i.create(&quot;operation&quot;,&quot;I can't give an expression a new value.&quot;):(&quot;undefined&quot;==typeof t?&quot;undefined&quot;:_typeof(t))!==(&quot;undefined&quot;==typeof n?&quot;undefined&quot;:_typeof(n))||c(t)!==c(n)?l(e,t,n)||i.create(&quot;operation&quot;,m(t)+&quot; isn't the same type of data as &quot;+m(n)):e(t,n)}}function s(e){var t=function t(n,r){var o=void 0;if(o=i.containsError(n,r))return o;if(y=n,n.determiner){var a=function(){var e=&quot;all&quot;===n.determiner;return{v:n.array.reduce(function(n,o){var a=void 0,s=t(o,r);return(a=i.containsError(n,s))?a:e?n&amp;&amp;s:n||s},e)}}();if(&quot;object&quot;===(&quot;undefined&quot;==typeof a?&quot;undefined&quot;:_typeof(a)))return a.v}else if(r.determiner){var s=function(){var e=&quot;all&quot;===r.determiner;return{v:r.array.reduce(function(r,o){var a=void 0,s=t(n,o);return(a=i.containsError(r,s))?a:e?r&amp;&amp;s:r||s},e)}}();if(&quot;object&quot;===(&quot;undefined&quot;==typeof s?&quot;undefined&quot;:_typeof(s)))return s.v}return e(n,r)};return t}var u=r.isObject,c=r.collectionType,l=r.coerceToString,f=r.is,p=r.clone,d=r.unique,h=r.contains,m=(r.typeName,r.objectName),g=void 0,y=0,v=&quot;If one of these values is a number, you may want to write a check that it 'is not 0'. Also, if one is a string, you may want to write a check that it 'is not \&quot;\&quot; '.&quot;;return g={create:function(e){var t=Object.create(this);return t.Identifiers={TwineScript_Identifiers:!0,get it(){return y},get time(){return Date.now()-e.timestamp}},t},elidedComparisonOperator:function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];return r.reduce(function(n,r){return&quot;boolean&quot;==typeof r?r:g[e](n,g[t](y,r))},&quot;and&quot;===e)},and:o(&quot;boolean&quot;,a(function(e,t){return e&amp;&amp;t}),&quot;use 'and' to join&quot;,v),or:o(&quot;boolean&quot;,a(function(e,t){return e||t}),&quot;use 'or' to join&quot;,v),not:o(&quot;boolean&quot;,function(e){return!e},&quot;use 'not' to invert&quot;,v),&quot;+&quot;:a(function(e,t){if(Array.isArray(e))return[].concat(_toConsumableArray(e),_toConsumableArray(t));var n=void 0;return e instanceof Map?(n=new Map(e),t.forEach(function(e,t){return n.set(t,e)}),n):e instanceof Set?new Set([].concat(_toConsumableArray(e),_toConsumableArray(t)).filter(d).map(p)):&quot;function&quot;==typeof e[&quot;TwineScript_+&quot;]?e[&quot;TwineScript_+&quot;](t):&quot;string|number|boolean&quot;.includes(&quot;undefined&quot;==typeof e?&quot;undefined&quot;:_typeof(e))?e+t:i.create(&quot;operation&quot;,&quot;I can't use + on &quot;+m(e)+&quot;.&quot;)}),&quot;-&quot;:a(function(e,t){if(Array.isArray(e))return e.filter(function(e){return!t.some(function(t){return f(e,t)})});if(e instanceof Set){var n=function(){var n=[].concat(_toConsumableArray(t));return{v:new Set([].concat(_toConsumableArray(e)).filter(function(e){return!n.some(function(t){return f(e,t)})}))}}();if(&quot;object&quot;===(&quot;undefined&quot;==typeof n?&quot;undefined&quot;:_typeof(n)))return n.v}return&quot;string&quot;==typeof e?e.split(t).join(&quot;&quot;):&quot;number&quot;==typeof e?e-t:i.create(&quot;operation&quot;,&quot;I can't use - on &quot;+m(e)+&quot;.&quot;)}),&quot;*&quot;:o(&quot;number&quot;,a(function(e,t){return e*t}),&quot;multiply&quot;),&quot;/&quot;:o(&quot;number&quot;,a(function(e,t){return 0===t?i.create(&quot;operation&quot;,&quot;I can't divide &quot;+m(e)+&quot; by zero.&quot;):e/t}),&quot;divide&quot;),&quot;%&quot;:o(&quot;number&quot;,a(function(e,t){return 0===t?i.create(&quot;operation&quot;,&quot;I can't modulo &quot;+m(e)+&quot; by zero.&quot;):e%t}),&quot;modulus&quot;),&quot;&lt;&quot;:s(o(&quot;number&quot;,a(function(e,t){return t&gt;e}),&quot;do &lt; to&quot;)),&quot;&gt;&quot;:s(o(&quot;number&quot;,a(function(e,t){return e&gt;t}),&quot;do &gt; to&quot;)),&quot;&lt;=&quot;:s(o(&quot;number&quot;,a(function(e,t){return t&gt;=e}),&quot;do &lt;= to&quot;)),&quot;&gt;=&quot;:s(o(&quot;number&quot;,a(function(e,t){return e&gt;=t}),&quot;do &gt;= to&quot;)),is:s(f),isNot:s(function(e,t){return!g.is(e,t)}),contains:s(h),isIn:s(function(e,t){return h(t,e)}),where:function(e,t,n){var r=void 0;return(r=i.containsError(e))?r:&quot;boolean&quot;!=typeof e?i.create(&quot;operation&quot;,&quot;This lambda's 'where' clause must evaluate to true or false, not &quot;+m(e)+&quot;.&quot;):e?t:n},makeSpreader:function(e){return{value:e,spreader:!0}},makeAssignmentRequest:function(e,t,r){var o=i.containsError(e,t);return o?o:u(e)&amp;&amp;&quot;varref&quot;in e?n.create(e,t,r):i.create(&quot;operation&quot;,&quot;I can't store a new value inside &quot;+m(e)+&quot;.&quot;)},setIt:function(e){return i.containsError(e)?e:e.varref?(y=e.get(),e):i.create(&quot;operation&quot;,&quot;I can't put a new value into &quot;+m(e)+&quot;.&quot;)},initialiseIt:function(e){y=e}},Object.freeze(g)}),define(&quot;twinescript/environ&quot;,[&quot;macros&quot;,&quot;state&quot;,&quot;utils&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/lambda&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/twineerror&quot;,&quot;twinescript/operations&quot;],function(Macros,State,Utils,Colour,HookSet,Lambda,VarRef,TwineError,OperationsProto){return function(section){&quot;object&quot;===(&quot;undefined&quot;==typeof section?&quot;undefined&quot;:_typeof(section))&amp;&amp;section||Utils.impossible(&quot;TwineScript.environ&quot;,&quot;no Section argument was given!&quot;);var Operations=OperationsProto.create(section);return section.eval=function(){try{for(var _len5=arguments.length,args=Array(_len5),_key5=0;_len5&gt;_key5;_key5++)args[_key5]=arguments[_key5];return eval(args.join(&quot;&quot;))}catch(e){return e}},section}}),define(&quot;internaltypes/changedescriptor&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;renderer&quot;,&quot;datatypes/hookset&quot;],function(e,t,n,r){var i=t.assertOnlyHas,o=t.impossible,a=t.transitionIn,s=n.exec,u=void 0,c={source:&quot;&quot;,innerSource:&quot;&quot;,enabled:!0,target:null,append:&quot;append&quot;,newTargets:null,transition:&quot;instant&quot;,transitionTime:null,loopVars:null,styles:null,attr:null,data:null,section:null,summary:function(){var e=this;return[&quot;source&quot;,&quot;innerSource&quot;,&quot;enabled&quot;,&quot;target&quot;,&quot;append&quot;,&quot;newTargets&quot;,&quot;transition&quot;,&quot;transitionTime&quot;].filter(function(t){return e.hasOwnProperty(t)}).concat([this.attr.length&amp;&amp;&quot;attr&quot;,this.styles.length&amp;&amp;&quot;styles&quot;,Object.keys(this.loopVars).length&amp;&amp;&quot;loopVars&quot;,Object.keys(this.data).length&amp;&amp;&quot;data&quot;].filter(Boolean))},create:function(e,t){var n=Object.assign(Object.create(this),{attr:[].concat(this.attr||[]),styles:[].concat(this.styles||[]),loopVars:this.loopVars||{},data:this.data||{}},e);return t&amp;&amp;t.run(n),n},update:function(){var e=this,t=this.section,n=this.newTargets,i=this.target,o=function(t){Array.isArray(e.styles)&amp;&amp;e.styles.length&gt;0&amp;&amp;setTimeout(function(){return t.css(Object.assign.apply(Object,_toConsumableArray([{}].concat(e.styles))))}),e.attr&amp;&amp;e.attr.forEach(function(e){return t.attr(e)}),e.data&amp;&amp;t.data(e.data)};Array.isArray(n)&amp;&amp;n.length&amp;&amp;(i=n.map(function(e){return e.target})),[].concat(i).forEach(function(e){r.isPrototypeOf(e)?e.forEach(t,o):o(e)})},render:function(){var t=this,n=this.source,l=this.transition,f=this.transitionTime,p=this.enabled,d=this.section,h=this.newTargets,m=this.target,g=this.append;if(i(this,u),!p||void 0!==m.popAttr(&quot;hidden&quot;))return c.create({target:m,data:{hiddenSource:n}}).update(),e();if(Array.isArray(h)&amp;&amp;h.length&amp;&amp;(m=h),!m)return o(&quot;ChangeDescriptor.render&quot;,&quot;ChangeDescriptor has source but not a target!&quot;),e();var y=e(),v=function(e){return function(n){y=y.add(t.create({target:n,append:e,newTargets:null}).render())}};if([].concat(m).forEach(function t(n,i,o){var a=arguments.length&gt;3&amp;&amp;void 0!==arguments[3]?arguments[3]:g;r.isPrototypeOf(n)?n.forEach(d,v(a)):n.jquery&amp;&amp;n.length&gt;1?Array.from(n).map(e).forEach(v(a)):n.target&amp;&amp;n.append&amp;&amp;t(n.target,i,o,n.append)}),y.length||Array.isArray(m)||r.isPrototypeOf(m))return y;if(!(g in m)){if(&quot;replace&quot;!==g)return o(&quot;Section.render&quot;,&quot;The target doesn't have a '&quot;+g+&quot;' method.&quot;),e();m.empty(),g=&quot;append&quot;}return y=e(n&amp;&amp;e.parseHTML(s(n),document,!0)),m[g](y.length?y:void 0),this.update(),l&amp;&amp;a(&quot;replace&quot;===g?m:y,l,f),y}};return u=Object.keys(c),Object.seal(c)}),define(&quot;internaltypes/twinenotifier&quot;,[&quot;jquery&quot;,&quot;utils&quot;],function(e,t){var n=t.impossible,r={create:function(e){return e||n(&quot;TwineNotifier.create&quot;,&quot;called with only 1 string.&quot;),Object.assign(Object.create(r),{message:e})},render:function(){return e(&quot;&lt;tw-notifier&gt;&quot;).attr(&quot;message&quot;,this.message)}};return r}),define(&quot;section&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;renderer&quot;,&quot;twinescript/environ&quot;,&quot;twinescript/operations&quot;,&quot;state&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/changercommand&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/colour&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;internaltypes/varscope&quot;,&quot;internaltypes/twineerror&quot;,&quot;internaltypes/twinenotifier&quot;],function(e,t,n,r,i,o,a,s,u,c,l,f,p,d,h){function m(e,n,r){if(n&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof n?&quot;undefined&quot;:_typeof(n))&amp;&amp;n.changer){var i=this.renderInto(r.popAttr(&quot;source&quot;),r,n);if(!i){var o=t.insensitiveName(e.attr(&quot;name&quot;));return void([&quot;if&quot;,&quot;elseif&quot;,&quot;unless&quot;,&quot;else&quot;].includes(o)&amp;&amp;(e.addClass(&quot;false&quot;),&quot;elseif&quot;!==o&amp;&amp;(this.stack[0].lastHookShown=!1)))}}else if(n&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof n?&quot;undefined&quot;:_typeof(n))&amp;&amp;n.live)x.call(this,r,n.delay,n.event);else{if(n===!1)return r.attr(&quot;source&quot;)&amp;&amp;r.data(&quot;hiddenSource&quot;,r.popAttr(&quot;source&quot;)),e.addClass(&quot;false&quot;),void(this.stack[0].lastHookShown=!1);n!==!0&amp;&amp;e.replaceWith(d.create(&quot;datatype&quot;,O(n)+&quot; cannot be attached to this hook.&quot;,&quot;Only Booleans, changer commands, and the (live:) macro can be attached to hooks.&quot;).render(e.attr(&quot;title&quot;)))}this.stack[0].lastHookShown=!0}function g(t){var n=t instanceof e?t[0]:t,r=n.nextSibling;if(r&amp;&amp;(r instanceof Text&amp;&amp;!r.textContent.trim()||&quot;br&quot;===(r.tagName||&quot;&quot;).toLowerCase())){var i=g(r),o=i.whitespace,a=i.nextElem;return{whitespace:e(r).add(o),nextElem:a}}return{whitespace:e(),nextElem:e(r)}}function y(r){var i=this.eval(r.popAttr(&quot;js&quot;)||&quot;&quot;),a=void 0,s=void 0,c=e();for(s=r;u.isPrototypeOf(i);){var f=g(s);if(a=f.whitespace,s=f.nextElem,s[0]instanceof Text&amp;&amp;&quot;+&quot;===s[0].textContent.trim()){var p=void 0,y=s,v=g(y);if(p=v.whitespace,s=v.nextElem,s.is(n.expression)){var b=this.eval(s.popAttr(&quot;js&quot;));if(d.containsError(b)){i=b;break}var w=o[&quot;+&quot;](i,b);e(a).add(y).add(p).remove(),i=d.containsError(w)?d.create(&quot;operation&quot;,&quot;I can't combine &quot;+O(i)+&quot; with &quot;+O(b)+&quot;.&quot;):w;continue}}if(s.is(n.hook)){a.remove(),c=s;break}r.replaceWith(d.create(&quot;syntax&quot;,&quot;The (&quot;+i.macroName+&quot;:) command should be assigned to a variable or attached to a hook.&quot;,&quot;Macros like this should appear to the left of a hook: &quot;+r.attr(&quot;title&quot;)+&quot;[Some text]&quot;).render(r.attr(&quot;title&quot;)));break}c=c.length?c:g(r).nextElem.filter(n.hook);var x=void 0;if(x=d.containsError(i))x instanceof Error&amp;&amp;(x=d.fromError(x)),r.replaceWith(x.render(r.attr(&quot;title&quot;),r));else if(h.isPrototypeOf(i))r.append(i.render());else if(!c.length&amp;&amp;(&quot;string&quot;==typeof i||&quot;number&quot;==typeof i||i instanceof Map||i instanceof Set||Array.isArray(i)||l.isPrototypeOf(i))||i&amp;&amp;i.TwineScript_Print&amp;&amp;!i.changer){if(i=T(i),i.earlyExit)return&quot;earlyexit&quot;;i instanceof e?r.append(i):d.containsError(i)?(i instanceof Error&amp;&amp;(i=d.fromError(i)),r.replaceWith(i.render(r.attr(&quot;title&quot;),r))):this.renderInto(i,r)}else c.length?m.call(this,r,i,c):i.changer||&quot;boolean&quot;==typeof i||t.impossible(&quot;Section.runExpression&quot;,&quot;The expression evaluated to an unknown value: &quot;+i.toSource())}function v(e){var t=e.first()[0],n=e.parent();if(!n.length)return null;var r=n.textNodes().filter(function(e){var n=e.compareDocumentPosition(t);return 4&amp;n&amp;&amp;!(8&amp;n)});return r=r[r.length-1],r?r:v(n)}function b(e){var t=e.last()[0],n=e.parent();if(!n.length)return null;var r=n.textNodes().filter(function(e){var n=e.compareDocumentPosition(t);return 2&amp;n&amp;&amp;!(8&amp;n)})[0];return r?r:b(n)}function w(t){function n(t){return 0===e(this||t).parentsUntil(&quot;tw-collapsed&quot;).filter(&quot;tw-verbatim, tw-expression, [collapsing=false]&quot;).length}var r=v(t);e(r).parents(&quot;tw-collapsed&quot;).length||(r=null);var i=b(t);e(i).parents(&quot;tw-collapsed&quot;).length||(i=null),t.findAndFilter(&quot;br:not([data-raw])&quot;).filter(n).replaceWith(document.createTextNode(&quot; &quot;));var o=t.textNodes(),a=0;o.reduce(function(e,t){return n(t)?(t.textContent=t.textContent.replace(/\s+/g,&quot; &quot;),&quot; &quot;!==t.textContent[0]||e&amp;&amp;e.textContent&amp;&amp;!(e.textContent.search(/\s$/)&gt;-1)||(t.textContent=t.textContent.slice(1)),t):document.createTextNode(&quot;A&quot;)},r),[].concat(_toConsumableArray(o)).reverse().every(function(e){return n(e)?e.textContent.match(/^\s*$/)?(a+=e.textContent.length,e.textContent=&quot;&quot;,!0):(e.textContent=e.textContent.replace(/\s+$/,function(e){return a+=e.length,&quot;&quot;}),!1):!1}),a&gt;0&amp;&amp;i&amp;&amp;(o[o.length-1].textContent+=&quot; &quot;),t[0]&amp;&amp;j()&amp;&amp;t[0].normalize();

}function x(e,t){var r=this,i=e.popAttr(&quot;source&quot;)||&quot;&quot;;t=void 0===t?20:t;var o=function o(){r.inDOM()&amp;&amp;(r.renderInto(i,e,{append:&quot;replace&quot;}),e.find(n.expression+&quot;[name='stop']&quot;).length||r.inDOM()&amp;&amp;setTimeout(o,t))};setTimeout(o,t)}var T=s.printBuiltinValue,O=s.objectName,S=void 0,j=function(){var t=void 0;return function(){if(void 0!==t)return t;var n=e(&quot;&lt;p&gt;&quot;);return n[0].normalize?(n.append(document.createTextNode(&quot;0-&quot;),document.createTextNode(&quot;2&quot;),document.createTextNode(&quot;&quot;))[0].normalize(),t=1===n.contents().length):t=!1}}();return S={create:function(n){n instanceof e&amp;&amp;1===n.length||t.impossible(&quot;Section.create&quot;,&quot;called with no DOM element&quot;);var r=Object.assign(Object.create(this),{timestamp:Date.now(),dom:n||t.storyElement,stack:[],enchantments:[]});return r=i(r)},inDOM:function(){return e(t.storyElement).find(this.dom).length&gt;0},evaluateTwineMarkup:function(t){var n=e(&quot;&lt;p&gt;&quot;);this.renderInto(t,n);var r=void 0;return(r=n.find(&quot;tw-error&quot;)).length&gt;0?r:n.text()},renderInto:function(t,r){for(var i=this,o=f.create({target:r,source:t,section:this}),a=arguments.length,s=Array(a&gt;2?a-2:0),u=2;a&gt;u;u++)s[u-2]=arguments[u];s.forEach(function(e){e.changer?e.run(o):Object.assign(o,e)}),this.stack.length&gt;=50&amp;&amp;d.create(&quot;infinite&quot;,&quot;Printing this expression may have trapped me in an infinite loop.&quot;).render(r.attr(&quot;title&quot;)).replaceAll(r);var c=function(t,o){var a=t.render();i.stack.unshift(o);var s=i;a.findAndFilter(n.hook+&quot;,&quot;+n.expression).each(function(){var t=e(this);switch(t.tag()){case n.hook:if(t.attr(&quot;hidden&quot;)&amp;&amp;(t.removeAttr(&quot;hidden&quot;),t.data(&quot;hiddenSource&quot;,t.popAttr(&quot;source&quot;))),t.attr(&quot;source&quot;)&amp;&amp;s.renderInto(t.popAttr(&quot;source&quot;),t),t.find(&quot;[earlyexit]&quot;).length)return!1;break;case n.expression:if(t.attr(&quot;js&quot;)){var r=y.call(s,t);return&quot;earlyexit&quot;===r?(a.attr(&quot;earlyexit&quot;,!0),!1):r}}}),a.length&amp;&amp;r instanceof e&amp;&amp;r.is(n.hook)&amp;&amp;r.parents(&quot;tw-collapsed&quot;).length&gt;0&amp;&amp;w(a),a.findAndFilter(n.collapsed).each(function(){w(e(this))}),i.stack.shift()},l=Object.create(this.stack.length?this.stack[0].tempVariables:p);return Object.keys(o.loopVars).length?!function(){for(var e=Object.assign({},o.loopVars),t=Math.min.apply(Math,_toConsumableArray(Object.keys(e).map(function(t){return e[t].length})));t&gt;0;t-=1)c(o,{tempVariables:Object.keys(e).reduce(function(t,n){return t[n]=e[n].shift(),t},Object.create(l))})}():c(o,{tempVariables:l}),0===this.stack.length&amp;&amp;this.updateEnchantments(),o.enabled},updateEnchantments:function(){this.enchantments.forEach(function(e){e.disenchant(),e.enchantScope()})}},Object.preventExtensions(S)}),define(&quot;engine&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;state&quot;,&quot;section&quot;,&quot;passages&quot;],function(e,t,n,r,i,o){function a(){var t=e(&quot;&lt;tw-passage&gt;&lt;tw-sidebar&gt;&quot;),i=t.children(n.sidebar);h.permalink&amp;&amp;r.save&amp;&amp;i.append('&lt;tw-icon tabindex=0 class=&quot;permalink&quot; title=&quot;Permanent link to this passage&quot;&gt;&lt;a href=&quot;#'+r.save()+'&quot;&gt;&amp;sect;');var o=e('&lt;tw-icon tabindex=0 class=&quot;undo&quot; title=&quot;Undo&quot;&gt;&amp;#8630;&lt;/tw-icon&gt;').click(d.goBack),a=e('&lt;tw-icon tabindex=0 class=&quot;redo&quot; title=&quot;Redo&quot;&gt;&amp;#8631;&lt;/tw-icon&gt;').click(d.goForward);return r.pastLength&lt;=0&amp;&amp;o.css(&quot;visibility&quot;,&quot;hidden&quot;),r.futureLength&lt;=0&amp;&amp;a.css(&quot;visibility&quot;,&quot;hidden&quot;),i.append(o).append(a),t}function s(e,t){return&quot;&lt;tw-include type=&quot;+e+&quot; title='&quot;+c(t.get(&quot;name&quot;))+&quot;'&gt;&quot;+t.get(&quot;source&quot;)+&quot;&lt;/tw-include&gt;&quot;}function u(u){var c=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:{};t.assertOnlyHas(c,[&quot;stretch&quot;,&quot;transitionIn&quot;,&quot;transitionOut&quot;]);var d=o.get(u),m=t.storyElement,g=m.parent(),y=c.stretch,v=c.transitionOut,b=c.transitionIn;if(v=v||&quot;instant&quot;,g.is(n.enchantment)){var w=g.data(&quot;enchantedProperties&quot;);console.log(w),w&amp;&amp;m.css(w.reduce(function(e,t){return e[t]=&quot;&quot;,e},{})),g=m.unwrap().parent()}d&amp;&amp;d instanceof Map&amp;&amp;d.has(&quot;source&quot;)||l(&quot;Engine.showPassage&quot;,&quot;There's no passage with the name \&quot;&quot;+u+'&quot;!'),m.detach();var x=t.$(m.children(f));!y&amp;&amp;v&amp;&amp;(p(x,v),x.css(&quot;position&quot;,&quot;absolute&quot;));var T=(d.get(&quot;tags&quot;)||[]).join(&quot; &quot;),O=a().appendTo(m).attr({tags:T});m.attr({tags:T});var S=i.create(O),j=d.get(&quot;source&quot;);j=o.getTagged(&quot;header&quot;).map(s.bind(0,&quot;header&quot;)).join(&quot;&quot;)+(h.debug?o.getTagged(&quot;debug-header&quot;).map(s.bind(0,&quot;debug-header&quot;)).join(&quot;&quot;):&quot;&quot;)+j+o.getTagged(&quot;footer&quot;).map(s.bind(0,&quot;footer&quot;)).join(&quot;&quot;)+(h.debug?o.getTagged(&quot;debug-footer&quot;).map(s.bind(0,&quot;debug-footer&quot;)).join(&quot;&quot;):&quot;&quot;),r.pastLength&lt;=0&amp;&amp;(h.debug&amp;&amp;(j=o.getTagged(&quot;debug-startup&quot;).map(s.bind(0,&quot;debug-startup&quot;)).join(&quot;&quot;)+j),j=o.getTagged(&quot;startup&quot;).map(s.bind(0,&quot;startup&quot;)).join(&quot;&quot;)+j),S.renderInto(j,O,{transition:b||&quot;dissolve&quot;}),g.append(m.parents().length?m.parents().last():m),scroll(0,y?O.offset().top-.05*e(window).height():m.offset().top)}var c=t.escape,l=t.impossible,f=t.passageSelector,p=t.transitionOut,d=void 0,h=Object.create(null);return d={goBack:function(){r.rewind()&amp;&amp;u(r.passage)},goForward:function(){r.fastForward()&amp;&amp;u(r.passage)},goToPassage:function(e,t){r.play(e),u(e,{stretch:t})},showPassage:u,options:h},Object.freeze(d)}),define(&quot;debugmode&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;state&quot;,&quot;internaltypes/varref&quot;,&quot;utils/operationutils&quot;,&quot;engine&quot;],function(e,t,n,r,i,o)return function(){function t(t,n){var r=l.children('[data-name=&quot;'+t+'&quot;]'),i=a(n);r.length||(r=e('&lt;div class=&quot;variable-row&quot; data-name=&quot;'+t+'&quot; data-value=&quot;'+i+'&quot;&gt;&lt;/div&gt;').appendTo(l)),r.empty().append(&quot;&lt;span class='variable-name'&gt;&quot;+t+&quot;&lt;/span&gt;&lt;span class='variable-value'&gt;&quot;+a(n)+&quot;&lt;/span&gt;&quot;)}function i(){var r=[];l.children().each(function(i,o){o=e(o);var s=o.attr(&quot;data-name&quot;),u=o.attr(&quot;data-value&quot;);s.startsWith(&quot;TwineScript&quot;)||(s in n.variables?(r.push(s),a(n.variables[s])!==u&amp;&amp;t(s,n.variables[s])):o.remove())});for(var i in n.variables)i.startsWith(&quot;TwineScript&quot;)||r.includes(i)||t(i,n.variables[i])}var s=e(&quot;&lt;tw-debugger&gt;&lt;div class='variables'&gt;&lt;/div&gt;Turns: &lt;select disabled&gt;&lt;/select&gt;&lt;button class='show-invisibles'&gt;&amp;#9903; Debug View&lt;/button&gt;&lt;/tw-debugger&gt;&quot;),u=s.find(&quot;.show-invisibles&quot;);u.click(function(){e(document.documentElement).toggleClass(&quot;debug-mode&quot;)});var c=s.find(&quot;select&quot;);c.change(function(e){var t=e.target.value,r=t-n.pastLength;0!==r&amp;&amp;(n[0&gt;r?&quot;rewind&quot;:&quot;fastForward&quot;](Math.abs(r)),o.showPassage(n.passage))}),n.on(&quot;forward&quot;,function(t){var r=arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:!1,i=n.pastLength;i&gt;1&amp;&amp;c.removeAttr(&quot;disabled&quot;),r||(c.children().each(function(t,n){t&gt;=i&amp;&amp;e(n).remove()}),c.append(&quot;&lt;option value=&quot;+i+&quot;&gt;&quot;+(i+1)+&quot;: &quot;+t+&quot;&lt;/option&gt;&quot;).val(i))}).on(&quot;back&quot;,function(){n.pastLength&lt;=1&amp;&amp;c.attr(&quot;disabled&quot;),c.find(&quot;[selected]&quot;).removeAttr(&quot;selected&quot;),c.val(n.pastLength)}).on(&quot;load&quot;,function(e){c.empty(),c[e.length&lt;=1?&quot;attr&quot;:&quot;removeAttr&quot;](&quot;disabled&quot;),e.forEach(function(e,t){return c.append(&quot;&lt;option value=&quot;+t+&quot;&gt;&quot;+(t+1)+&quot;: &quot;+e.passage+&quot;&lt;/option&gt;&quot;)})});var l=s.find(&quot;.variables&quot;);n.on(&quot;forward&quot;,i).on(&quot;back&quot;,i),r.on(&quot;set&quot;,function(e,r,i){e===n.variables&amp;&amp;t(r,i)}).on(&quot;delete&quot;,function(e,t){e===n.variables&amp;&amp;l.find('[data-name=&quot;'+t+'&quot;]').remove()}),e(document.body).append(s)}}),define(&quot;macrolib/values&quot;,[&quot;macros&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/colour&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i){function o(e){return function(t){var n=e.apply(void 0,_toConsumableArray(t));return&quot;number&quot;!=typeof n||isNaN(n)?i.create(&quot;macrocall&quot;,&quot;This mathematical expression doesn't compute!&quot;):n}}var a=t.realWhitespace,s=t.anyRealLetter,u=n.subset,c=n.objectName,l=e.TypeSignature,f=l.rest,p=l.zeroOrMore,d=l.Any;e.add([&quot;text&quot;,&quot;string&quot;],function(){for(var e=arguments.length,t=Array(e&gt;1?e-1:0),n=1;e&gt;n;n++)t[n-1]=arguments[n];return t.join(&quot;&quot;)},[p(e.TypeSignature.either(String,Number,Boolean,Array))])(&quot;substring&quot;,function(e,t,n,r){return u(t,n,r)},[String,parseInt,parseInt])(&quot;lowercase&quot;,function(e,t){return t.toLowerCase()},[String])(&quot;uppercase&quot;,function(e,t){return t.toUpperCase()},[String])(&quot;lowerfirst&quot;,function(e,t){return t.replace(new RegExp(s+&quot;+&quot;),function(e){return e=Array.from(e),e[0].toLowerCase()+e.slice(1).join(&quot;&quot;).toLowerCase()})},[String])(&quot;upperfirst&quot;,function(e,t){return t.replace(new RegExp(s+&quot;+&quot;),function(e){return e=Array.from(e),e[0].toUpperCase()+e.slice(1).join(&quot;&quot;).toLowerCase()})},[String])(&quot;words&quot;,function(e,t){return t.split(new RegExp(a+&quot;+&quot;)).filter(Boolean)},[String])([&quot;num&quot;,&quot;number&quot;],function(e,t){return Number.isNaN(+t)?i.create(&quot;macrocall&quot;,&quot;I couldn't convert &quot;+c(t)+&quot; to a number.&quot;):+t},[String])(&quot;rgb&quot;,function(){for(var e,t=0;t&lt;(arguments.length&lt;=1?0:arguments.length-1);t+=1)if(e=arguments.length&lt;=t+1?void 0:arguments[t+1],0&gt;e||e&gt;255)return i.create(&quot;macrocall&quot;,&quot;RGB values must be whole numbers between 0 and 255, not &quot;+c(e)+&quot;.&quot;);return r.create({r:arguments.length&lt;=1?void 0:arguments[1],g:arguments.length&lt;=2?void 0:arguments[2],b:arguments.length&lt;=3?void 0:arguments[3]})},[parseInt,parseInt,parseInt])(&quot;rgba&quot;,function(){for(var e,t=0;3&gt;t;t+=1)if(e=arguments.length&lt;=t+1?void 0:arguments[t+1],0&gt;e||e&gt;255)return i.create(&quot;macrocall&quot;,&quot;RGB values must be whole numbers between 0 and 255, not &quot;+c(e)+&quot;.&quot;);return(arguments.length&lt;=4?void 0:arguments[4])&lt;0||(arguments.length&lt;=4?void 0:arguments[4])&gt;1?i.create(&quot;macrocall&quot;,&quot;Alpha values must be numbers between 0 and 1 inclusive, not &quot;+c(arguments.length&lt;=4?void 0:arguments[4])+&quot;.&quot;):r.create({r:arguments.length&lt;=1?void 0:arguments[1],g:arguments.length&lt;=2?void 0:arguments[2],b:arguments.length&lt;=3?void 0:arguments[3],a:arguments.length&lt;=4?void 0:arguments[4]})},[parseInt,parseInt,parseInt,Number])(&quot;hsl&quot;,function(e,t,n,o){var a=&quot; values must be numbers between 0 and 1 inclusive, not &quot;;return 0&gt;n||n&gt;1?i.create(&quot;macrocall&quot;,&quot;Saturation&quot;+a+c(n)+&quot;.&quot;):0&gt;o||o&gt;1?i.create(&quot;macrocall&quot;,&quot;Lightness&quot;+a+c(o)+&quot;.&quot;):(t=Math.round(t)%360,0&gt;t&amp;&amp;(t+=360),r.create({h:t,s:n,l:o}))},[Number,Number,Number])(&quot;hsla&quot;,function(e,t,n,o,a){var s=&quot; values must be numbers between 0 and 1 inclusive, not &quot;;return 0&gt;n||n&gt;1?i.create(&quot;macrocall&quot;,&quot;Saturation&quot;+s+c(n)+&quot;.&quot;):0&gt;o||o&gt;1?i.create(&quot;macrocall&quot;,&quot;Lightness&quot;+s+c(o)+&quot;.&quot;):0&gt;a||a&gt;1?i.create(&quot;macrocall&quot;,&quot;Alpha&quot;+s+c(o)+&quot;.&quot;):(t=Math.round(t)%360,0&gt;t&amp;&amp;(t+=360),r.create({h:t,s:n,l:o,a:a}))},[Number,Number,Number,Number]),{weekday:[function(){return[&quot;Sun&quot;,&quot;Mon&quot;,&quot;Tues&quot;,&quot;Wednes&quot;,&quot;Thurs&quot;,&quot;Fri&quot;,&quot;Satur&quot;][(new Date).getDay()]+&quot;day&quot;},null],monthday:[function(){return(new Date).getDate()},null],currenttime:[function(){var e=new Date,t=e.getHours()&lt;12,n=e.getHours()%12||12,r=(e.getMinutes()&lt;10?&quot;0&quot;:&quot;&quot;)+e.getMinutes();return n+&quot;:&quot;+r+&quot; &quot;+(t?&quot;A&quot;:&quot;P&quot;)+&quot;M&quot;},null],currentdate:[function(){return(new Date).toDateString()},null],min:[Math.min,f(Number)],max:[Math.max,f(Number)],abs:[Math.abs,Number],sign:[Math.sign,Number],sin:[Math.sin,Number],cos:[Math.cos,Number],tan:[Math.tan,Number],floor:[Math.floor,Number],round:[Math.round,Number],ceil:[Math.ceil,Number],pow:[o(Math.pow),Number,Number],exp:[Math.exp,Number],sqrt:[o(Math.sqrt),Number],log:[o(Math.log),Number],log10:[o(Math.log10),Number],log2:[o(Math.log2),Number],random:[function(e,t){var n=void 0,r=void 0;return t?(n=Math.min(e,t),r=Math.max(e,t)):(n=0,r=e),r+=1,~~(Math.random()*(r-n))+n},[parseInt,e.TypeSignature.optional(parseInt)]],either:[function(){var e;return e=~~(Math.random()*arguments.length),arguments.length&lt;=e?void 0:arguments[e]},f(d)],&quot;&quot;:function(){var t=this;Object.keys(this).forEach(function(n){n&amp;&amp;!function(){var r=t[n][0],i=t[n][1];e.add(n,function(){for(var e=arguments.length,t=Array(e&gt;1?e-1:0),n=1;e&gt;n;n++)t[n-1]=arguments[n];return r.apply(void 0,t)},i)}()})}}[&quot;&quot;]()}),function(e){!function(){if(!e.requestAnimationFrame){if(e.webkitRequestAnimationFrame)return e.requestAnimationFrame=e.webkitRequestAnimationFrame,void(e.cancelAnimationFrame=e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame);var t=0;e.requestAnimationFrame=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=e.setTimeout(function(){n(r+i)},i);return t=r+i,o},e.cancelAnimationFrame=function(e){clearTimeout(e)}}}(),&quot;function&quot;==typeof define&amp;&amp;define(&quot;requestAnimationFrame&quot;,[],function(){return e.requestAnimationFrame})}(window),define(&quot;macrolib/commands&quot;,[&quot;requestAnimationFrame&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;state&quot;,&quot;passages&quot;,&quot;engine&quot;,&quot;internaltypes/twineerror&quot;,&quot;datatypes/hookset&quot;,&quot;utils/operationutils&quot;],function(e,t,n,r,i,o,a,s,u){function c(e){return&quot;(&quot;+e+&quot; &quot;+o.options.ifid+&quot;) &quot;}var l=n.toJSLiteral,f=n.unescape,p=u.printBuiltinValue,d=t.TypeSignature,h=d.Any,m=d.rest,g=d.optional,y=!!localStorage&amp;&amp;function(){try{return localStorage.setItem(&quot;test&quot;,&quot;1&quot;),localStorage.removeItem(&quot;test&quot;),!0}catch(e){return!1}}();t.add(&quot;display&quot;,function(e,t){return{TwineScript_ObjectName:&quot;a (display: &quot;+l(t)+&quot;) command&quot;,TwineScript_TypeName:&quot;a (display:) command&quot;,TwineScript_Print:function(){return i.has(t)?f(i.get(t).get(&quot;source&quot;)):a.create(&quot;macrocall&quot;,&quot;I can't (display:) the passage '&quot;+t+&quot;' because it doesn't exist.&quot;)}}},[String])(&quot;print&quot;,function(e,t){return{TwineScript_ObjectName:&quot;a (print:) command&quot;,TwineScript_TypeName:&quot;a (print:) command&quot;,TwineScript_Print:function(){return p(t)}}},[h])(&quot;show&quot;,function(e){for(var t=arguments.length,n=Array(t&gt;1?t-1:0),r=1;t&gt;r;r++)n[r-1]=arguments[r];return{TwineScript_ObjectName:&quot;a (show:) command&quot;,TwineScript_TypeName:&quot;a (show:) command&quot;,TwineScript_Print:function(){return n.forEach(function(t){return t.forEach(e,function(t){var n=t.data(&quot;hiddenSource&quot;);return void 0===n?a.create(&quot;operation&quot;,&quot;I can't reveal a hook which is already visible.&quot;):void e.renderInto(n,t)})}),&quot;&quot;}}},[m(s)])(&quot;goto&quot;,function(t,n){return{TwineScript_ObjectName:&quot;a (go-to: &quot;+l(n)+&quot;) command&quot;,TwineScript_TypeName:&quot;a (go-to:) command&quot;,TwineScript_Print:function(){return i.has(n)?(e(function(){return o.goToPassage(n)}),{earlyExit:1}):a.create(&quot;macrocall&quot;,&quot;I can't (go-to:) the passage '&quot;+n+&quot;' because it doesn't exist.&quot;)}}},[String])(&quot;goto-transition&quot;,function(t,n,r){return{TwineScript_ObjectName:&quot;a (goto-transition: &quot;+l(n)+&quot;,&quot;+l(r)+&quot;) command&quot;,TwineScript_TypeName:&quot;a (goto-transition:) command&quot;,TwineScript_Print:function(){return i.has(n)?(e(function(){return o.goToPassage(n,{transitionIn:r,transitionOut:r})}),{earlyExit:1}):a.create(&quot;macrocall&quot;,&quot;I can't (goto-transition:) the passage '&quot;+r+&quot;' because it doesn't exist.&quot;)}}},[String,String])(&quot;undo&quot;,function(){return{TwineScript_ObjectName:&quot;a (undo:) command&quot;,TwineScript_TypeName:&quot;a (undo:) command&quot;,TwineScript_Print:function(){return r.pastLength&lt;1?a.create(&quot;macrocall&quot;,&quot;I can't (undo:) on the first turn.&quot;):(e(function(){return o.goBack()}),{earlyExit:1})}}},[])(&quot;live&quot;,function(e,t){return{TwineScript_ObjectName:&quot;a (live: &quot;+t+&quot;) command&quot;,TwineScript_TypeName:&quot;a (live:) command&quot;,live:!0,delay:t}},[g(Number)])(&quot;stop&quot;,function(){return{TwineScript_ObjectName:&quot;a (stop:) command&quot;,TwineScript_TypeName:&quot;a (stop:) command&quot;,TwineScript_Print:function(){return&quot;&quot;}}},[])(&quot;savegame&quot;,function(e,t,n){if(n=n||&quot;&quot;,!y)return!1;var i=r.serialise();if(a.containsError(i))return i;try{return localStorage.setItem(c(&quot;Saved Game&quot;)+t,i),localStorage.setItem(c(&quot;Saved Game Filename&quot;)+t,n),!0}catch(e){return!1}},[String,g(String)])(&quot;loadgame&quot;,function(t,n){return{TwineScript_ObjectName:&quot;a (load-game:) command&quot;,TwineScript_TypeName:&quot;a (load-game:) command&quot;,TwineScript_Print:function(){var t=localStorage.getItem(c(&quot;Saved Game&quot;)+n);return t?(r.deserialise(t),e(o.showPassage.bind(o,r.passage,!1)),{earlyExit:1}):a.create(&quot;saving&quot;,&quot;I can't find a save slot named '&quot;+n+&quot;'!&quot;)}}},[String])(&quot;alert&quot;,function(e,t){return{TwineScript_ObjectName:&quot;an (alert:) command&quot;,TwineScript_TypeName:&quot;an (alert:) command&quot;,TwineScript_Print:function(){return window.alert(t),&quot;&quot;}}},[String])(&quot;prompt&quot;,function(e,t,n){return window.prompt(t,n)||&quot;&quot;},[String,String])(&quot;confirm&quot;,function(e,t){return window.confirm(t)},[String])(&quot;openURL&quot;,function(e,t){return{TwineScript_ObjectName:&quot;an (open-url:) command&quot;,TwineScript_TypeName:&quot;an (open-url:) command&quot;,TwineScript_Print:function(){return window.open(t,&quot;&quot;),&quot;&quot;}}},[String])(&quot;reload&quot;,function(){return{TwineScript_ObjectName:&quot;a (reload:) command&quot;,TwineScript_TypeName:&quot;a (reload:) command&quot;,TwineScript_Print:function(){return r.pastLength&lt;1?a.create(&quot;infinite&quot;,&quot;I mustn't (reload:) the page in the starting passage.&quot;):(window.location.reload(),{earlyExit:1})}}},[])(&quot;gotoURL&quot;,function(e,t){return{TwineScript_ObjectName:&quot;a (goto-url:) command&quot;,TwineScript_TypeName:&quot;a (goto-url:) command&quot;,TwineScript_Print:function(){return window.location.assign(t),{earlyExit:1}}}},[String])(&quot;pageURL&quot;,function(){return window.location.href},[])}),define(&quot;macrolib/datastructures&quot;,[&quot;jquery&quot;,&quot;utils/naturalsort&quot;,&quot;macros&quot;,&quot;utils/operationutils&quot;,&quot;state&quot;,&quot;engine&quot;,&quot;passages&quot;,&quot;datatypes/lambda&quot;,&quot;datatypes/assignmentrequest&quot;,&quot;internaltypes/twineerror&quot;,&quot;internaltypes/twinenotifier&quot;],function(e,t,n,r,i,o,a,s,u,c,l){var f=r.objectName,p=(r.typeName,r.subset),d=r.collectionType,h=r.isValidDatamapName,m=r.is,g=r.unique,y=r.clone,v=n.TypeSignature,b=v.optional,w=v.rest,x=v.either,T=v.zeroOrMore,O=v.Any;n.add(&quot;set&quot;,function(){for(var e=&quot;&quot;,t=0;t&lt;(arguments.length&lt;=1?0:arguments.length-1);t+=1){var n=arguments.length&lt;=t+1?void 0:arguments[t+1];if(&quot;into&quot;===n.operator)return c.create(&quot;macrocall&quot;,&quot;Please say 'to' when using the (set:) macro.&quot;);var r=void 0;if(n.src&amp;&amp;n.src.varref){var i=n.src.get(),a=void 0;if(a=c.containsError(i))return a;r=n.dest.set(i)}else r=n.dest.set(n.src);if(c.isPrototypeOf(r))return r;o.options.debug&amp;&amp;(e+=(e?&quot;; &quot;:&quot;&quot;)+f(n.dest)+&quot; is now &quot;+f(n.src))}return{TwineScript_TypeName:&quot;a (set:) operation&quot;,TwineScript_ObjectName:&quot;a (set:) operation&quot;,TwineScript_Unstorable:!0,TwineScript_Print:function(){return e&amp;&amp;l.create(e).render()}}},[w(u)])(&quot;put&quot;,function(){for(var e=&quot;&quot;,t=0;t&lt;(arguments.length&lt;=1?0:arguments.length-1);t+=1){var n=arguments.length&lt;=t+1?void 0:arguments[t+1];if(&quot;into&quot;!==n.operator)return c.create(&quot;macrocall&quot;,&quot;Please say 'into' when using the (put:) macro.&quot;);var r=n.dest.set(n.src);if(c.isPrototypeOf(r))return r;o.options.debug&amp;&amp;(e+=(e?&quot;; &quot;:&quot;&quot;)+f(n.dest)+&quot; is now &quot;+f(n.src))}return{TwineScript_TypeName:&quot;a (put:) operation&quot;,TwineScript_ObjectName:&quot;a (put:) operation&quot;,TwineScript_Unstorable:!0,TwineScript_Print:function(){return e&amp;&amp;l.create(e).render()}}},[w(u)])(&quot;move&quot;,function(){for(var e=&quot;&quot;,t=0;t&lt;(arguments.length&lt;=1?0:arguments.length-1);t+=1){var n=arguments.length&lt;=t+1?void 0:arguments[t+1];if(&quot;into&quot;!==n.operator)return c.create(&quot;macrocall&quot;,&quot;Please say 'into' when using the (move:) macro.&quot;);var r=void 0,i=void 0;if(n.src&amp;&amp;n.src.varref){var a=n.src.get();if(i=c.containsError(a))return i;if(r=n.dest.set(a),i=c.containsError(r))return i;n.src.delete()}else if(r=n.dest.set(n.src),i=c.containsError(r))return i;o.options.debug&amp;&amp;(e+=(e?&quot;; &quot;:&quot;&quot;)+f(n.dest)+&quot; is now &quot;+f(n.src))}return{TwineScript_TypeName:&quot;a (move:) operation&quot;,TwineScript_ObjectName:&quot;a (move:) operation&quot;,TwineScript_Unstorable:!0,TwineScript_Print:function(){return e&amp;&amp;l.create(e).render()}}},[w(u)])([&quot;a&quot;,&quot;array&quot;],function(){for(var e=arguments.length,t=Array(e&gt;1?e-1:0),n=1;e&gt;n;n++)t[n-1]=arguments[n];return t},T(O))(&quot;range&quot;,function e(t,n,r){if(n&gt;r)return e(t,r,n);var i=[n];for(r-=n;r--&gt;0;)i.push(++n);return i},[parseInt,parseInt])(&quot;subarray&quot;,function(e,t,n,r){return p(t,n,r)},[Array,parseInt,parseInt])(&quot;shuffled&quot;,function(){for(var e=arguments.length,t=Array(e&gt;1?e-1:0),n=1;e&gt;n;n++)t[n-1]=arguments[n];return t.reduce(function(e,t,n){var r=Math.random()*(n+1)|0;return r===n?e.push(t):(e.push(e[r]),e[r]=t),e},[]).map(y)},[O,w(O)])(&quot;sorted&quot;,function(){for(var e=arguments.length,n=Array(e&gt;1?e-1:0),r=1;e&gt;r;r++)n[r-1]=arguments[r];return n.sort(t(&quot;en&quot;))},[x(Number,String),w(x(Number,String))])(&quot;rotated&quot;,function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];return t*=-1,0===t?c.create(&quot;macrocall&quot;,&quot;I can't rotate these values by 0 positions.&quot;):Math.abs(t)&gt;=r.length?c.create(&quot;macrocall&quot;,&quot;I can't rotate these &quot;+r.length+&quot; values by &quot;+t+&quot; positions.&quot;):r.slice(t).concat(r.slice(0,t)).map(y)},[parseInt,O,w(O)])(&quot;repeated&quot;,function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];if(0&gt;=t)return c.create(&quot;macrocall&quot;,&quot;I can't repeat these values &quot;+t+&quot; times.&quot;);for(var o=[];t--&gt;0;)o.push.apply(o,r);return o.map(y)},[parseInt,w(O)])(&quot;interlaced&quot;,function(){for(var e=arguments.length,t=Array(e&gt;1?e-1:0),n=1;e&gt;n;n++)t[n-1]=arguments[n];for(var r=Math.min.apply(Math,_toConsumableArray(t.map(function(e){return e.length}))),i=[],o=0;r&gt;o;o+=1)for(var a=0;a&lt;t.length;a+=1)i.push(y(t[a][o]));return i},[Array,w(Array)]),n.add(&quot;altered&quot;,function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];return r.map(function(n){return t.apply(e,{loop:n})})},[s.TypeSignature(&quot;via&quot;),w(O)])(&quot;find&quot;,function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];return t.filter(e,r)},[s.TypeSignature(&quot;where&quot;),w(O)])(&quot;all-pass&quot;,function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];var o=t.filter(e,r);return c.containsError(o)||o.length===r.length},[s.TypeSignature(&quot;where&quot;),w(O)])(&quot;some-pass&quot;,function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];var o=t.filter(e,r);return c.containsError(o)||o.length&gt;0},[s.TypeSignature(&quot;where&quot;),w(O)])(&quot;none-pass&quot;,function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];var o=t.filter(e,r);return c.containsError(o)||0===o.length},[s.TypeSignature(&quot;where&quot;),w(O)])(&quot;folded&quot;,function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];return&quot;where&quot;in t&amp;&amp;(r=t.filter(e,r)),c.containsError(r)||r.reduce(function(n,r){return t.apply(e,{making:n,loop:r})})},[x(s.TypeSignature(&quot;where via making&quot;),s.TypeSignature(&quot;via making&quot;)),w(O)]),n.add(&quot;datanames&quot;,function(e,n){return Array.from(n.keys()).sort(t(&quot;en&quot;))},[Map])(&quot;datavalues&quot;,function(e,n){return Array.from(n.entries()).sort(function(e,n){return[e[0],n[0]].sort(t(&quot;en&quot;))[0]===e[0]?-1:1}).map(function(e){return y(e[1])})},[Map])(&quot;dataentries&quot;,function(e,n){return Array.from(n.entries()).sort(function(e,n){return[e[0],n[0]].sort(t(&quot;en&quot;))[0]===e[0]?-1:1}).map(function(e){return new Map([[&quot;name&quot;,e[0]],[&quot;value&quot;,y(e[1])]])})},[Map])(&quot;history&quot;,function(){return i.pastPassageNames()},[])(&quot;passage&quot;,function(e,t){return y(a.get(t||i.passage))||c.create(&quot;macrocall&quot;,&quot;There's no passage named '&quot;+t+&quot;' in this story.&quot;)},[b(String)])(&quot;savedgames&quot;,function(){function e(e){return&quot;(&quot;+e+&quot; &quot;+o.options.ifid+&quot;) &quot;}var t=0,n=void 0,r=new Map;do{n=localStorage.key(t),t+=1;var i=e(&quot;Saved Game&quot;);n&amp;&amp;n.startsWith(i)&amp;&amp;(n=n.slice(i.length),r.set(n,localStorage.getItem(e(&quot;Saved Game Filename&quot;)+n)))}while(n);return r},[])([&quot;datamap&quot;,&quot;dm&quot;],function(){for(var e=arguments.length,t=Array(e&gt;1?e-1:0),n=1;e&gt;n;n++)t[n-1]=arguments[n];var r=void 0,i=new Map,o=t.reduce(function(e,t){var n=void 0;if(c.containsError(e))return e;if(void 0===r)r=t;else{if(n=c.containsError(h(i,r)))return n;if(i.has(r))return c.create(&quot;macrocall&quot;,&quot;You used the same data name (&quot;+f(r)+&quot;) twice in the same (datamap:) call.&quot;);i.set(r,y(t)),r=void 0}return e},!0);return c.containsError(o)?o:void 0!==r?c.create(&quot;macrocall&quot;,&quot;This datamap has a data name without a value.&quot;):i},T(O))([&quot;dataset&quot;,&quot;ds&quot;],function(){for(var e=arguments.length,t=Array(e&gt;1?e-1:0),n=1;e&gt;n;n++)t[n-1]=arguments[n];return new Set(t.filter(g).map(y))},T(O))(&quot;count&quot;,function e(t,n){for(var r=arguments.length,i=Array(r&gt;2?r-2:0),o=2;r&gt;o;o++)i[o-2]=arguments[o];if(i.length&gt;1){var a=void 0,s=i.map(function(r){return e(t,n,r)});return(a=c.containsError(s))?a:s.reduce(function(e,t){return e+t},0)}var u=i[0];switch(d(n)){case&quot;dataset&quot;:case&quot;datamap&quot;:return c.create(&quot;macrocall&quot;,&quot;(count:) shouldn't be given a datamap or dataset.&quot;,&quot;You should use the 'contains' operator instead. For instance, write: $variable contains 'value'.&quot;);case&quot;string&quot;:return&quot;string&quot;!=typeof u?c.create(&quot;macrocall&quot;,f(n)+&quot; can't contain  &quot;+f(u)+&quot; because it isn't a string.&quot;):u?n.split(u).length-1:0;case&quot;array&quot;:return n.reduce(function(e,t){return e+m(t,u)},0);default:return c.create(&quot;macrocall&quot;,f(n)+&quot; can't contain values, let alone &quot;+f(u)+&quot;.&quot;)}},[O,w(O)])}),define(&quot;macrolib/stylechangers&quot;,[&quot;jquery&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/changercommand&quot;,&quot;datatypes/lambda&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,o,a,s,u){var c=t.TypeSignature,l=c.either,f=c.wrapped,p=c.rest,d=c.Any,h=[f(Boolean,'If you gave a number, you may instead want to check that the number is not 0. If you gave a string, you may instead want to check that the string is not &quot;&quot;.')];e(function(){return e(n.storyElement).on(&quot;mouseenter.hover-macro&quot;,&quot;[hover=false]&quot;,function(){var t=e(this),n=t.data(&quot;hoverChanger&quot;);t.data({mouseoutStyle:t.attr(&quot;style&quot;)||&quot;&quot;}),s.create({target:t},n).update(),t.attr(&quot;hover&quot;,!0)}).on(&quot;mouseleave.hover-macro&quot;,&quot;[hover=true]&quot;,function(){var t=e(this),n=t.data(&quot;mouseoutStyle&quot;);t.attr(&quot;style&quot;,n).removeData(&quot;mouseoutStyle&quot;).attr(&quot;hover&quot;,!1)})});var m=[&quot;dissolve&quot;,&quot;shudder&quot;,&quot;pulse&quot;];t.addChanger(&quot;if&quot;,function(e,t){return o.create(&quot;if&quot;,[t])},function(e,t){return e.enabled=e.enabled&amp;&amp;t},h)(&quot;unless&quot;,function(e,t){return o.create(&quot;unless&quot;,[!t])},function(e,t){return e.enabled=e.enabled&amp;&amp;t},h)(&quot;elseif&quot;,function(e,t){return&quot;lastHookShown&quot;in e.stack[0]?o.create(&quot;elseif&quot;,[e.stack[0].lastHookShown===!1&amp;&amp;!!t]):u.create(&quot;macrocall&quot;,&quot;There's no (if:) or something else before this to do (else-if:) with.&quot;)},function(e,t){return e.enabled=e.enabled&amp;&amp;t},h)(&quot;else&quot;,function(e){return&quot;lastHookShown&quot;in e.stack[0]?o.create(&quot;else&quot;,[e.stack[0].lastHookShown===!1]):u.create(&quot;macrocall&quot;,&quot;There's nothing before this to do (else:) with.&quot;)},function(e,t){return e.enabled=e.enabled&amp;&amp;t},null)(&quot;hidden&quot;,function(){return o.create(&quot;hidden&quot;)},function(e){return e.enabled=!1},null)(&quot;hook&quot;,function(e,t){return o.create(&quot;hook&quot;,[t])},function(e,t){return e.attr.push({name:t})},[String])([&quot;for&quot;,&quot;loop&quot;],function(e,t){for(var n=arguments.length,r=Array(n&gt;2?n-2:0),i=2;n&gt;i;i++)r[i-2]=arguments[i];return t.loop?o.create(&quot;for&quot;,[t,r]):u.create(&quot;macrocall&quot;,&quot;The lambda provided to (for:) must refer to a temp variable, not just 'it'.&quot;)},function(e,t,n){return e.loopVars[t.loop]=t.filter(e.section,n)},[a.TypeSignature(&quot;where&quot;),p(d)])([&quot;transition&quot;,&quot;t8n&quot;],function(e,t){return t=n.insensitiveName(t),-1===m.indexOf(t)?u.create(&quot;macrocall&quot;,&quot;'&quot;+t+&quot;' is not a valid (transition:)&quot;,&quot;Only the following names are recognised (capitalisation and hyphens ignored): &quot;+m.join(&quot;, &quot;)):o.create(&quot;transition&quot;,[t])},function(e,t){return e.transition=t,e},[String])([&quot;transition-time&quot;,&quot;t8n-time&quot;],function(e,t){return 0&gt;=t?u.create(&quot;macrocall&quot;,&quot;(transition-time:) should be a positive number of (milli)seconds, not &quot;+t):o.create(&quot;transition-time&quot;,[t])},function(e,t){return e.transitionTime=t,e},[Number])(&quot;font&quot;,function(e,t){return o.create(&quot;font&quot;,[t])},function(e,t){return e.styles.push({&quot;font-family&quot;:t}),e},[String])(&quot;align&quot;,function(e,t){var n=void 0,r=t.indexOf(&quot;&gt;&lt;&quot;);if(!/^(==+&gt;|&lt;=+|=+&gt;&lt;=+|&lt;==+&gt;)$/.test(t))return u.create(&quot;macrocall&quot;,'The (align:) macro requires an alignment arrow (&quot;==&gt;&quot;, &quot;&lt;==&quot;, &quot;==&gt;&lt;=&quot; etc.) be provided, not &quot;'+t+'&quot;');if(~r){var i=Math.round(r/(t.length-2)*50);n=Object.assign({&quot;text-align&quot;:&quot;center&quot;,&quot;max-width&quot;:&quot;50%&quot;},25===i?{&quot;margin-left&quot;:&quot;auto&quot;,&quot;margin-right&quot;:&quot;auto&quot;}:{&quot;margin-left&quot;:i+&quot;%&quot;})}else n=&quot;&lt;&quot;===t[0]&amp;&amp;&quot;&gt;&quot;===t.slice(-1)?{&quot;text-align&quot;:&quot;justify&quot;,&quot;max-width&quot;:&quot;50%&quot;}:t.includes(&quot;&gt;&quot;)?{&quot;text-align&quot;:&quot;right&quot;}:{&quot;text-align&quot;:&quot;left&quot;};return n.display=&quot;block&quot;,o.create(&quot;align&quot;,[n])},function(e,t){e.styles.push(t)},[String])([&quot;text-colour&quot;,&quot;text-color&quot;,&quot;color&quot;,&quot;colour&quot;],function(e,t){return i.isPrototypeOf(t)&amp;&amp;(t=t.toRGBAString(t)),o.create(&quot;text-colour&quot;,[t])},function(e,t){return e.styles.push({color:t}),e},[l(String,i)])(&quot;text-rotate&quot;,function(e,t){return o.create(&quot;text-rotate&quot;,[t])},function(t,n){return t.styles.push({display:&quot;inline-block&quot;,transform:function(){var t=e(this).css(&quot;transform&quot;)||&quot;&quot;;return&quot;none&quot;===t&amp;&amp;(t=&quot;&quot;),t+&quot; rotate(&quot;+n+&quot;deg)&quot;}}),t},[Number])(&quot;background&quot;,function(e,t){return i.isPrototypeOf(t)&amp;&amp;(t=t.toRGBAString(t)),o.create(&quot;background&quot;,[t])},function(t,r){var o=void 0;return o=i.isHexString(r)||i.isCSS3Function(r)?{&quot;background-color&quot;:r}:{&quot;background-size&quot;:&quot;cover&quot;,&quot;background-image&quot;:&quot;url(&quot;+r+&quot;)&quot;},t.styles.push(o,{display:function(){return n.childrenProbablyInline(e(this))?&quot;initial&quot;:&quot;block&quot;}}),t},[l(String,i)]).apply(void 0,_toConsumableArray(function(){var t={color:&quot;transparent&quot;},r=Object.assign(Object.create(null),{none:{},bold:{&quot;font-weight&quot;:&quot;bold&quot;},italic:{&quot;font-style&quot;:&quot;italic&quot;},underline:{&quot;text-decoration&quot;:&quot;underline&quot;},strike:{&quot;text-decoration&quot;:&quot;line-through&quot;},superscript:{&quot;vertical-align&quot;:&quot;super&quot;,&quot;font-size&quot;:&quot;.83em&quot;},subscript:{&quot;vertical-align&quot;:&quot;sub&quot;,&quot;font-size&quot;:&quot;.83em&quot;},blink:{animation:&quot;fade-in-out 1s steps(1,end) infinite alternate&quot;},shudder:{animation:&quot;shudder linear 0.1s 0s infinite&quot;,display:&quot;inline-block&quot;},mark:{&quot;background-color&quot;:&quot;hsla(60, 100%, 50%, 0.6)&quot;},condense:{&quot;letter-spacing&quot;:&quot;-0.08em&quot;},expand:{&quot;letter-spacing&quot;:&quot;0.1em&quot;},outline:[{&quot;text-shadow&quot;:function(){var t=e(this).css(&quot;color&quot;);return&quot;-1px -1px 0 &quot;+t+&quot;, 1px -1px 0 &quot;+t+&quot;,-1px  1px 0 &quot;+t+&quot;, 1px  1px 0 &quot;+t}},{color:function(){for(var t=e(this);t.length&amp;&amp;t[0]!==document;t=t.parent()){var n=t.css(&quot;background-color&quot;);if(&quot;transparent&quot;!==n&amp;&amp;!n.match(/^\w+a\(.+?,\s*0\s*\)$/))return n}return&quot;#fff&quot;}}],shadow:{&quot;text-shadow&quot;:function(){return&quot;0.08em 0.08em 0.08em &quot;+e(this).css(&quot;color&quot;)}},emboss:{&quot;text-shadow&quot;:function(){return&quot;0.08em 0.08em 0em &quot;+e(this).css(&quot;color&quot;)}},smear:[{&quot;text-shadow&quot;:function(){var t=e(this).css(&quot;color&quot;);return&quot;0em   0em 0.02em &quot;+t+&quot;,-0.2em 0em  0.5em &quot;+t+&quot;, 0.2em 0em  0.5em &quot;+t}},t],blur:[{&quot;text-shadow&quot;:function(){return&quot;0em 0em 0.08em &quot;+e(this).css(&quot;color&quot;)}},t],blurrier:[{&quot;text-shadow&quot;:function(){return&quot;0em 0em 0.2em &quot;+e(this).css(&quot;color&quot;)},&quot;user-select&quot;:&quot;none&quot;},t],mirror:{display:&quot;inline-block&quot;,transform:&quot;scaleX(-1)&quot;},upsidedown:{display:&quot;inline-block&quot;,transform:&quot;scaleY(-1)&quot;},fadeinout:{animation:&quot;fade-in-out 2s ease-in-out infinite alternate&quot;},rumble:{animation:&quot;rumble linear 0.1s 0s infinite&quot;,display:&quot;inline-block&quot;}});return[&quot;text-style&quot;,function(e,t){return t=n.insensitiveName(t),t in r?o.create(&quot;text-style&quot;,[t]):u.create(&quot;macrocall&quot;,&quot;'&quot;+t+&quot;' is not a valid (text-style:)&quot;,&quot;Only the following names are recognised (capitalisation and hyphens ignored): &quot;+Object.keys(r).join(&quot;, &quot;))},function(e,t){return n.assertMustHave(r,[t]),e.styles=&quot;none&quot;===t?[]:e.styles.concat(r[t]),e}]}()).concat([[String]]))(&quot;hover-style&quot;,function(e,t){var n=s.create(),r=(t.run(n),n.summary());return r+&quot;&quot;==&quot;styles&quot;||r.every(function(e){return&quot;styles&quot;===e||&quot;attr&quot;===e})&amp;&amp;n.attr.every(function(e){return Object.keys(e)+&quot;&quot;==&quot;style&quot;})?o.create(&quot;hover-style&quot;,[t]):u.create(&quot;macrocall&quot;,&quot;The changer given to (hover-style:) must only change the hook's style.&quot;)},function(e,t){return e.data.hoverChanger=t,e.attr.push({hover:!1}),e},[o])(&quot;css&quot;,function(e,t){return t.trim().endsWith(&quot;;&quot;)||(t+=&quot;;&quot;),o.create(&quot;css&quot;,[t])},function(t,n){return t.attr.push({style:function(){return(e(this).attr(&quot;style&quot;)||&quot;&quot;)+n}}),t},[String])}),define(&quot;internaltypes/enchantment&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;internaltypes/changedescriptor&quot;],function(e,t,n){var r={create:function(n){return t.assertOnlyHas(n,[&quot;scope&quot;,&quot;section&quot;,&quot;attr&quot;,&quot;data&quot;,&quot;changer&quot;,&quot;functions&quot;]),Object.assign(Object.create(this),{enchantments:e()},n)},enchantScope:function(){var r=this,i=this.attr,o=this.data,a=this.functions,s=this.section,u=this.changer,c=this.scope;c instanceof e&amp;&amp;(c=Array.prototype.map.call(c,function(t){return e(t)})),this.enchantments=e(),c.forEach(s,function(e){var s=e.wrapAll(&quot;&lt;tw-enchantment&gt;&quot;).parent();if(i&amp;&amp;s.attr(i),o&amp;&amp;s.data(o),a&amp;&amp;a.forEach(function(e){return e(s)}),u){var c=n.create({target:s});if(u.run(c),c.update(),e.is(t.storyElement)){var l=Object.keys(Object.assign.apply(Object,[{}].concat(_toConsumableArray(c.styles))));e.css(l.reduce(function(e,t){return e[t]=&quot;inherit&quot;,e},{})),s.data({enchantedProperties:l})}}e.is(t.storyElement)&amp;&amp;s.css({width:&quot;100%&quot;,height:&quot;100%&quot;}),r.enchantments=r.enchantments.add(s)})},disenchant:function(){this.enchantments.each(function(){var n=e(this).contents();n.unwrap();var r=e(this).data(&quot;enchantedProperties&quot;);r&amp;&amp;n.has(t.storyElement)&amp;&amp;t.storyElement.css(r.reduce(function(e,t){return e[t]=&quot;&quot;,e},{}))})}};return Object.freeze(r)}),define(&quot;macrolib/enchantments&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;utils/operationutils&quot;,&quot;macros&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/changercommand&quot;,&quot;internaltypes/enchantment&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,o,a,s,u){
function c(n,r){return e(function(){t.storyElement.on(n.event+&quot;.enchantment&quot;,&quot;.&quot;+n.classList.replace(/ /g,&quot;.&quot;),function(){var t=e(this),n=t.data(&quot;enchantmentEvent&quot;);n&amp;&amp;n(t)})}),[function(){for(var e=arguments.length,t=Array(e&gt;1?e-1:0),n=1;e&gt;n;n++)t[n-1]=arguments[n];return t.every(Boolean)?a.create(r,t.map(o.from)):u.create(&quot;datatype&quot;,&quot;A string given to this (&quot;+r+&quot;:) macro was empty.&quot;)},function(e,t){e.enabled=!1,n.rerender&amp;&amp;(e.newTargets=(e.newTargets||[]).concat({target:t,append:n.rerender}));var r=s.create({functions:[function(e){e.attr(&quot;class&quot;,e.children().is(&quot;tw-story, tw-sidebar, tw-passage&quot;)?n.blockClassList:n.classList)}],attr:(n.classList+&quot;&quot;).match(/\b(?:link|enchantment-clickblock)\b/)?{tabIndex:&quot;0&quot;}:{},data:{enchantmentEvent:function(){if(n.once){var t=e.section.enchantments.indexOf(r);e.section.enchantments.splice(t,1),r.disenchant()}e.section.renderInto(e.source,null,Object.assign({},e,{enabled:!0}))}},scope:t,section:e.section});return e.section.enchantments.push(r),r.enchantScope(),e},p(o,String)]}var l=r.is,f=i.TypeSignature,p=f.either,d=f.rest;i.add(&quot;enchant&quot;,function(e,t,n){return{TwineScript_ObjectName:&quot;an (enchant:) command&quot;,TwineScript_TypeName:&quot;an (enchant:) command&quot;,TwineScript_Print:function(){var r=s.create({scope:o.from(t),changer:n,section:e});return e.enchantments.push(r),r.enchantScope(),&quot;&quot;}}},[p(o,String),a]);var h=[&quot;replace&quot;,&quot;append&quot;,&quot;prepend&quot;];h.forEach(function(t){i.addChanger(t,function(){for(var e=arguments.length,n=Array(e&gt;1?e-1:0),r=1;e&gt;r;r++)n[r-1]=arguments[r];return n.every(Boolean)?a.create(t,n.map(o.from)):u.create(&quot;datatype&quot;,&quot;A string given to this (&quot;+t+&quot;:) macro was empty.&quot;)},function(n){for(var r,i=arguments.length,o=Array(i&gt;1?i-1:0),a=1;i&gt;a;a++)o[a-1]=arguments[a];var s=e(n.target).parents().filter(&quot;tw-collapsed&quot;).length&gt;0;return s||(n.attr=[].concat(_toConsumableArray(n.attr),[{collapsing:!1}])),n.newTargets=n.newTargets||[],(r=n.newTargets).push.apply(r,_toConsumableArray(o.filter(function(e){return!n.newTargets.some(function(n){var r=n.target,i=n.append;return l(e,r)&amp;&amp;t===i})}).map(function(e){return{target:e,append:t}}))),n},d(p(o,String)))}),e(function(){t.storyElement.on(&quot;click.enchantment&quot;,function(){Array.from(e(this).parents(&quot;.enchantment-clickblock&quot;)).sort(function(e,t){return 8&amp;e.compareDocumentPosition(t)?1:-1}).forEach(function(t){var n=e(t).data(&quot;enchantmentEvent&quot;);n&amp;&amp;n()})})});var m=[{name:&quot;click&quot;,enchantDesc:{event:&quot;click&quot;,once:!0,rerender:&quot;&quot;,classList:&quot;link enchantment-link&quot;,blockClassList:&quot;enchantment-clickblock&quot;}},{name:&quot;mouseover&quot;,enchantDesc:{event:&quot;mouseenter&quot;,once:!0,rerender:&quot;&quot;,classList:&quot;enchantment-mouseover&quot;}},{name:&quot;mouseout&quot;,enchantDesc:{event:&quot;mouseleave&quot;,once:!0,rerender:&quot;&quot;,classList:&quot;enchantment-mouseout&quot;}}];m.forEach(function(e){return i.addChanger.apply(i,[e.name].concat(_toConsumableArray(c(e.enchantDesc,e.name))))}),h.forEach(function(e){m.forEach(function(t){var n=Object.assign({},t.enchantDesc,{rerender:e}),r=t.name+&quot;-&quot;+e;i.addChanger.apply(i,[r].concat(_toConsumableArray(c(n,r))))})})}),define(&quot;macrolib/links&quot;,[&quot;jquery&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;state&quot;,&quot;passages&quot;,&quot;engine&quot;,&quot;datatypes/changercommand&quot;,&quot;internaltypes/twineerror&quot;],function(e,t,n,r,i,o,a,s,u){var c=t.TypeSignature.optional,l=&quot;Links can't have empty strings for their displayed text.&quot;;e(function(){return e(n.storyElement).on(&quot;click.passage-link&quot;,r.internalLink,function(){var t=e(this),n=t.parent().data(&quot;clickEvent&quot;);if(n)return void n(t);var r=t.attr(&quot;passage-name&quot;);return r?void a.goToPassage(r,!1):t.is(&quot;[undo]&quot;)?void a.goBack():void 0})}),[[&quot;link&quot;,&quot;link-replace&quot;],[&quot;link-reveal&quot;],[&quot;link-repeat&quot;]].forEach(function(e){return t.addChanger(e,function(t,n){return n?s.create(e[0],[n]):u.create(&quot;macrocall&quot;,l)},function(t,n){t.innerSource||(t.innerSource=t.source),t.source=&quot;&lt;tw-link tabindex=0&gt;&quot;+n+&quot;&lt;/tw-link&gt;&quot;,t.append=&quot;link&quot;===e[0]?&quot;replace&quot;:&quot;append&quot;,t.data.clickEvent=function(n){t.source=t.innerSource,t.section.renderInto(t.innerSource+&quot;&quot;,null,t),&quot;link-reveal&quot;===e[0]&amp;&amp;n.contents().unwrap()}},[String])}),t.add([&quot;link-goto&quot;],function(t,r,a){return r?{TwineScript_TypeName:&quot;a (link-goto: &quot;+n.toJSLiteral(r)+&quot;, &quot;+n.toJSLiteral(a)+&quot;) command&quot;,TwineScript_ObjectName:&quot;a (link-goto:) command&quot;,TwineScript_Print:function(){var s=t.evaluateTwineMarkup(n.unescape(a||r));if(s instanceof e)return s;if(!o.has(s))return'&lt;tw-broken-link passage-name=&quot;'+n.escape(s)+'&quot;&gt;'+(r||a)+&quot;&lt;/tw-broken-link&gt;&quot;;var u=i.passageNameVisited(s);return&quot;&lt;tw-link tabindex=0 &quot;+(u&gt;0?'class=&quot;visited&quot; ':&quot;&quot;)+'passage-name=&quot;'+n.escape(s)+'&quot;&gt;'+(r||a)+&quot;&lt;/tw-link&gt;&quot;}}:u.create(&quot;macrocall&quot;,l)},[String,c(String)])(&quot;link-undo&quot;,function(e,t){return t?{TwineScript_ObjectName:&quot;a (link-undo:&quot;+n.toJSLiteral(t)+&quot;) command&quot;,TwineScript_TypeName:&quot;a (link-undo:) command&quot;,TwineScript_Print:function(){return i.pastLength&lt;1?u.create(&quot;macrocall&quot;,&quot;I can't use (link-undo:) on the first turn.&quot;):&quot;&lt;tw-link tabindex=0 undo&gt;&quot;+t+&quot;&lt;/tw-link&gt;&quot;}}:u.create(&quot;macrocall&quot;,l)},[String])}),define(&quot;repl&quot;,[&quot;utils&quot;,&quot;markup&quot;,&quot;twinescript/compiler&quot;,&quot;twinescript/environ&quot;],function(e,t,n,r){window.REPL=function(e){var i=n(t.lex(&quot;(print:&quot;+e+&quot;)&quot;));console.log(i);var o=r({}).eval(i);return o.TwineScript_Print?o.TwineScript_Print():o},window.LEX=function(e){var n=t.lex(e);return 1===n.length?n[0]:n}}),require.config({paths:{jquery:&quot;../node_modules/jquery/dist/jquery&quot;,almond:&quot;../node_modules/almond/almond&quot;,&quot;es6-shim&quot;:&quot;../node_modules/es6-shim/es6-shim&quot;,requestAnimationFrame:&quot;../node_modules/requestanimationframe/app/requestAnimationFrame&quot;,jqueryplugins:&quot;utils/jqueryplugins&quot;,markup:&quot;./markup/markup&quot;,lexer:&quot;./markup/lexer&quot;,patterns:&quot;./markup/patterns&quot;},deps:[&quot;jquery&quot;,&quot;es6-shim&quot;,&quot;jqueryplugins&quot;]}),require([&quot;jquery&quot;,&quot;debugmode&quot;,&quot;renderer&quot;,&quot;state&quot;,&quot;engine&quot;,&quot;passages&quot;,&quot;utils/selectors&quot;,&quot;macros&quot;,&quot;macrolib/values&quot;,&quot;macrolib/commands&quot;,&quot;macrolib/datastructures&quot;,&quot;macrolib/stylechangers&quot;,&quot;macrolib/enchantments&quot;,&quot;macrolib/links&quot;,&quot;repl&quot;],function($,DebugMode,Renderer,State,Engine,Passages,Selectors){function _eval(text){return eval(text+&quot;&quot;)}var _installHandlers=function(){var e=$(document.documentElement);e.on(&quot;keydown&quot;,function(e){13===e.which&amp;&amp;&quot;0&quot;===e.target.getAttribute(&quot;tabindex&quot;)&amp;&amp;$(e.target).trigger(&quot;click&quot;)}),Engine.options.debug&amp;&amp;DebugMode(),_installHandlers=null};!function(e){window.onerror=function(t,n,r,i,o){var a=o&amp;&amp;o.stack&amp;&amp;&quot;\n&quot;+o.stack.replace(/\([^\)]+\)/g,&quot;&quot;)+&quot;\n&quot;||&quot;(&quot;+t+&quot;)\n&quot;;alert(&quot;Sorry to interrupt, but this page's code has got itself in a mess. &quot;+a+&quot;(This is probably due to a bug in the Harlowe game engine.)&quot;),window.onerror=e,&quot;function&quot;==typeof e&amp;&amp;e.apply(void 0,arguments)}}(window.onerror),$(function(){var e=$(Selectors.storyData);if(0!==e.length){var t=e.attr(&quot;options&quot;);t&amp;&amp;t.split(/\s/).forEach(function(e){Renderer.options[e]=Engine.options[e]=!0});var n=e.attr(&quot;startnode&quot;);return Renderer.options.ifid=Engine.options.ifid=e.attr(&quot;ifid&quot;),n||(n=[].reduce.call($(Selectors.passageData),function(e,t){var n=t.getAttribute(&quot;pid&quot;);return e&gt;n?n:e},1/0)),n=$(Selectors.passageData+&quot;[pid=&quot;+n+&quot;]&quot;).attr(&quot;name&quot;),_installHandlers(),$(Selectors.script).each(function(e){try{_eval($(this).html())}catch(t){alert(&quot;There is a problem with this story's script (#&quot;+(e+1)+&quot;):\n\n&quot;+t.message)}}),$(Selectors.stylesheet).each(function(e){$(document.head).append('&lt;style data-title=&quot;Story stylesheet '+(e+1)+'&quot;&gt;'+$(this).html())}),window.location.hash&amp;&amp;!window.location.hash.includes(&quot;stories&quot;)&amp;&amp;State.load(window.location.hash)?void Engine.showPassage(State.passage):void Engine.goToPassage(n)}})}),define(&quot;harlowe&quot;,function(){}),require([&quot;harlowe&quot;])}();&lt;/script&gt;


&lt;/body&gt;
&lt;/html&gt;
</description>
        <pubDate>Fri, 07 Jul 2017 11:11:11 +0800</pubDate>
        <link>http://localhost:4000/2017/07/The-Ugly-Duckling/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/07/The-Ugly-Duckling/</guid>
        
        <category>评论,生活,游戏</category>
        
        
      </item>
    
      <item>
        <title>嗨！我回来了。</title>
        <description>&lt;h2 id=&quot;引子&quot;&gt;引子&lt;/h2&gt;
&lt;p&gt;嗨！我回来了……停更的这段时间思考了一下，自己做这个公众号的目的到底是什么。如果仅仅只是为了完成任务而完成任务的话，写这些东西的时间还不如用来干其他的事情。所以呢，我会对着个公众号进行一定程度的调整。当然，每个月还是会至少更新一点东西。但是，东西的内容为了保证质量，也许不会很长，内容也不会过于的丰富。主要还是围绕着自己的一些想法展开。还有，几经思考，只有我是这个公众号的运维者，因此我将在以后的文章中以“我”自称。&lt;br /&gt;
嗯，当然，作为一个懒到图都不想找的人，今后的推送更新也许会是更大篇幅的文章，并且在图片和文字的比例上会渐渐失衡……（我会尽量找些图片来美化一下下的XD）&lt;/p&gt;

&lt;h2 id=&quot;关于看电影玩游戏听音乐这样的娱乐活动的思考&quot;&gt;关于看电影、玩游戏、听音乐这样的娱乐活动的思考&lt;/h2&gt;
&lt;p&gt;随着年龄增长，我对看电影、玩游戏、听音乐这样的娱乐方式的思考也慢慢增加。本来这些所谓娱乐活动对我来说可能更多的就是“图个爽快”和“放松自己”，顺便把自己的精神世界带到另外一个地方，短暂的离开周围生活给我带来的一些困扰（当然现在很大成分也是如此）。但是呢，人长大了，想的更多一点，也开始在观影、玩游戏、听歌的过程和结束以后思考更多。比如，我在电影结束后会去思考：剧中的摄影是如何完成的，导演对于剧本有什么样的理解，演员在演出过程中时如何把感情展现出来的，电影的剧情的意义是什么……玩游戏、听音乐也大抵类似。&lt;br /&gt;
这样的思考是源自于以前语文课上学到的阅读理解，在此特别感谢我的历任班主任们:D。&lt;br /&gt;
然而在这样的思考背后，我发现我难以把我的想法用言语准确的表达出来，写出来的字说出来的话破碎而零散。出于这样的自觉，我想要通过“练习”，也就是写推文把自己的表达能力提升一点档次，起码能和自己想的达成一致。&lt;/p&gt;

&lt;h2 id=&quot;关于奥斯卡&quot;&gt;关于奥斯卡&lt;/h2&gt;
&lt;p&gt;今年算是我头一次认真的关注了一次奥斯卡。虽然颁奖典礼因为上课也只看了最后部分，但是在寒假期间我还是把所有的最佳影片的提名（除《隐藏人物》）都看了一遍。可以说还是有点感受。&lt;/p&gt;
&lt;h3 id=&quot;月光男孩&quot;&gt;月光男孩&lt;/h3&gt;
&lt;p&gt;最佳影片发给哪部影片这个东西真的很不好得说。事实上对于今年把最佳影片这个奖项颁发给《月光男孩》虽然说有些争议（特别是在国内范围内），但是这部影片也确确实实的讲述了一个意味深长的故事（人应该怎么活着、社会环境对一个人成长所造成的影响……），更是在话题性和政治正确上拔得头筹。&lt;br /&gt;
今年是一个黑人影片竞相争锋的一年，有话剧改编的有着爆表演技展现的《藩篱》；也有讲述黑人女科学自强不息为国家作出伟大贡献的《隐藏人物》；也有这部聚焦于黑人同性恋成长和思考的《月光男孩》。（哦对了还有一个叫做《我不是你的黑鬼》的纪录片得到了最佳纪录片的提名）&lt;br /&gt;
在我看来，《月光男孩》是一部优秀的电影，分段式的叙事结构、有时出乎人意料的剧情走向、走心的情感描写都让这部电影呈现出十分强烈的真实感，观众也能够很快的进入Chiron这个角色，甚至在内心不自觉的和Chiron作出相似的选择。这大概也是《月光男孩》能够得到如此盛赞的原因吧。&lt;br /&gt;
最佳影片是谁重要吗？嗯……我觉得是不太重要啦。还是要看完这部电影你能有所触动，有所感受，这就足够了。&lt;/p&gt;
&lt;h3 id=&quot;爱乐之城&quot;&gt;爱乐之城&lt;/h3&gt;
&lt;p&gt;赞美这部作品！&lt;br /&gt;
怎么说呢，《爱乐之城》是我觉得这届奥斯卡最佳影片中三观最正的。也许是因为它不是那么的含蓄，情感表现上更加的直接明了。当然！还有它的调色和配乐！音乐没什么可说的（对一个爵士门外汉来说），影片那种复古的胶片颗粒感和如梦似幻的配色真的很棒……&lt;br /&gt;
嗯多的就不说了，大家应该都看过嘿嘿嘿。《City of Stars》循环起来～&lt;/p&gt;
&lt;h3 id=&quot;海边的曼彻斯特&quot;&gt;海边的曼彻斯特&lt;/h3&gt;
&lt;p&gt;看完这部电影整个人是懵的……当你觉得你的生活一团糟，迷茫的不得了的时候，一个叫做卡西·阿弗莱克的男人站在了你的面前，用他神乎其神的演技告诉你，《海边》的男主——李比你惨多了。卡西在《海边》里的表现无愧于奥斯卡影帝的盛誉。&lt;br /&gt;
这是一个丧的不能再丧的人生故事了，也许只有经历过失望和低潮的人能在看完这部电影之后变得更加乐观一些。&lt;br /&gt;
轶事：这部由马特·戴蒙监制的影片本来呆萌打算自己演出的，然而由于拍片档期（《Jason Bourne》、《长城》）十分紧张，呆萌只好退而求其次让其好友卡西出演男主。呆萌知道卡西是影帝以后，会不会为自己的这一选择感到后悔呢哈哈。&lt;/p&gt;

&lt;h2 id=&quot;秒了&quot;&gt;秒了&lt;/h2&gt;
&lt;p&gt;渡过了一段低潮，游戏业界又开始出现不少佳作。其中以最近的《仁王(Ni-Oh)》、《地平线：零点黎明(Horizon Zero Dawn)》和《塞尔达传说：荒野之息(Legend of Zelda: Breath of the Wind)》为代表的RPG游戏可谓是抢尽风头。&lt;br /&gt;
于是乎，曾今风靡于PS4吧的表情包——“垃圾！《血源》（2015年发售PS4独占Souls-Like游戏）秒了”死灰复燃，进而转化为了“垃圾！《仁王》秒了”、“垃圾！《地平线》秒了”和“塞尔达：‘我把你们都秒了’”的超级表情包大战，更有网友做出了各个游戏互相秒杀的关系示意图。&lt;br /&gt;
这边撕的痛快，玩家也确实玩的舒爽。谁不开心呢？&lt;/p&gt;
</description>
        <pubDate>Sun, 16 Apr 2017 11:11:11 +0800</pubDate>
        <link>http://localhost:4000/2017/04/%E5%97%A8-%E6%88%91%E5%9B%9E%E6%9D%A5%E4%BA%86/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/04/%E5%97%A8-%E6%88%91%E5%9B%9E%E6%9D%A5%E4%BA%86/</guid>
        
        <category>评论,生活,游戏</category>
        
        
      </item>
    
  </channel>
</rss>
